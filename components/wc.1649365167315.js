!function(){"use strict";var n,s={},_={};function t(n){var e=_[n];if(void 0!==e)return e.exports;var r=_[n]={exports:{}};return s[n](r,r.exports,t),r.exports}t.m=s,n=[],t.O=function(e,r,c,f){if(!r){var a=1/0;for(u=0;u<n.length;u++){r=n[u][0],c=n[u][1],f=n[u][2];for(var l=!0,o=0;o<r.length;o++)(!1&f||a>=f)&&Object.keys(t.O).every(function(b){return t.O[b](r[o])})?r.splice(o--,1):(l=!1,f<a&&(a=f));if(l){n.splice(u--,1);var i=c();void 0!==i&&(e=i)}}return e}f=f||0;for(var u=n.length;u>0&&n[u-1][2]>f;u--)n[u]=n[u-1];n[u]=[r,c,f]},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,{a:e}),e},t.d=function(n,e){for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},function(){var n={666:0};t.O.j=function(c){return 0===n[c]};var e=function(c,f){var o,i,u=f[0],a=f[1],l=f[2],v=0;for(o in a)t.o(a,o)&&(t.m[o]=a[o]);if(l)var p=l(t);for(c&&c(f);v<u.length;v++)t.o(n,i=u[v])&&n[i]&&n[i][0](),n[u[v]]=0;return t.O(p)},r=self.webpackChunkcomponents=self.webpackChunkcomponents||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}()}();
(self.webpackChunkcomponents=self.webpackChunkcomponents||[]).push([[429],{2364:function(){(function(){"use strict";var d=window.Document.prototype.createElement,E=window.Document.prototype.createElementNS,w=window.Document.prototype.importNode,N=window.Document.prototype.prepend,U=window.Document.prototype.append,O=window.DocumentFragment.prototype.prepend,z=window.DocumentFragment.prototype.append,G=window.Node.prototype.cloneNode,D=window.Node.prototype.appendChild,K=window.Node.prototype.insertBefore,F=window.Node.prototype.removeChild,J=window.Node.prototype.replaceChild,H=Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),V=window.Element.prototype.attachShadow,j=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),x=window.Element.prototype.getAttribute,X=window.Element.prototype.setAttribute,Q=window.Element.prototype.removeAttribute,M=window.Element.prototype.getAttributeNS,Y=window.Element.prototype.setAttributeNS,Z=window.Element.prototype.removeAttributeNS,$=window.Element.prototype.insertAdjacentElement,q=window.Element.prototype.insertAdjacentHTML,vt=window.Element.prototype.prepend,Et=window.Element.prototype.append,tt=window.Element.prototype.before,et=window.Element.prototype.after,nt=window.Element.prototype.replaceWith,ot=window.Element.prototype.remove,wt=window.HTMLElement,P=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),rt=window.HTMLElement.prototype.insertAdjacentElement,it=window.HTMLElement.prototype.insertAdjacentHTML,lt=new Set;function st(t){var e=lt.has(t);return t=/^[a-z][.0-9_a-z]*-[-.0-9_a-z]*$/.test(t),!e&&t}"annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" ").forEach(function(t){return lt.add(t)});var yt=document.contains?document.contains.bind(document):document.documentElement.contains.bind(document.documentElement);function p(t){var e=t.isConnected;if(void 0!==e)return e;if(yt(t))return!0;for(;t&&!(t.__CE_isImportDocument||t instanceof Document);)t=t.parentNode||(window.ShadowRoot&&t instanceof ShadowRoot?t.host:void 0);return!(!t||!(t.__CE_isImportDocument||t instanceof Document))}function k(t){var e=t.children;if(e)return Array.prototype.slice.call(e);for(e=[],t=t.firstChild;t;t=t.nextSibling)t.nodeType===Node.ELEMENT_NODE&&e.push(t);return e}function R(t,e){for(;e&&e!==t&&!e.nextSibling;)e=e.parentNode;return e&&e!==t?e.nextSibling:null}function B(t,e,n){for(var i=t;i;){if(i.nodeType===Node.ELEMENT_NODE){var o=i;e(o);var r=o.localName;if("link"===r&&"import"===o.getAttribute("rel")){if(i=o.import,void 0===n&&(n=new Set),i instanceof Node&&!n.has(i))for(n.add(i),i=i.firstChild;i;i=i.nextSibling)B(i,e,n);i=R(t,o);continue}if("template"===r){i=R(t,o);continue}if(o=o.__CE_shadowRoot)for(o=o.firstChild;o;o=o.nextSibling)B(o,e,n)}i=i.firstChild?i.firstChild:R(t,i)}}function L(){var t=!(null==_||!_.noDocumentConstructionObserver),e=!(null==_||!_.shadyDomFastWalk);this.m=[],this.g=[],this.j=!1,this.shadyDomFastWalk=e,this.I=!t}function T(t,e,n,i){var o=window.ShadyDOM;if(t.shadyDomFastWalk&&o&&o.inUse){if(e.nodeType===Node.ELEMENT_NODE&&n(e),e.querySelectorAll)for(t=o.nativeMethods.querySelectorAll.call(e,"*"),e=0;e<t.length;e++)n(t[e])}else B(e,n,i)}function I(t,e){t.j&&T(t,e,function(n){return g(t,n)})}function g(t,e){if(t.j&&!e.__CE_patched){e.__CE_patched=!0;for(var n=0;n<t.m.length;n++)t.m[n](e);for(n=0;n<t.g.length;n++)t.g[n](e)}}function m(t,e){var n=[];for(T(t,e,function(o){return n.push(o)}),e=0;e<n.length;e++){var i=n[e];1===i.__CE_state?t.connectedCallback(i):A(t,i)}}function f(t,e){var n=[];for(T(t,e,function(o){return n.push(o)}),e=0;e<n.length;e++){var i=n[e];1===i.__CE_state&&t.disconnectedCallback(i)}}function v(t,e,n){var i=(n=void 0===n?{}:n).J,o=n.upgrade||function(l){return A(t,l)},r=[];for(T(t,e,function(l){if(t.j&&g(t,l),"link"===l.localName&&"import"===l.getAttribute("rel")){var s=l.import;s instanceof Node&&(s.__CE_isImportDocument=!0,s.__CE_registry=document.__CE_registry),s&&"complete"===s.readyState?s.__CE_documentLoadHandled=!0:l.addEventListener("load",function(){var c=l.import;if(!c.__CE_documentLoadHandled){c.__CE_documentLoadHandled=!0;var a=new Set;i&&(i.forEach(function(u){return a.add(u)}),a.delete(c)),v(t,c,{J:a,upgrade:o})}})}else r.push(l)},i),e=0;e<r.length;e++)o(r[e])}function A(t,e){try{var n=e.ownerDocument,i=n.__CE_registry,o=i&&(n.defaultView||n.__CE_isImportDocument)?S(i,e.localName):void 0;if(o&&void 0===e.__CE_state){o.constructionStack.push(e);try{try{if(new o.constructorFunction!==e)throw Error("The custom element constructor did not produce the element being upgraded.")}finally{o.constructionStack.pop()}}catch(c){throw e.__CE_state=2,c}if(e.__CE_state=1,e.__CE_definition=o,o.attributeChangedCallback&&e.hasAttributes()){var r=o.observedAttributes;for(o=0;o<r.length;o++){var l=r[o],s=e.getAttribute(l);null!==s&&t.attributeChangedCallback(e,l,null,s,null)}}p(e)&&t.connectedCallback(e)}}catch(c){C(c)}}function ct(t,e,n,i){var o=e.__CE_registry;if(o&&(null===i||"http://www.w3.org/1999/xhtml"===i)&&(o=S(o,n)))try{var r=new o.constructorFunction;if(void 0===r.__CE_state||void 0===r.__CE_definition)throw Error("Failed to construct '"+n+"': The returned value was not constructed with the HTMLElement constructor.");if("http://www.w3.org/1999/xhtml"!==r.namespaceURI)throw Error("Failed to construct '"+n+"': The constructed element's namespace must be the HTML namespace.");if(r.hasAttributes())throw Error("Failed to construct '"+n+"': The constructed element must not have any attributes.");if(null!==r.firstChild)throw Error("Failed to construct '"+n+"': The constructed element must not have any children.");if(null!==r.parentNode)throw Error("Failed to construct '"+n+"': The constructed element must not have a parent node.");if(r.ownerDocument!==e)throw Error("Failed to construct '"+n+"': The constructed element's owner document is incorrect.");if(r.localName!==n)throw Error("Failed to construct '"+n+"': The constructed element's local name is incorrect.");return r}catch(l){return C(l),e=null===i?d.call(e,n):E.call(e,i,n),Object.setPrototypeOf(e,HTMLUnknownElement.prototype),e.__CE_state=2,e.__CE_definition=void 0,g(t,e),e}return g(t,e=null===i?d.call(e,n):E.call(e,i,n)),e}function C(t){var e=t.message,n=t.sourceURL||t.fileName||"",i=t.line||t.lineNumber||0,r=void 0;void 0===ErrorEvent.prototype.initErrorEvent?r=new ErrorEvent("error",{cancelable:!0,message:e,filename:n,lineno:i,colno:t.column||t.columnNumber||0,error:t}):((r=document.createEvent("ErrorEvent")).initErrorEvent("error",!1,!0,e,n,i),r.preventDefault=function(){Object.defineProperty(this,"defaultPrevented",{configurable:!0,get:function(){return!0}})}),void 0===r.error&&Object.defineProperty(r,"error",{configurable:!0,enumerable:!0,get:function(){return t}}),window.dispatchEvent(r),r.defaultPrevented||console.error(t)}function at(){var t=this;this.g=void 0,this.F=new Promise(function(e){t.l=e})}function ut(t){var e=document;this.l=void 0,this.h=t,this.g=e,v(this.h,this.g),"loading"===this.g.readyState&&(this.l=new MutationObserver(this.G.bind(this)),this.l.observe(this.g,{childList:!0,subtree:!0}))}function pt(t){t.l&&t.l.disconnect()}function h(t){this.s=new Map,this.u=new Map,this.C=new Map,this.A=!1,this.B=new Map,this.o=function(e){return e()},this.i=!1,this.v=[],this.h=t,this.D=t.I?new ut(t):void 0}function ht(t,e){if(!st(e))throw new SyntaxError("The element name '"+e+"' is not valid.");if(S(t,e))throw Error("A custom element with name '"+e+"' has already been defined.");if(t.A)throw Error("A custom element is already being defined.")}function ft(t,e,n){var i;t.A=!0;try{var o=n.prototype;if(!(o instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");var r=function(y){var b=o[y];if(void 0!==b&&!(b instanceof Function))throw Error("The '"+y+"' callback must be a function.");return b},l=r("connectedCallback"),s=r("disconnectedCallback"),c=r("adoptedCallback"),a=(i=r("attributeChangedCallback"))&&n.observedAttributes||[]}catch(u){throw u}finally{t.A=!1}return t.u.set(e,n={localName:e,constructorFunction:n,connectedCallback:l,disconnectedCallback:s,adoptedCallback:c,attributeChangedCallback:i,observedAttributes:a,constructionStack:[]}),t.C.set(n.constructorFunction,n),n}function dt(t){if(!1!==t.i){t.i=!1;for(var e=[],n=t.v,i=new Map,o=0;o<n.length;o++)i.set(n[o],[]);for(v(t.h,document,{upgrade:function(a){if(void 0===a.__CE_state){var u=a.localName,y=i.get(u);y?y.push(a):t.u.has(u)&&e.push(a)}}}),o=0;o<e.length;o++)A(t.h,e[o]);for(o=0;o<n.length;o++){for(var r=n[o],l=i.get(r),s=0;s<l.length;s++)A(t.h,l[s]);(r=t.B.get(r))&&r.resolve(void 0)}n.length=0}}function S(t,e){var n=t.u.get(e);if(n)return n;if(n=t.s.get(e)){t.s.delete(e);try{return ft(t,e,n())}catch(i){C(i)}}}function W(t,e,n){function i(o){return function(r){for(var l=[],s=0;s<arguments.length;++s)l[s]=arguments[s];s=[];for(var c=[],a=0;a<l.length;a++){var u=l[a];if(u instanceof Element&&p(u)&&c.push(u),u instanceof DocumentFragment)for(u=u.firstChild;u;u=u.nextSibling)s.push(u);else s.push(u)}for(o.apply(this,l),l=0;l<c.length;l++)f(t,c[l]);if(p(this))for(l=0;l<s.length;l++)(c=s[l])instanceof Element&&m(t,c)}}void 0!==n.prepend&&(e.prepend=i(n.prepend)),void 0!==n.append&&(e.append=i(n.append))}L.prototype.connectedCallback=function(t){var e=t.__CE_definition;if(e.connectedCallback)try{e.connectedCallback.call(t)}catch(n){C(n)}},L.prototype.disconnectedCallback=function(t){var e=t.__CE_definition;if(e.disconnectedCallback)try{e.disconnectedCallback.call(t)}catch(n){C(n)}},L.prototype.attributeChangedCallback=function(t,e,n,i,o){var r=t.__CE_definition;if(r.attributeChangedCallback&&-1<r.observedAttributes.indexOf(e))try{r.attributeChangedCallback.call(t,e,n,i,o)}catch(l){C(l)}},at.prototype.resolve=function(t){if(this.g)throw Error("Already resolved.");this.g=t,this.l(t)},ut.prototype.G=function(t){var e=this.g.readyState;for("interactive"!==e&&"complete"!==e||pt(this),e=0;e<t.length;e++)for(var n=t[e].addedNodes,i=0;i<n.length;i++)v(this.h,n[i])},h.prototype.H=function(t,e){var n=this;if(!(e instanceof Function))throw new TypeError("Custom element constructor getters must be functions.");ht(this,t),this.s.set(t,e),this.v.push(t),this.i||(this.i=!0,this.o(function(){return dt(n)}))},h.prototype.define=function(t,e){var n=this;if(!(e instanceof Function))throw new TypeError("Custom element constructors must be functions.");ht(this,t),ft(this,t,e),this.v.push(t),this.i||(this.i=!0,this.o(function(){return dt(n)}))},h.prototype.upgrade=function(t){v(this.h,t)},h.prototype.get=function(t){if(t=S(this,t))return t.constructorFunction},h.prototype.whenDefined=function(t){if(!st(t))return Promise.reject(new SyntaxError("'"+t+"' is not a valid custom element name."));var e=this.B.get(t);if(e)return e.F;e=new at,this.B.set(t,e);var n=this.u.has(t)||this.s.has(t);return t=-1===this.v.indexOf(t),n&&t&&e.resolve(void 0),e.F},h.prototype.polyfillWrapFlushCallback=function(t){this.D&&pt(this.D);var e=this.o;this.o=function(n){return t(function(){return e(n)})}},window.CustomElementRegistry=h,h.prototype.define=h.prototype.define,h.prototype.upgrade=h.prototype.upgrade,h.prototype.get=h.prototype.get,h.prototype.whenDefined=h.prototype.whenDefined,h.prototype.polyfillDefineLazy=h.prototype.H,h.prototype.polyfillWrapFlushCallback=h.prototype.polyfillWrapFlushCallback;var mt={},_=window.customElements;function _t(){var t=new L;(function(t){function e(){var n=this.constructor,i=document.__CE_registry.C.get(n);if(!i)throw Error("Failed to construct a custom element: The constructor was not registered with `customElements`.");var o=i.constructionStack;if(0===o.length)return o=d.call(document,i.localName),Object.setPrototypeOf(o,n.prototype),o.__CE_state=1,o.__CE_definition=i,g(t,o),o;var r=o.length-1,l=o[r];if(l===mt)throw Error("Failed to construct '"+i.localName+"': This element was already constructed.");return o[r]=mt,Object.setPrototypeOf(l,n.prototype),g(t,l),l}e.prototype=wt.prototype,Object.defineProperty(HTMLElement.prototype,"constructor",{writable:!0,configurable:!0,enumerable:!1,value:e}),window.HTMLElement=e})(t),function(t){Document.prototype.createElement=function(e){return ct(t,this,e,null)},Document.prototype.importNode=function(e,n){return e=w.call(this,e,!!n),this.__CE_registry?v(t,e):I(t,e),e},Document.prototype.createElementNS=function(e,n){return ct(t,this,n,e)},W(t,Document.prototype,{prepend:N,append:U})}(t),W(t,DocumentFragment.prototype,{prepend:O,append:z}),function(t){function e(n,i){Object.defineProperty(n,"textContent",{enumerable:i.enumerable,configurable:!0,get:i.get,set:function(r){if(this.nodeType===Node.TEXT_NODE)i.set.call(this,r);else{var l=void 0;if(this.firstChild){var s=this.childNodes,c=s.length;if(0<c&&p(this)){l=Array(c);for(var a=0;a<c;a++)l[a]=s[a]}}if(i.set.call(this,r),l)for(r=0;r<l.length;r++)f(t,l[r])}}})}Node.prototype.insertBefore=function(n,i){if(n instanceof DocumentFragment){var o=k(n);if(n=K.call(this,n,i),p(this))for(i=0;i<o.length;i++)m(t,o[i]);return n}return o=n instanceof Element&&p(n),i=K.call(this,n,i),o&&f(t,n),p(this)&&m(t,n),i},Node.prototype.appendChild=function(n){if(n instanceof DocumentFragment){var i=k(n);if(n=D.call(this,n),p(this))for(var o=0;o<i.length;o++)m(t,i[o]);return n}return i=n instanceof Element&&p(n),o=D.call(this,n),i&&f(t,n),p(this)&&m(t,n),o},Node.prototype.cloneNode=function(n){return n=G.call(this,!!n),this.ownerDocument.__CE_registry?v(t,n):I(t,n),n},Node.prototype.removeChild=function(n){var i=n instanceof Element&&p(n),o=F.call(this,n);return i&&f(t,n),o},Node.prototype.replaceChild=function(n,i){if(n instanceof DocumentFragment){var o=k(n);if(n=J.call(this,n,i),p(this))for(f(t,i),i=0;i<o.length;i++)m(t,o[i]);return n}o=n instanceof Element&&p(n);var r=J.call(this,n,i),l=p(this);return l&&f(t,i),o&&f(t,n),l&&m(t,n),r},H&&H.get?e(Node.prototype,H):function(t,e){t.j=!0,t.m.push(e)}(t,function(n){e(n,{enumerable:!0,configurable:!0,get:function(){for(var o=[],r=this.firstChild;r;r=r.nextSibling)r.nodeType!==Node.COMMENT_NODE&&o.push(r.textContent);return o.join("")},set:function(o){for(;this.firstChild;)F.call(this,this.firstChild);null!=o&&""!==o&&D.call(this,document.createTextNode(o))}})})}(t),function(t){function e(o,r){Object.defineProperty(o,"innerHTML",{enumerable:r.enumerable,configurable:!0,get:r.get,set:function(s){var c=this,a=void 0;if(p(this)&&(a=[],T(t,this,function(b){b!==c&&a.push(b)})),r.set.call(this,s),a)for(var u=0;u<a.length;u++){var y=a[u];1===y.__CE_state&&t.disconnectedCallback(y)}return this.ownerDocument.__CE_registry?v(t,this):I(t,this),s}})}function n(o,r){o.insertAdjacentElement=function(l,s){var c=p(s);return l=r.call(this,l,s),c&&f(t,s),p(l)&&m(t,s),l}}function i(o,r){function l(s,c){for(var a=[];s!==c;s=s.nextSibling)a.push(s);for(c=0;c<a.length;c++)v(t,a[c])}o.insertAdjacentHTML=function(s,c){if("beforebegin"===(s=s.toLowerCase())){var a=this.previousSibling;r.call(this,s,c),l(a||this.parentNode.firstChild,this)}else if("afterbegin"===s)a=this.firstChild,r.call(this,s,c),l(this.firstChild,a);else if("beforeend"===s)a=this.lastChild,r.call(this,s,c),l(a||this.firstChild,null);else{if("afterend"!==s)throw new SyntaxError("The value provided ("+String(s)+") is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'.");a=this.nextSibling,r.call(this,s,c),l(this.nextSibling,a)}}}V&&(Element.prototype.attachShadow=function(o){if(o=V.call(this,o),t.j&&!o.__CE_patched){o.__CE_patched=!0;for(var r=0;r<t.m.length;r++)t.m[r](o)}return this.__CE_shadowRoot=o}),j&&j.get?e(Element.prototype,j):P&&P.get?e(HTMLElement.prototype,P):function(t,e){t.j=!0,t.g.push(e)}(t,function(o){e(o,{enumerable:!0,configurable:!0,get:function(){return G.call(this,!0).innerHTML},set:function(l){var s="template"===this.localName,c=s?this.content:this,a=E.call(document,this.namespaceURI,this.localName);for(a.innerHTML=l;0<c.childNodes.length;)F.call(c,c.childNodes[0]);for(l=s?a.content:a;0<l.childNodes.length;)D.call(c,l.childNodes[0])}})}),Element.prototype.setAttribute=function(o,r){if(1!==this.__CE_state)return X.call(this,o,r);var l=x.call(this,o);X.call(this,o,r),r=x.call(this,o),t.attributeChangedCallback(this,o,l,r,null)},Element.prototype.setAttributeNS=function(o,r,l){if(1!==this.__CE_state)return Y.call(this,o,r,l);var s=M.call(this,o,r);Y.call(this,o,r,l),l=M.call(this,o,r),t.attributeChangedCallback(this,r,s,l,o)},Element.prototype.removeAttribute=function(o){if(1!==this.__CE_state)return Q.call(this,o);var r=x.call(this,o);Q.call(this,o),null!==r&&t.attributeChangedCallback(this,o,r,null,null)},Element.prototype.removeAttributeNS=function(o,r){if(1!==this.__CE_state)return Z.call(this,o,r);var l=M.call(this,o,r);Z.call(this,o,r);var s=M.call(this,o,r);l!==s&&t.attributeChangedCallback(this,r,l,s,o)},rt?n(HTMLElement.prototype,rt):$&&n(Element.prototype,$),it?i(HTMLElement.prototype,it):q&&i(Element.prototype,q),W(t,Element.prototype,{prepend:vt,append:Et}),function(t){function e(i){return function(o){for(var r=[],l=0;l<arguments.length;++l)r[l]=arguments[l];l=[];for(var s=[],c=0;c<r.length;c++){var a=r[c];if(a instanceof Element&&p(a)&&s.push(a),a instanceof DocumentFragment)for(a=a.firstChild;a;a=a.nextSibling)l.push(a);else l.push(a)}for(i.apply(this,r),r=0;r<s.length;r++)f(t,s[r]);if(p(this))for(r=0;r<l.length;r++)(s=l[r])instanceof Element&&m(t,s)}}var n=Element.prototype;void 0!==tt&&(n.before=e(tt)),void 0!==et&&(n.after=e(et)),void 0!==nt&&(n.replaceWith=function(i){for(var o=[],r=0;r<arguments.length;++r)o[r]=arguments[r];r=[];for(var l=[],s=0;s<o.length;s++){var c=o[s];if(c instanceof Element&&p(c)&&l.push(c),c instanceof DocumentFragment)for(c=c.firstChild;c;c=c.nextSibling)r.push(c);else r.push(c)}for(s=p(this),nt.apply(this,o),o=0;o<l.length;o++)f(t,l[o]);if(s)for(f(t,this),o=0;o<r.length;o++)(l=r[o])instanceof Element&&m(t,l)}),void 0!==ot&&(n.remove=function(){var i=p(this);ot.call(this),i&&f(t,this)})}(t)}(t),t=new h(t),document.__CE_registry=t,Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:t})}_&&!_.forcePolyfill&&"function"==typeof _.define&&"function"==typeof _.get||_t(),window.__CE_installPolyfill=_t}).call(self)},5565:function(){"use strict";!function(){if(void 0!==window.Reflect&&void 0!==window.customElements&&!window.customElements.polyfillWrapFlushCallback){var d=HTMLElement;window.HTMLElement={HTMLElement:function(){return Reflect.construct(d,[],this.constructor)}}.HTMLElement,HTMLElement.prototype=d.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,d)}}()},1796:function(d,E,w){"use strict";w(5565),w(2364),window.process={env:{DEBUG:void 0}}}},function(d){d(d.s=1796)}]);
/*! (C) Andrea Giammarchi - @WebReflection - ISC Style License */
!function(e,t){"use strict";function n(){var e=C.splice(0,C.length);for(We=0;e.length;)e.shift().call(null,e.shift())}function r(e,t){for(var n=0,r=e.length;n<r;n++)p(e[n],t)}function o(e){return function(t){Re(t)&&(p(t,e),le.length&&r(t.querySelectorAll(le),e))}}function l(e){var t=Be.call(e,"is"),n=e.nodeName.toUpperCase(),r=ie.call(re,t?ee+t.toUpperCase():J+n);return t&&-1<r&&!a(n,t)?-1:r}function a(e,t){return-1<le.indexOf(e+'[is="'+t+'"]')}function i(e){var t=e.currentTarget,n=e.attrChange,r=e.attrName,o=e.target,l=e[X]||2,a=e[$]||3;!rt||o&&o!==t||!t[B]||"style"===r||e.prevValue===e.newValue&&(""!==e.newValue||n!==l&&n!==a)||t[B](r,n===l?null:e.prevValue,n===a?null:e.newValue)}function u(e){var t=o(e);return function(e){C.push(t,e.target),We&&clearTimeout(We),We=setTimeout(n,1)}}function c(e){nt&&(nt=!1,e.currentTarget.removeEventListener(W,c)),le.length&&r((e.target||g).querySelectorAll(le),e.detail===x?x:_),Ve&&function(){for(var e,t=0,n=Ue.length;t<n;t++)e=Ue[t],ae.contains(e)||(n--,Ue.splice(t--,1),p(e,x))}()}function s(e,t){var n=this;Ge.call(n,e,t),w.call(n,{target:n})}function m(e,t,n){var r=t.apply(e,n),o=l(r);return-1<o&&F(r,oe[o]),n.pop()&&le.length&&function(e){for(var t,n=0,r=e.length;n<r;n++)t=e[n],F(t,oe[l(t)])}(r.querySelectorAll(le)),r}function f(e,t){De(e,t),N?N.observe(e,$e):(tt&&(e.setAttribute=s,e[R]=O(e),e[U](Y,w)),e[U](Q,i)),e[z]&&rt&&(e.created=!0,e[z](),e.created=!1)}function d(e){throw new Error("A "+e+" type is already registered")}function p(e,t){var n,r,o=l(e);-1<o&&!xe.call(e,"TEMPLATE")&&(I(e,oe[o]),o=0,t!==_||e[_]?t!==x||e[x]||(e[_]=!1,e[x]=!0,r="disconnected",o=1):(e[x]=!1,e[_]=!0,r="connected",o=1,Ve&&ie.call(Ue,e)<0&&Ue.push(e)),o&&(n=e[t+k]||e[r+k])&&n.call(e))}function h(){}function T(e,t,n){var r=n&&n[q]||"",o=t.prototype,l=Ne(o),a=t.observedAttributes||fe,i={prototype:l};Pe(l,z,{value:function(){if(ye)ye=!1;else if(!this[Me]){this[Me]=!0,new t(this),o[z]&&o[z].call(this);var e=Ce[Ae.get(t)];(!ve||e.create.length>1)&&E(this)}}}),Pe(l,B,{value:function(e){-1<ie.call(a,e)&&o[B]&&o[B].apply(this,arguments)}}),o[j]&&Pe(l,Z,{value:o[j]}),o[G]&&Pe(l,K,{value:o[G]}),r&&(i[q]=r),e=e.toUpperCase(),Ce[e]={constructor:t,create:r?[r,Oe(e)]:[e]},Ae.set(t,e),g[V](e.toLowerCase(),i),v(e),we[e].r()}function L(e){var t=Ce[e.toUpperCase()];return t&&t.constructor}function M(e){return"string"==typeof e?e:e&&e.is||""}function E(e){for(var t,n=e[B],r=n?e.attributes:fe,o=r.length;o--;)t=r[o],n.call(e,t.name||t.nodeName,null,t.value||t.nodeValue)}function v(e){return(e=e.toUpperCase())in we||(we[e]={},we[e].p=new be(function(t){we[e].r=t})),we[e].p}function H(){Ee&&delete e.customElements,me(e,"customElements",{configurable:!0,value:new h}),me(e,"CustomElementRegistry",{configurable:!0,value:h});for(var t=y.get(/^HTML[A-Z]*[a-z]/),n=t.length;n--;function(t){var n=e[t];if(n){e[t]=function(e){var t,r;return e||(e=this),e[Me]||(ye=!0,t=Ce[Ae.get(e.constructor)],(e=(r=ve&&1===t.create.length)?Reflect.construct(n,fe,t.constructor):g.createElement.apply(g,t.create))[Me]=!0,ye=!1,r||E(e)),e},e[t].prototype=n.prototype;try{n.prototype.constructor=e[t]}catch(r){!0,me(n,Me,{value:e[t]})}}}(t[n]));g.createElement=function(e,t){var n=M(t);return n?Xe.call(this,e,Oe(n)):Xe.call(this,e)},Ye||(et=!0,g[V](""))}var g=e.document,b=e.Object,y=function(e){var t,n,r,o,l=/^[A-Z]+[a-z]/,a=function(e,t){(t=t.toLowerCase())in i||(i[e]=(i[e]||[]).concat(t),i[t]=i[t.toUpperCase()]=e)},i=(b.create||b)(null),u={};for(n in e)for(o in e[n])for(r=e[n][o],i[o]=r,t=0;t<r.length;t++)i[r[t].toLowerCase()]=i[r[t].toUpperCase()]=o;return u.get=function(e){return"string"==typeof e?i[e]||(l.test(e)?[]:""):function(e){var t,n=[];for(t in i)e.test(t)&&n.push(t);return n}(e)},u.set=function(e,t){return l.test(e)?a(e,t):a(t,e),u},u}({collections:{HTMLAllCollection:["all"],HTMLCollection:["forms"],HTMLFormControlsCollection:["elements"],HTMLOptionsCollection:["options"]},elements:{Element:["element"],HTMLAnchorElement:["a"],HTMLAppletElement:["applet"],HTMLAreaElement:["area"],HTMLAttachmentElement:["attachment"],HTMLAudioElement:["audio"],HTMLBRElement:["br"],HTMLBaseElement:["base"],HTMLBodyElement:["body"],HTMLButtonElement:["button"],HTMLCanvasElement:["canvas"],HTMLContentElement:["content"],HTMLDListElement:["dl"],HTMLDataElement:["data"],HTMLDataListElement:["datalist"],HTMLDetailsElement:["details"],HTMLDialogElement:["dialog"],HTMLDirectoryElement:["dir"],HTMLDivElement:["div"],HTMLDocument:["document"],HTMLElement:["element","abbr","address","article","aside","b","bdi","bdo","cite","code","command","dd","dfn","dt","em","figcaption","figure","footer","header","i","kbd","mark","nav","noscript","rp","rt","ruby","s","samp","section","small","strong","sub","summary","sup","u","var","wbr"],HTMLEmbedElement:["embed"],HTMLFieldSetElement:["fieldset"],HTMLFontElement:["font"],HTMLFormElement:["form"],HTMLFrameElement:["frame"],HTMLFrameSetElement:["frameset"],HTMLHRElement:["hr"],HTMLHeadElement:["head"],HTMLHeadingElement:["h1","h2","h3","h4","h5","h6"],HTMLHtmlElement:["html"],HTMLIFrameElement:["iframe"],HTMLImageElement:["img"],HTMLInputElement:["input"],HTMLKeygenElement:["keygen"],HTMLLIElement:["li"],HTMLLabelElement:["label"],HTMLLegendElement:["legend"],HTMLLinkElement:["link"],HTMLMapElement:["map"],HTMLMarqueeElement:["marquee"],HTMLMediaElement:["media"],HTMLMenuElement:["menu"],HTMLMenuItemElement:["menuitem"],HTMLMetaElement:["meta"],HTMLMeterElement:["meter"],HTMLModElement:["del","ins"],HTMLOListElement:["ol"],HTMLObjectElement:["object"],HTMLOptGroupElement:["optgroup"],HTMLOptionElement:["option"],HTMLOutputElement:["output"],HTMLParagraphElement:["p"],HTMLParamElement:["param"],HTMLPictureElement:["picture"],HTMLPreElement:["pre"],HTMLProgressElement:["progress"],HTMLQuoteElement:["blockquote","q","quote"],HTMLScriptElement:["script"],HTMLSelectElement:["select"],HTMLShadowElement:["shadow"],HTMLSlotElement:["slot"],HTMLSourceElement:["source"],HTMLSpanElement:["span"],HTMLStyleElement:["style"],HTMLTableCaptionElement:["caption"],HTMLTableCellElement:["td","th"],HTMLTableColElement:["col","colgroup"],HTMLTableElement:["table"],HTMLTableRowElement:["tr"],HTMLTableSectionElement:["thead","tbody","tfoot"],HTMLTemplateElement:["template"],HTMLTextAreaElement:["textarea"],HTMLTimeElement:["time"],HTMLTitleElement:["title"],HTMLTrackElement:["track"],HTMLUListElement:["ul"],HTMLUnknownElement:["unknown","vhgroupv","vkeygen"],HTMLVideoElement:["video"]},nodes:{Attr:["node"],Audio:["audio"],CDATASection:["node"],CharacterData:["node"],Comment:["#comment"],Document:["#document"],DocumentFragment:["#document-fragment"],DocumentType:["node"],HTMLDocument:["#document"],Image:["img"],Option:["option"],ProcessingInstruction:["node"],ShadowRoot:["#shadow-root"],Text:["#text"],XMLDocument:["xml"]}});"object"!=typeof t&&(t={type:t||"auto"});var C,w,A,O,N,D,I,F,S,V="registerElement",P=1e5*e.Math.random()>>0,R="__"+V+P,U="addEventListener",_="attached",k="Callback",x="detached",q="extends",B="attributeChanged"+k,Z=_+k,j="connected"+k,G="disconnected"+k,z="created"+k,K=x+k,X="ADDITION",$="REMOVAL",Q="DOMAttrModified",W="DOMContentLoaded",Y="DOMSubtreeModified",J="<",ee="=",te=/^[A-Z][._A-Z0-9]*-[-._A-Z0-9]*$/,ne=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],re=[],oe=[],le="",ae=g.documentElement,ie=re.indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},ue=b.prototype,ce=ue.hasOwnProperty,se=ue.isPrototypeOf,me=b.defineProperty,fe=[],de=b.getOwnPropertyDescriptor,pe=b.getOwnPropertyNames,he=b.getPrototypeOf,Te=b.setPrototypeOf,Le=!!b.__proto__,Me="__dreCEv1",Ee=e.customElements,ve=!/^force/.test(t.type)&&!!(Ee&&Ee.define&&Ee.get&&Ee.whenDefined),He=b.create||b,ge=e.Map||function(){var e,t=[],n=[];return{get:function(e){return n[ie.call(t,e)]},set:function(r,o){(e=ie.call(t,r))<0?n[t.push(r)-1]=o:n[e]=o}}},be=e.Promise||function(e){function t(e){for(r=!0;n.length;)n.shift()(e)}var n=[],r=!1,o={catch:function(){return o},then:function(e){return n.push(e),r&&setTimeout(t,1),o}};return e(t),o},ye=!1,Ce=He(null),we=He(null),Ae=new ge,Oe=function(e){return e.toLowerCase()},Ne=b.create||function e(t){return t?(e.prototype=t,new e):this},De=Te||(Le?function(e,t){return e.__proto__=t,e}:pe&&de?function(){function e(e,t){for(var n,r=pe(t),o=0,l=r.length;o<l;o++)n=r[o],ce.call(e,n)||me(e,n,de(t,n))}return function(t,n){do{e(t,n)}while((n=he(n))&&!se.call(n,t));return t}}():function(e,t){for(var n in t)e[n]=t[n];return e}),Ie=e.MutationObserver||e.WebKitMutationObserver,Fe=e.HTMLAnchorElement,Se=(e.HTMLElement||e.Element||e.Node).prototype,Ve=!se.call(Se,ae),Pe=Ve?function(e,t,n){return e[t]=n.value,e}:me,Re=Ve?function(e){return 1===e.nodeType}:function(e){return se.call(Se,e)},Ue=Ve&&[],_e=Se.attachShadow,ke=Se.cloneNode,xe=Se.closest||function(e){for(var t=this;t&&t.nodeName!==e;)t=t.parentNode;return t},qe=Se.dispatchEvent,Be=Se.getAttribute,Ze=Se.hasAttribute,je=Se.removeAttribute,Ge=Se.setAttribute,ze=g.createElement,Ke=g.importNode,Xe=ze,$e=Ie&&{attributes:!0,characterData:!0,attributeOldValue:!0},Qe=Ie||function(e){tt=!1,ae.removeEventListener(Q,Qe)},We=0,Ye=V in g&&!/^force-all/.test(t.type),Je=!0,et=!1,tt=!0,nt=!0,rt=!0;if(Ie&&((S=g.createElement("div")).innerHTML="<div><div></div></div>",new Ie(function(e,t){if(e[0]&&"childList"==e[0].type&&!e[0].removedNodes[0].childNodes.length){var n=(S=de(Se,"innerHTML"))&&S.set;n&&me(Se,"innerHTML",{set:function(e){for(;this.lastChild;)this.removeChild(this.lastChild);n.call(this,e)}})}t.disconnect(),S=null}).observe(S,{childList:!0,subtree:!0}),S.innerHTML=""),Ye||(Te||Le?(I=function(e,t){se.call(t,e)||f(e,t)},F=f):F=I=function(e,t){e[R]||(e[R]=b(!0),f(e,t))},Ve?(tt=!1,function(){var e=de(Se,U),t=e.value,n=function(e){var t=new CustomEvent(Q,{bubbles:!0});t.attrName=e,t.prevValue=Be.call(this,e),t.newValue=null,t[$]=t.attrChange=2,je.call(this,e),qe.call(this,t)},r=function(e,t){var n=Ze.call(this,e),r=n&&Be.call(this,e),o=new CustomEvent(Q,{bubbles:!0});Ge.call(this,e,t),o.attrName=e,o.prevValue=n?r:null,o.newValue=t,n?o.MODIFICATION=o.attrChange=1:o[X]=o.attrChange=0,qe.call(this,o)},o=function(e){var t,n=e.currentTarget,r=n[R],o=e.propertyName;r.hasOwnProperty(o)&&(r=r[o],(t=new CustomEvent(Q,{bubbles:!0})).attrName=r.name,t.prevValue=r.value||null,t.newValue=r.value=n[o]||null,null==t.prevValue?t[X]=t.attrChange=0:t.MODIFICATION=t.attrChange=1,qe.call(n,t))};e.value=function(e,l,a){e===Q&&this[B]&&this.setAttribute!==r&&(this[R]={className:{name:"class",value:this.className}},this.setAttribute=r,this.removeAttribute=n,t.call(this,"propertychange",o)),t.call(this,e,l,a)},me(Se,U,e)}()):Ie||(ae[U](Q,Qe),ae.setAttribute(R,1),ae.removeAttribute(R),tt&&(w=function(e){var t,n,r,o=this;if(o===e.target){for(r in t=o[R],o[R]=n=O(o),n){if(!(r in t))return A(0,o,r,t[r],n[r],X);if(n[r]!==t[r])return A(1,o,r,t[r],n[r],"MODIFICATION")}for(r in t)if(!(r in n))return A(2,o,r,t[r],n[r],$)}},A=function(e,t,n,r,o,l){var a={attrChange:e,currentTarget:t,attrName:n,prevValue:r,newValue:o};a[l]=e,i(a)},O=function(e){for(var t,n,r={},o=e.attributes,l=0,a=o.length;l<a;l++)"setAttribute"!==(n=(t=o[l]).name)&&(r[n]=t.value);return r})),g[V]=function(e,t){if(n=e.toUpperCase(),Je&&(Je=!1,Ie?(N=function(e,t){function n(e,t){for(var n=0,r=e.length;n<r;t(e[n++]));}return new Ie(function(r){for(var o,l,a,i=0,u=r.length;i<u;i++)"childList"===(o=r[i]).type?(n(o.addedNodes,e),n(o.removedNodes,t)):(l=o.target,rt&&l[B]&&"style"!==o.attributeName&&(a=Be.call(l,o.attributeName))!==o.oldValue&&l[B](o.attributeName,o.oldValue,a))})}(o(_),o(x)),(D=function(e){return N.observe(e,{childList:!0,subtree:!0}),e})(g),_e&&(Se.attachShadow=function(){return D(_e.apply(this,arguments))})):(C=[],g[U]("DOMNodeInserted",u(_)),g[U]("DOMNodeRemoved",u(x))),g[U](W,c),g[U]("readystatechange",c),g.importNode=function(e,t){switch(e.nodeType){case 1:return m(g,Ke,[e,!!t]);case 11:for(var n=g.createDocumentFragment(),r=e.childNodes,o=r.length,l=0;l<o;l++)n.appendChild(g.importNode(r[l],!!t));return n;default:return ke.call(e,!!t)}},Se.cloneNode=function(e){return m(this,ke,[!!e])}),et)return et=!1;if(-2<ie.call(re,ee+n)+ie.call(re,J+n)&&d(e),!te.test(n)||-1<ie.call(ne,n))throw new Error("The type "+e+" is invalid");var n,l,a=function(){return s?g.createElement(f,n):g.createElement(f)},i=t||ue,s=ce.call(i,q),f=s?t[q].toUpperCase():n;return s&&-1<ie.call(re,J+f)&&d(f),l=re.push((s?ee:J)+n)-1,le=le.concat(le.length?",":"",s?f+'[is="'+e.toLowerCase()+'"]':f),a.prototype=oe[l]=ce.call(i,"prototype")?i.prototype:Ne(Se),le.length&&r(g.querySelectorAll(le),_),a},g.createElement=Xe=function(e,t){var n=M(t),r=n?ze.call(g,e,Oe(n)):ze.call(g,e),o=""+e,l=ie.call(re,(n?ee:J)+(n||o).toUpperCase()),i=-1<l;return n&&(r.setAttribute("is",n=n.toLowerCase()),i&&(i=a(o.toUpperCase(),n))),rt=!g.createElement.innerHTMLHelper,i&&F(r,oe[l]),r}),addEventListener("beforeunload",function(){delete g.createElement,delete g.importNode,delete g[V]},!1),h.prototype={constructor:h,define:ve?function(e,t,n){if(n)T(e,t,n);else{var r=e.toUpperCase();Ce[r]={constructor:t,create:[r]},Ae.set(t,r),Ee.define(e,t)}}:T,get:ve?function(e){return Ee.get(e)||L(e)}:L,whenDefined:ve?function(e){return be.race([Ee.whenDefined(e),v(e)])}:v},!Ee||/^force/.test(t.type))H();else if(!t.noBuiltIn)try{!function(t,n,r){var o=new RegExp("^<a\\s+is=('|\")"+r+"\\1></a>$");if(n[q]="a",(t.prototype=Ne(Fe.prototype)).constructor=t,e.customElements.define(r,t,n),!o.test(g.createElement("a",{is:r}).outerHTML)||!o.test((new t).outerHTML))throw n}(function e(){return Reflect.construct(Fe,[],e)},{},"document-register-element-a"+P)}catch(e){H()}if(!t.noBuiltIn)try{if(ze.call(g,"a","a").outerHTML.indexOf("is")<0)throw{}}catch(e){Oe=function(e){return{is:e.toLowerCase()}}}}(window),function(e,t){"use strict";function n(){var e=C.splice(0,C.length);for(We=0;e.length;)e.shift().call(null,e.shift())}function r(e,t){for(var n=0,r=e.length;n<r;n++)p(e[n],t)}function o(e){return function(t){Re(t)&&(p(t,e),le.length&&r(t.querySelectorAll(le),e))}}function l(e){var t=Be.call(e,"is"),n=e.nodeName.toUpperCase(),r=ie.call(re,t?ee+t.toUpperCase():J+n);return t&&-1<r&&!a(n,t)?-1:r}function a(e,t){return-1<le.indexOf(e+'[is="'+t+'"]')}function i(e){var t=e.currentTarget,n=e.attrChange,r=e.attrName,o=e.target,l=e[X]||2,a=e[$]||3;!rt||o&&o!==t||!t[B]||"style"===r||e.prevValue===e.newValue&&(""!==e.newValue||n!==l&&n!==a)||t[B](r,n===l?null:e.prevValue,n===a?null:e.newValue)}function u(e){var t=o(e);return function(e){C.push(t,e.target),We&&clearTimeout(We),We=setTimeout(n,1)}}function c(e){nt&&(nt=!1,e.currentTarget.removeEventListener(W,c)),le.length&&r((e.target||g).querySelectorAll(le),e.detail===x?x:_),Ve&&function(){for(var e,t=0,n=Ue.length;t<n;t++)e=Ue[t],ae.contains(e)||(n--,Ue.splice(t--,1),p(e,x))}()}function s(e,t){var n=this;Ge.call(n,e,t),w.call(n,{target:n})}function m(e,t,n){var r=t.apply(e,n),o=l(r);return-1<o&&F(r,oe[o]),n.pop()&&le.length&&function(e){for(var t,n=0,r=e.length;n<r;n++)t=e[n],F(t,oe[l(t)])}(r.querySelectorAll(le)),r}function f(e,t){De(e,t),N?N.observe(e,$e):(tt&&(e.setAttribute=s,e[R]=O(e),e[U](Y,w)),e[U](Q,i)),e[z]&&rt&&(e.created=!0,e[z](),e.created=!1)}function d(e){throw new Error("A "+e+" type is already registered")}function p(e,t){var n,r,o=l(e);-1<o&&!xe.call(e,"TEMPLATE")&&(I(e,oe[o]),o=0,t!==_||e[_]?t!==x||e[x]||(e[_]=!1,e[x]=!0,r="disconnected",o=1):(e[x]=!1,e[_]=!0,r="connected",o=1,Ve&&ie.call(Ue,e)<0&&Ue.push(e)),o&&(n=e[t+k]||e[r+k])&&n.call(e))}function h(){}function T(e,t,n){var r=n&&n[q]||"",o=t.prototype,l=Ne(o),a=t.observedAttributes||fe,i={prototype:l};Pe(l,z,{value:function(){if(ye)ye=!1;else if(!this[Me]){this[Me]=!0,new t(this),o[z]&&o[z].call(this);var e=Ce[Ae.get(t)];(!ve||e.create.length>1)&&E(this)}}}),Pe(l,B,{value:function(e){-1<ie.call(a,e)&&o[B]&&o[B].apply(this,arguments)}}),o[j]&&Pe(l,Z,{value:o[j]}),o[G]&&Pe(l,K,{value:o[G]}),r&&(i[q]=r),e=e.toUpperCase(),Ce[e]={constructor:t,create:r?[r,Oe(e)]:[e]},Ae.set(t,e),g[V](e.toLowerCase(),i),v(e),we[e].r()}function L(e){var t=Ce[e.toUpperCase()];return t&&t.constructor}function M(e){return"string"==typeof e?e:e&&e.is||""}function E(e){for(var t,n=e[B],r=n?e.attributes:fe,o=r.length;o--;)t=r[o],n.call(e,t.name||t.nodeName,null,t.value||t.nodeValue)}function v(e){return(e=e.toUpperCase())in we||(we[e]={},we[e].p=new be(function(t){we[e].r=t})),we[e].p}function H(){Ee&&delete e.customElements,me(e,"customElements",{configurable:!0,value:new h}),me(e,"CustomElementRegistry",{configurable:!0,value:h});for(var t=y.get(/^HTML[A-Z]*[a-z]/),n=t.length;n--;function(t){var n=e[t];if(n){e[t]=function(e){var t,r;return e||(e=this),e[Me]||(ye=!0,t=Ce[Ae.get(e.constructor)],(e=(r=ve&&1===t.create.length)?Reflect.construct(n,fe,t.constructor):g.createElement.apply(g,t.create))[Me]=!0,ye=!1,r||E(e)),e},e[t].prototype=n.prototype;try{n.prototype.constructor=e[t]}catch(r){!0,me(n,Me,{value:e[t]})}}}(t[n]));g.createElement=function(e,t){var n=M(t);return n?Xe.call(this,e,Oe(n)):Xe.call(this,e)},Ye||(et=!0,g[V](""))}var g=e.document,b=e.Object,y=function(e){var t,n,r,o,l=/^[A-Z]+[a-z]/,a=function(e,t){(t=t.toLowerCase())in i||(i[e]=(i[e]||[]).concat(t),i[t]=i[t.toUpperCase()]=e)},i=(b.create||b)(null),u={};for(n in e)for(o in e[n])for(r=e[n][o],i[o]=r,t=0;t<r.length;t++)i[r[t].toLowerCase()]=i[r[t].toUpperCase()]=o;return u.get=function(e){return"string"==typeof e?i[e]||(l.test(e)?[]:""):function(e){var t,n=[];for(t in i)e.test(t)&&n.push(t);return n}(e)},u.set=function(e,t){return l.test(e)?a(e,t):a(t,e),u},u}({collections:{HTMLAllCollection:["all"],HTMLCollection:["forms"],HTMLFormControlsCollection:["elements"],HTMLOptionsCollection:["options"]},elements:{Element:["element"],HTMLAnchorElement:["a"],HTMLAppletElement:["applet"],HTMLAreaElement:["area"],HTMLAttachmentElement:["attachment"],HTMLAudioElement:["audio"],HTMLBRElement:["br"],HTMLBaseElement:["base"],HTMLBodyElement:["body"],HTMLButtonElement:["button"],HTMLCanvasElement:["canvas"],HTMLContentElement:["content"],HTMLDListElement:["dl"],HTMLDataElement:["data"],HTMLDataListElement:["datalist"],HTMLDetailsElement:["details"],HTMLDialogElement:["dialog"],HTMLDirectoryElement:["dir"],HTMLDivElement:["div"],HTMLDocument:["document"],HTMLElement:["element","abbr","address","article","aside","b","bdi","bdo","cite","code","command","dd","dfn","dt","em","figcaption","figure","footer","header","i","kbd","mark","nav","noscript","rp","rt","ruby","s","samp","section","small","strong","sub","summary","sup","u","var","wbr"],HTMLEmbedElement:["embed"],HTMLFieldSetElement:["fieldset"],HTMLFontElement:["font"],HTMLFormElement:["form"],HTMLFrameElement:["frame"],HTMLFrameSetElement:["frameset"],HTMLHRElement:["hr"],HTMLHeadElement:["head"],HTMLHeadingElement:["h1","h2","h3","h4","h5","h6"],HTMLHtmlElement:["html"],HTMLIFrameElement:["iframe"],HTMLImageElement:["img"],HTMLInputElement:["input"],HTMLKeygenElement:["keygen"],HTMLLIElement:["li"],HTMLLabelElement:["label"],HTMLLegendElement:["legend"],HTMLLinkElement:["link"],HTMLMapElement:["map"],HTMLMarqueeElement:["marquee"],HTMLMediaElement:["media"],HTMLMenuElement:["menu"],HTMLMenuItemElement:["menuitem"],HTMLMetaElement:["meta"],HTMLMeterElement:["meter"],HTMLModElement:["del","ins"],HTMLOListElement:["ol"],HTMLObjectElement:["object"],HTMLOptGroupElement:["optgroup"],HTMLOptionElement:["option"],HTMLOutputElement:["output"],HTMLParagraphElement:["p"],HTMLParamElement:["param"],HTMLPictureElement:["picture"],HTMLPreElement:["pre"],HTMLProgressElement:["progress"],HTMLQuoteElement:["blockquote","q","quote"],HTMLScriptElement:["script"],HTMLSelectElement:["select"],HTMLShadowElement:["shadow"],HTMLSlotElement:["slot"],HTMLSourceElement:["source"],HTMLSpanElement:["span"],HTMLStyleElement:["style"],HTMLTableCaptionElement:["caption"],HTMLTableCellElement:["td","th"],HTMLTableColElement:["col","colgroup"],HTMLTableElement:["table"],HTMLTableRowElement:["tr"],HTMLTableSectionElement:["thead","tbody","tfoot"],HTMLTemplateElement:["template"],HTMLTextAreaElement:["textarea"],HTMLTimeElement:["time"],HTMLTitleElement:["title"],HTMLTrackElement:["track"],HTMLUListElement:["ul"],HTMLUnknownElement:["unknown","vhgroupv","vkeygen"],HTMLVideoElement:["video"]},nodes:{Attr:["node"],Audio:["audio"],CDATASection:["node"],CharacterData:["node"],Comment:["#comment"],Document:["#document"],DocumentFragment:["#document-fragment"],DocumentType:["node"],HTMLDocument:["#document"],Image:["img"],Option:["option"],ProcessingInstruction:["node"],ShadowRoot:["#shadow-root"],Text:["#text"],XMLDocument:["xml"]}});"object"!=typeof t&&(t={type:t||"auto"});var C,w,A,O,N,D,I,F,S,V="registerElement",P=1e5*e.Math.random()>>0,R="__"+V+P,U="addEventListener",_="attached",k="Callback",x="detached",q="extends",B="attributeChanged"+k,Z=_+k,j="connected"+k,G="disconnected"+k,z="created"+k,K=x+k,X="ADDITION",$="REMOVAL",Q="DOMAttrModified",W="DOMContentLoaded",Y="DOMSubtreeModified",J="<",ee="=",te=/^[A-Z][._A-Z0-9]*-[-._A-Z0-9]*$/,ne=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],re=[],oe=[],le="",ae=g.documentElement,ie=re.indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},ue=b.prototype,ce=ue.hasOwnProperty,se=ue.isPrototypeOf,me=b.defineProperty,fe=[],de=b.getOwnPropertyDescriptor,pe=b.getOwnPropertyNames,he=b.getPrototypeOf,Te=b.setPrototypeOf,Le=!!b.__proto__,Me="__dreCEv1",Ee=e.customElements,ve=!/^force/.test(t.type)&&!!(Ee&&Ee.define&&Ee.get&&Ee.whenDefined),He=b.create||b,ge=e.Map||function(){var e,t=[],n=[];return{get:function(e){return n[ie.call(t,e)]},set:function(r,o){(e=ie.call(t,r))<0?n[t.push(r)-1]=o:n[e]=o}}},be=e.Promise||function(e){function t(e){for(r=!0;n.length;)n.shift()(e)}var n=[],r=!1,o={catch:function(){return o},then:function(e){return n.push(e),r&&setTimeout(t,1),o}};return e(t),o},ye=!1,Ce=He(null),we=He(null),Ae=new ge,Oe=function(e){return e.toLowerCase()},Ne=b.create||function e(t){return t?(e.prototype=t,new e):this},De=Te||(Le?function(e,t){return e.__proto__=t,e}:pe&&de?function(){function e(e,t){for(var n,r=pe(t),o=0,l=r.length;o<l;o++)n=r[o],ce.call(e,n)||me(e,n,de(t,n))}return function(t,n){do{e(t,n)}while((n=he(n))&&!se.call(n,t));return t}}():function(e,t){for(var n in t)e[n]=t[n];return e}),Ie=e.MutationObserver||e.WebKitMutationObserver,Fe=e.HTMLAnchorElement,Se=(e.HTMLElement||e.Element||e.Node).prototype,Ve=!se.call(Se,ae),Pe=Ve?function(e,t,n){return e[t]=n.value,e}:me,Re=Ve?function(e){return 1===e.nodeType}:function(e){return se.call(Se,e)},Ue=Ve&&[],_e=Se.attachShadow,ke=Se.cloneNode,xe=Se.closest||function(e){for(var t=this;t&&t.nodeName!==e;)t=t.parentNode;return t},qe=Se.dispatchEvent,Be=Se.getAttribute,Ze=Se.hasAttribute,je=Se.removeAttribute,Ge=Se.setAttribute,ze=g.createElement,Ke=g.importNode,Xe=ze,$e=Ie&&{attributes:!0,characterData:!0,attributeOldValue:!0},Qe=Ie||function(e){tt=!1,ae.removeEventListener(Q,Qe)},We=0,Ye=V in g&&!/^force-all/.test(t.type),Je=!0,et=!1,tt=!0,nt=!0,rt=!0;if(Ie&&((S=g.createElement("div")).innerHTML="<div><div></div></div>",new Ie(function(e,t){if(e[0]&&"childList"==e[0].type&&!e[0].removedNodes[0].childNodes.length){var n=(S=de(Se,"innerHTML"))&&S.set;n&&me(Se,"innerHTML",{set:function(e){for(;this.lastChild;)this.removeChild(this.lastChild);n.call(this,e)}})}t.disconnect(),S=null}).observe(S,{childList:!0,subtree:!0}),S.innerHTML=""),Ye||(Te||Le?(I=function(e,t){se.call(t,e)||f(e,t)},F=f):F=I=function(e,t){e[R]||(e[R]=b(!0),f(e,t))},Ve?(tt=!1,function(){var e=de(Se,U),t=e.value,n=function(e){var t=new CustomEvent(Q,{bubbles:!0});t.attrName=e,t.prevValue=Be.call(this,e),t.newValue=null,t[$]=t.attrChange=2,je.call(this,e),qe.call(this,t)},r=function(e,t){var n=Ze.call(this,e),r=n&&Be.call(this,e),o=new CustomEvent(Q,{bubbles:!0});Ge.call(this,e,t),o.attrName=e,o.prevValue=n?r:null,o.newValue=t,n?o.MODIFICATION=o.attrChange=1:o[X]=o.attrChange=0,qe.call(this,o)},o=function(e){var t,n=e.currentTarget,r=n[R],o=e.propertyName;r.hasOwnProperty(o)&&(r=r[o],(t=new CustomEvent(Q,{bubbles:!0})).attrName=r.name,t.prevValue=r.value||null,t.newValue=r.value=n[o]||null,null==t.prevValue?t[X]=t.attrChange=0:t.MODIFICATION=t.attrChange=1,qe.call(n,t))};e.value=function(e,l,a){e===Q&&this[B]&&this.setAttribute!==r&&(this[R]={className:{name:"class",value:this.className}},this.setAttribute=r,this.removeAttribute=n,t.call(this,"propertychange",o)),t.call(this,e,l,a)},me(Se,U,e)}()):Ie||(ae[U](Q,Qe),ae.setAttribute(R,1),ae.removeAttribute(R),tt&&(w=function(e){var t,n,r,o=this;if(o===e.target){for(r in t=o[R],o[R]=n=O(o),n){if(!(r in t))return A(0,o,r,t[r],n[r],X);if(n[r]!==t[r])return A(1,o,r,t[r],n[r],"MODIFICATION")}for(r in t)if(!(r in n))return A(2,o,r,t[r],n[r],$)}},A=function(e,t,n,r,o,l){var a={attrChange:e,currentTarget:t,attrName:n,prevValue:r,newValue:o};a[l]=e,i(a)},O=function(e){for(var t,n,r={},o=e.attributes,l=0,a=o.length;l<a;l++)"setAttribute"!==(n=(t=o[l]).name)&&(r[n]=t.value);return r})),g[V]=function(e,t){if(n=e.toUpperCase(),Je&&(Je=!1,Ie?(N=function(e,t){function n(e,t){for(var n=0,r=e.length;n<r;t(e[n++]));}return new Ie(function(r){for(var o,l,a,i=0,u=r.length;i<u;i++)"childList"===(o=r[i]).type?(n(o.addedNodes,e),n(o.removedNodes,t)):(l=o.target,rt&&l[B]&&"style"!==o.attributeName&&(a=Be.call(l,o.attributeName))!==o.oldValue&&l[B](o.attributeName,o.oldValue,a))})}(o(_),o(x)),(D=function(e){return N.observe(e,{childList:!0,subtree:!0}),e})(g),_e&&(Se.attachShadow=function(){return D(_e.apply(this,arguments))})):(C=[],g[U]("DOMNodeInserted",u(_)),g[U]("DOMNodeRemoved",u(x))),g[U](W,c),g[U]("readystatechange",c),g.importNode=function(e,t){switch(e.nodeType){case 1:return m(g,Ke,[e,!!t]);case 11:for(var n=g.createDocumentFragment(),r=e.childNodes,o=r.length,l=0;l<o;l++)n.appendChild(g.importNode(r[l],!!t));return n;default:return ke.call(e,!!t)}},Se.cloneNode=function(e){return m(this,ke,[!!e])}),et)return et=!1;if(-2<ie.call(re,ee+n)+ie.call(re,J+n)&&d(e),!te.test(n)||-1<ie.call(ne,n))throw new Error("The type "+e+" is invalid");var n,l,a=function(){return s?g.createElement(f,n):g.createElement(f)},i=t||ue,s=ce.call(i,q),f=s?t[q].toUpperCase():n;return s&&-1<ie.call(re,J+f)&&d(f),l=re.push((s?ee:J)+n)-1,le=le.concat(le.length?",":"",s?f+'[is="'+e.toLowerCase()+'"]':f),a.prototype=oe[l]=ce.call(i,"prototype")?i.prototype:Ne(Se),le.length&&r(g.querySelectorAll(le),_),a},g.createElement=Xe=function(e,t){var n=M(t),r=n?ze.call(g,e,Oe(n)):ze.call(g,e),o=""+e,l=ie.call(re,(n?ee:J)+(n||o).toUpperCase()),i=-1<l;return n&&(r.setAttribute("is",n=n.toLowerCase()),i&&(i=a(o.toUpperCase(),n))),rt=!g.createElement.innerHTMLHelper,i&&F(r,oe[l]),r}),addEventListener("beforeunload",function(){delete g.createElement,delete g.importNode,delete g[V]},!1),h.prototype={constructor:h,define:ve?function(e,t,n){if(n)T(e,t,n);else{var r=e.toUpperCase();Ce[r]={constructor:t,create:[r]},Ae.set(t,r),Ee.define(e,t)}}:T,get:ve?function(e){return Ee.get(e)||L(e)}:L,whenDefined:ve?function(e){return be.race([Ee.whenDefined(e),v(e)])}:v},!Ee||/^force/.test(t.type))H();else if(!t.noBuiltIn)try{!function(t,n,r){var o=new RegExp("^<a\\s+is=('|\")"+r+"\\1></a>$");if(n[q]="a",(t.prototype=Ne(Fe.prototype)).constructor=t,e.customElements.define(r,t,n),!o.test(g.createElement("a",{is:r}).outerHTML)||!o.test((new t).outerHTML))throw n}(function e(){return Reflect.construct(Fe,[],e)},{},"document-register-element-a"+P)}catch(e){H()}if(!t.noBuiltIn)try{if(ze.call(g,"a","a").outerHTML.indexOf("is")<0)throw{}}catch(e){Oe=function(e){return{is:e.toLowerCase()}}}}(window);
(self.webpackChunkcomponents=self.webpackChunkcomponents||[]).push([[179],{8255:function(Dr){function dn(Xe){return Promise.resolve().then(function(){var oe=new Error("Cannot find module '"+Xe+"'");throw oe.code="MODULE_NOT_FOUND",oe})}dn.keys=function(){return[]},dn.resolve=dn,dn.id=8255,Dr.exports=dn},6568:function(Dr){var T,Xe="__lodash_hash_undefined__",g=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,m=/^\w*$/,Ar=/^\./,D=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ei=/\\(\\)?/g,lt=/^\[object .+?Constructor\]$/,Eu="object"==typeof global&&global&&global.Object===Object&&global,S="object"==typeof self&&self&&self.Object===Object&&self,ir=Eu||S||Function("return this")(),wi=Array.prototype,Rr=Function.prototype,bi=Object.prototype,Ge=ir["__core-js_shared__"],A=(T=/[^.]+$/.exec(Ge&&Ge.keys&&Ge.keys.IE_PROTO||""))?"Symbol(src)_1."+T:"",ar=Rr.toString,Xi=bi.hasOwnProperty,Ci=bi.toString,Iu=RegExp("^"+ar.call(Xi).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ye=ir.Symbol,tn=wi.splice,Ha=Tu(ir,"Map"),pn=Tu(Object,"create"),Nr=ye?ye.prototype:void 0,Ei=Nr?Nr.toString:void 0;function G(T){var x=-1,se=T?T.length:0;for(this.clear();++x<se;){var Ze=T[x];this.set(Ze[0],Ze[1])}}function Te(T){var x=-1,se=T?T.length:0;for(this.clear();++x<se;){var Ze=T[x];this.set(Ze[0],Ze[1])}}function Vt(T){var x=-1,se=T?T.length:0;for(this.clear();++x<se;){var Ze=T[x];this.set(Ze[0],Ze[1])}}function qa(T,x){for(var se=T.length;se--;)if(Vs(T[se][0],x))return se;return-1}function $a(T,x){var se=T.__data__;return function(T){var x=typeof T;return"string"==x||"number"==x||"symbol"==x||"boolean"==x?"__proto__"!==T:null===T}(x)?se["string"==typeof x?"string":"hash"]:se.map}function Tu(T,x){var se=function(T,x){return null==T?void 0:T[x]}(T,x);return function(T){return!(!tf(T)||function(T){return!!A&&A in T}(T))&&(function(T){var x=tf(T)?Ci.call(T):"";return"[object Function]"==x||"[object GeneratorFunction]"==x}(T)||function(T){var x=!1;if(null!=T&&"function"!=typeof T.toString)try{x=!!(T+"")}catch(se){}return x}(T)?Iu:lt).test(function(T){if(null!=T){try{return ar.call(T)}catch(x){}try{return T+""}catch(x){}}return""}(T))}(se)?se:void 0}G.prototype.clear=function(){this.__data__=pn?pn(null):{}},G.prototype.delete=function(T){return this.has(T)&&delete this.__data__[T]},G.prototype.get=function(T){var x=this.__data__;if(pn){var se=x[T];return se===Xe?void 0:se}return Xi.call(x,T)?x[T]:void 0},G.prototype.has=function(T){var x=this.__data__;return pn?void 0!==x[T]:Xi.call(x,T)},G.prototype.set=function(T,x){return this.__data__[T]=pn&&void 0===x?Xe:x,this},Te.prototype.clear=function(){this.__data__=[]},Te.prototype.delete=function(T){var x=this.__data__,se=qa(x,T);return!(se<0||(se==x.length-1?x.pop():tn.call(x,se,1),0))},Te.prototype.get=function(T){var x=this.__data__,se=qa(x,T);return se<0?void 0:x[se][1]},Te.prototype.has=function(T){return qa(this.__data__,T)>-1},Te.prototype.set=function(T,x){var se=this.__data__,Ze=qa(se,T);return Ze<0?se.push([T,x]):se[Ze][1]=x,this},Vt.prototype.clear=function(){this.__data__={hash:new G,map:new(Ha||Te),string:new G}},Vt.prototype.delete=function(T){return $a(this,T).delete(T)},Vt.prototype.get=function(T){return $a(this,T).get(T)},Vt.prototype.has=function(T){return $a(this,T).has(T)},Vt.prototype.set=function(T,x){return $a(this,T).set(T,x),this};var Du=Su(function(T){T=function(T){return null==T?"":function(T){if("string"==typeof T)return T;if(Us(T))return Ei?Ei.call(T):"";var x=T+"";return"0"==x&&1/T==-1/0?"-0":x}(T)}(T);var x=[];return Ar.test(T)&&x.push(""),T.replace(D,function(se,Ze,za,Ka){x.push(za?Ka.replace(ei,"$1"):Ze||se)}),x});function ef(T){if("string"==typeof T||Us(T))return T;var x=T+"";return"0"==x&&1/T==-1/0?"-0":x}function Su(T,x){if("function"!=typeof T||x&&"function"!=typeof x)throw new TypeError("Expected a function");var se=function Ze(){var za=arguments,Ka=x?x.apply(this,za):za[0],Qa=Ze.cache;if(Qa.has(Ka))return Qa.get(Ka);var af=T.apply(this,za);return Ze.cache=Qa.set(Ka,af),af};return se.cache=new(Su.Cache||Vt),se}function Vs(T,x){return T===x||T!=T&&x!=x}Su.Cache=Vt;var jp=Array.isArray;function tf(T){var x=typeof T;return!!T&&("object"==x||"function"==x)}function Us(T){return"symbol"==typeof T||function(T){return!!T&&"object"==typeof T}(T)&&"[object Symbol]"==Ci.call(T)}Dr.exports=function(T,x,se){var Ze=null==T?void 0:function(T,x){x=function(T,x){if(jp(T))return!1;var se=typeof T;return!("number"!=se&&"symbol"!=se&&"boolean"!=se&&null!=T&&!Us(T))||m.test(T)||!g.test(T)||null!=x&&T in Object(x)}(x,T)?[x]:function(T){return jp(T)?T:Du(T)}(x);for(var se=0,Ze=x.length;null!=T&&se<Ze;)T=T[ef(x[se++])];return se&&se==Ze?T:void 0}(T,x);return void 0===Ze?se:Ze}},5579:function(Dr){var dn=function(Xe){"use strict";var ue,oe=Object.prototype,Sr=oe.hasOwnProperty,Ji="function"==typeof Symbol?Symbol:{},g=Ji.iterator||"@@iterator",m=Ji.asyncIterator||"@@asyncIterator",Ar=Ji.toStringTag||"@@toStringTag";function D(G,U,H){return Object.defineProperty(G,U,{value:H,enumerable:!0,configurable:!0,writable:!0}),G[U]}try{D({},"")}catch(G){D=function(H,Q,_e){return H[Q]=_e}}function ja(G,U,H,Q){var pe=Object.create((U&&U.prototype instanceof W?U:W).prototype),Te=new pn(Q||[]);return pe._invoke=function(G,U,H){var Q=lt;return function(pe,Te){if(Q===S)throw new Error("Generator is already running");if(Q===ir){if("throw"===pe)throw Te;return Ei()}for(H.method=pe,H.arg=Te;;){var pt=H.delegate;if(pt){var Ct=ye(pt,H);if(Ct){if(Ct===Lt)continue;return Ct}}if("next"===H.method)H.sent=H._sent=H.arg;else if("throw"===H.method){if(Q===lt)throw Q=ir,H.arg;H.dispatchException(H.arg)}else"return"===H.method&&H.abrupt("return",H.arg);Q=S;var Et=ei(G,U,H);if("normal"===Et.type){if(Q=H.done?ir:Eu,Et.arg===Lt)continue;return{value:Et.arg,done:H.done}}"throw"===Et.type&&(Q=ir,H.method="throw",H.arg=Et.arg)}}}(G,H,Te),pe}function ei(G,U,H){try{return{type:"normal",arg:G.call(U,H)}}catch(Q){return{type:"throw",arg:Q}}}Xe.wrap=ja;var lt="suspendedStart",Eu="suspendedYield",S="executing",ir="completed",Lt={};function W(){}function wi(){}function Rr(){}var bi={};D(bi,g,function(){return this});var Ge=Object.getPrototypeOf,A=Ge&&Ge(Ge(Nr([])));A&&A!==oe&&Sr.call(A,g)&&(bi=A);var ar=Rr.prototype=W.prototype=Object.create(bi);function Xi(G){["next","throw","return"].forEach(function(U){D(G,U,function(H){return this._invoke(U,H)})})}function Ci(G,U){function H(pe,Te,pt,Ct){var Et=ei(G[pe],G,Te);if("throw"!==Et.type){var Ii=Et.arg,kt=Ii.value;return kt&&"object"==typeof kt&&Sr.call(kt,"__await")?U.resolve(kt.__await).then(function(Vt){H("next",Vt,pt,Ct)},function(Vt){H("throw",Vt,pt,Ct)}):U.resolve(kt).then(function(Vt){Ii.value=Vt,pt(Ii)},function(Vt){return H("throw",Vt,pt,Ct)})}Ct(Et.arg)}var Q;this._invoke=function(pe,Te){function pt(){return new U(function(Ct,Et){H(pe,Te,Ct,Et)})}return Q=Q?Q.then(pt,pt):pt()}}function ye(G,U){var H=G.iterator[U.method];if(H===ue){if(U.delegate=null,"throw"===U.method){if(G.iterator.return&&(U.method="return",U.arg=ue,ye(G,U),"throw"===U.method))return Lt;U.method="throw",U.arg=new TypeError("The iterator does not provide a 'throw' method")}return Lt}var Q=ei(H,G.iterator,U.arg);if("throw"===Q.type)return U.method="throw",U.arg=Q.arg,U.delegate=null,Lt;var _e=Q.arg;return _e?_e.done?(U[G.resultName]=_e.value,U.next=G.nextLoc,"return"!==U.method&&(U.method="next",U.arg=ue),U.delegate=null,Lt):_e:(U.method="throw",U.arg=new TypeError("iterator result is not an object"),U.delegate=null,Lt)}function tn(G){var U={tryLoc:G[0]};1 in G&&(U.catchLoc=G[1]),2 in G&&(U.finallyLoc=G[2],U.afterLoc=G[3]),this.tryEntries.push(U)}function Ha(G){var U=G.completion||{};U.type="normal",delete U.arg,G.completion=U}function pn(G){this.tryEntries=[{tryLoc:"root"}],G.forEach(tn,this),this.reset(!0)}function Nr(G){if(G){var U=G[g];if(U)return U.call(G);if("function"==typeof G.next)return G;if(!isNaN(G.length)){var H=-1,Q=function _e(){for(;++H<G.length;)if(Sr.call(G,H))return _e.value=G[H],_e.done=!1,_e;return _e.value=ue,_e.done=!0,_e};return Q.next=Q}}return{next:Ei}}function Ei(){return{value:ue,done:!0}}return wi.prototype=Rr,D(ar,"constructor",Rr),D(Rr,"constructor",wi),wi.displayName=D(Rr,Ar,"GeneratorFunction"),Xe.isGeneratorFunction=function(G){var U="function"==typeof G&&G.constructor;return!!U&&(U===wi||"GeneratorFunction"===(U.displayName||U.name))},Xe.mark=function(G){return Object.setPrototypeOf?Object.setPrototypeOf(G,Rr):(G.__proto__=Rr,D(G,Ar,"GeneratorFunction")),G.prototype=Object.create(ar),G},Xe.awrap=function(G){return{__await:G}},Xi(Ci.prototype),D(Ci.prototype,m,function(){return this}),Xe.AsyncIterator=Ci,Xe.async=function(G,U,H,Q,_e){void 0===_e&&(_e=Promise);var pe=new Ci(ja(G,U,H,Q),_e);return Xe.isGeneratorFunction(U)?pe:pe.next().then(function(Te){return Te.done?Te.value:pe.next()})},Xi(ar),D(ar,Ar,"Generator"),D(ar,g,function(){return this}),D(ar,"toString",function(){return"[object Generator]"}),Xe.keys=function(G){var U=[];for(var H in G)U.push(H);return U.reverse(),function Q(){for(;U.length;){var _e=U.pop();if(_e in G)return Q.value=_e,Q.done=!1,Q}return Q.done=!0,Q}},Xe.values=Nr,pn.prototype={constructor:pn,reset:function(U){if(this.prev=0,this.next=0,this.sent=this._sent=ue,this.done=!1,this.delegate=null,this.method="next",this.arg=ue,this.tryEntries.forEach(Ha),!U)for(var H in this)"t"===H.charAt(0)&&Sr.call(this,H)&&!isNaN(+H.slice(1))&&(this[H]=ue)},stop:function(){this.done=!0;var H=this.tryEntries[0].completion;if("throw"===H.type)throw H.arg;return this.rval},dispatchException:function(U){if(this.done)throw U;var H=this;function Q(Et,Ii){return Te.type="throw",Te.arg=U,H.next=Et,Ii&&(H.method="next",H.arg=ue),!!Ii}for(var _e=this.tryEntries.length-1;_e>=0;--_e){var pe=this.tryEntries[_e],Te=pe.completion;if("root"===pe.tryLoc)return Q("end");if(pe.tryLoc<=this.prev){var pt=Sr.call(pe,"catchLoc"),Ct=Sr.call(pe,"finallyLoc");if(pt&&Ct){if(this.prev<pe.catchLoc)return Q(pe.catchLoc,!0);if(this.prev<pe.finallyLoc)return Q(pe.finallyLoc)}else if(pt){if(this.prev<pe.catchLoc)return Q(pe.catchLoc,!0)}else{if(!Ct)throw new Error("try statement without catch or finally");if(this.prev<pe.finallyLoc)return Q(pe.finallyLoc)}}}},abrupt:function(U,H){for(var Q=this.tryEntries.length-1;Q>=0;--Q){var _e=this.tryEntries[Q];if(_e.tryLoc<=this.prev&&Sr.call(_e,"finallyLoc")&&this.prev<_e.finallyLoc){var pe=_e;break}}pe&&("break"===U||"continue"===U)&&pe.tryLoc<=H&&H<=pe.finallyLoc&&(pe=null);var Te=pe?pe.completion:{};return Te.type=U,Te.arg=H,pe?(this.method="next",this.next=pe.finallyLoc,Lt):this.complete(Te)},complete:function(U,H){if("throw"===U.type)throw U.arg;return"break"===U.type||"continue"===U.type?this.next=U.arg:"return"===U.type?(this.rval=this.arg=U.arg,this.method="return",this.next="end"):"normal"===U.type&&H&&(this.next=H),Lt},finish:function(U){for(var H=this.tryEntries.length-1;H>=0;--H){var Q=this.tryEntries[H];if(Q.finallyLoc===U)return this.complete(Q.completion,Q.afterLoc),Ha(Q),Lt}},catch:function(U){for(var H=this.tryEntries.length-1;H>=0;--H){var Q=this.tryEntries[H];if(Q.tryLoc===U){var _e=Q.completion;if("throw"===_e.type){var pe=_e.arg;Ha(Q)}return pe}}throw new Error("illegal catch attempt")},delegateYield:function(U,H,Q){return this.delegate={iterator:Nr(U),resultName:H,nextLoc:Q},"next"===this.method&&(this.arg=ue),Lt}},Xe}(Dr.exports);try{regeneratorRuntime=dn}catch(Xe){"object"==typeof globalThis?globalThis.regeneratorRuntime=dn:Function("r","regeneratorRuntime = r")(dn)}},2201:function(Dr,dn,Xe){"use strict";function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(e)}function ue(e,t,n){return(ue="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(i,a,s){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=oe(e)););return e}(i,a);if(o){var u=Object.getOwnPropertyDescriptor(o,a);return u.get?u.get.call(s):u.value}})(e,t,n||e)}function Ji(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t&&Ji(e.prototype,t),n&&Ji(e,n),e}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ar(e,t){return(Ar=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r})(e,t)}function D(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ar(e,t)}function ja(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function ei(e){return(ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(e)}function lt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Eu(e,t){return!t||"object"!==ei(t)&&"function"!=typeof t?lt(e):t}function S(e){var t=ja();return function(){var i,r=oe(e);if(t){var a=oe(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return Eu(this,i)}}function ir(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Lt(e,t){if(e){if("string"==typeof e)return ir(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ir(e,t)}}function W(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Lt(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(l){throw l},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return a=l.done,l},e:function(l){s=!0,o=l},f:function(){try{!a&&null!=n.return&&n.return()}finally{if(s)throw o}}}}function Ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var s,o,r=[],i=!0,a=!1;try{for(n=n.call(e);!(i=(s=n.next()).done)&&(r.push(s.value),!t||r.length!==t);i=!0);}catch(u){a=!0,o=u}finally{try{!i&&null!=n.return&&n.return()}finally{if(a)throw o}}return r}}(e,t)||Lt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ye(e){return function(e){if(Array.isArray(e))return ir(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Lt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tn(e,t,n){return(tn=ja()?Reflect.construct:function(i,a,s){var o=[null];o.push.apply(o,a);var l=new(Function.bind.apply(i,o));return s&&Ar(l,s.prototype),l}).apply(null,arguments)}function pn(e){var t="function"==typeof Map?new Map:void 0;return(pn=function(r){if(null===r||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(r))return r;if("function"!=typeof r)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(r))return t.get(r);t.set(r,i)}function i(){return tn(r,arguments,oe(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Ar(i,r)})(e)}var Nr=function(){return Array.isArray||function(e){return e&&"number"==typeof e.length}}();function Ei(e){return null!==e&&"object"==typeof e}function G(e){return"function"==typeof e}var H=function(){function e(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map(function(n,r){return"".concat(r+1,") ").concat(n.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return e.prototype=Object.create(Error.prototype),e}(),Q=function(){var t,e=function(){function t(n){m(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,n&&(this._unsubscribe=n)}return g(t,[{key:"unsubscribe",value:function(){var r;if(!this.closed){var i=this._parentOrParents,a=this._unsubscribe,s=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,i instanceof t)i.remove(this);else if(null!==i)for(var o=0;o<i.length;++o)i[o].remove(this);if(G(a))try{a.call(this)}catch(h){r=h instanceof H?_e(h.errors):[h]}if(Nr(s))for(var l=-1,c=s.length;++l<c;){var f=s[l];if(Ei(f))try{f.unsubscribe()}catch(h){r=r||[],h instanceof H?r=r.concat(_e(h.errors)):r.push(h)}}if(r)throw new H(r)}}},{key:"add",value:function(r){var i=r;if(!r)return t.EMPTY;switch(typeof r){case"function":i=new t(r);case"object":if(i===this||i.closed||"function"!=typeof i.unsubscribe)return i;if(this.closed)return i.unsubscribe(),i;if(!(i instanceof t)){var a=i;(i=new t)._subscriptions=[a]}break;default:throw new Error("unrecognized teardown "+r+" added to Subscription.")}var o=i._parentOrParents;if(null===o)i._parentOrParents=this;else if(o instanceof t){if(o===this)return i;i._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return i;o.push(this)}var u=this._subscriptions;return null===u?this._subscriptions=[i]:u.push(i),i}},{key:"remove",value:function(r){var i=this._subscriptions;if(i){var a=i.indexOf(r);-1!==a&&i.splice(a,1)}}}]),t}();return e.EMPTY=((t=new e).closed=!0,t),e}();function _e(e){return e.reduce(function(t,n){return t.concat(n instanceof H?n.errors:n)},[])}var pe=!1,Te={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else pe&&console.log("RxJS: Back to a better error behavior. Thank you. <3");pe=e},get useDeprecatedSynchronousErrorHandling(){return pe}};function pt(e){setTimeout(function(){throw e},0)}var Ct={closed:!0,next:function(t){},error:function(t){if(Te.useDeprecatedSynchronousErrorHandling)throw t;pt(t)},complete:function(){}},Et=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),kt=function(e){D(n,e);var t=S(n);function n(r,i,a){var s;switch(m(this,n),(s=t.call(this)).syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=Ct;break;case 1:if(!r){s.destination=Ct;break}if("object"==typeof r){r instanceof n?(s.syncErrorThrowable=r.syncErrorThrowable,s.destination=r,r.add(lt(s))):(s.syncErrorThrowable=!0,s.destination=new Vt(lt(s),r));break}default:s.syncErrorThrowable=!0,s.destination=new Vt(lt(s),r,i,a)}return s}return g(n,[{key:Et,value:function(){return this}},{key:"next",value:function(i){this.isStopped||this._next(i)}},{key:"error",value:function(i){this.isStopped||(this.isStopped=!0,this._error(i))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,ue(oe(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(i){this.destination.next(i)}},{key:"_error",value:function(i){this.destination.error(i),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var i=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=i,this}}],[{key:"create",value:function(i,a,s){var o=new n(i,a,s);return o.syncErrorThrowable=!1,o}}]),n}(Q),Vt=function(e){D(n,e);var t=S(n);function n(r,i,a,s){var o;m(this,n),(o=t.call(this))._parentSubscriber=r;var u,l=lt(o);return G(i)?u=i:i&&(u=i.next,a=i.error,s=i.complete,i!==Ct&&(G((l=Object.create(i)).unsubscribe)&&o.add(l.unsubscribe.bind(l)),l.unsubscribe=o.unsubscribe.bind(lt(o)))),o._context=l,o._next=u,o._error=a,o._complete=s,o}return g(n,[{key:"next",value:function(i){if(!this.isStopped&&this._next){var a=this._parentSubscriber;Te.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable?this.__tryOrSetError(a,this._next,i)&&this.unsubscribe():this.__tryOrUnsub(this._next,i)}}},{key:"error",value:function(i){if(!this.isStopped){var a=this._parentSubscriber,s=Te.useDeprecatedSynchronousErrorHandling;if(this._error)s&&a.syncErrorThrowable?(this.__tryOrSetError(a,this._error,i),this.unsubscribe()):(this.__tryOrUnsub(this._error,i),this.unsubscribe());else if(a.syncErrorThrowable)s?(a.syncErrorValue=i,a.syncErrorThrown=!0):pt(i),this.unsubscribe();else{if(this.unsubscribe(),s)throw i;pt(i)}}}},{key:"complete",value:function(){var i=this;if(!this.isStopped){var a=this._parentSubscriber;if(this._complete){var s=function(){return i._complete.call(i._context)};Te.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable?(this.__tryOrSetError(a,s),this.unsubscribe()):(this.__tryOrUnsub(s),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(i,a){try{i.call(this._context,a)}catch(s){if(this.unsubscribe(),Te.useDeprecatedSynchronousErrorHandling)throw s;pt(s)}}},{key:"__tryOrSetError",value:function(i,a,s){if(!Te.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{a.call(this._context,s)}catch(o){return Te.useDeprecatedSynchronousErrorHandling?(i.syncErrorValue=o,i.syncErrorThrown=!0,!0):(pt(o),!0)}return!1}},{key:"_unsubscribe",value:function(){var i=this._parentSubscriber;this._context=null,this._parentSubscriber=null,i.unsubscribe()}}]),n}(kt),Ga=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function Jc(e){return e}function qa(e){return 0===e.length?Jc:1===e.length?e[0]:function(n){return e.reduce(function(r,i){return i(r)},n)}}var at=function(){var e=function(){function t(n){m(this,t),this._isScalar=!1,n&&(this._subscribe=n)}return g(t,[{key:"lift",value:function(r){var i=new t;return i.source=this,i.operator=r,i}},{key:"subscribe",value:function(r,i,a){var s=this.operator,o=function(e,t,n){if(e){if(e instanceof kt)return e;if(e[Et])return e[Et]()}return e||t||n?new kt(e,t,n):new kt(Ct)}(r,i,a);if(o.add(s?s.call(o,this.source):this.source||Te.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),Te.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o}},{key:"_trySubscribe",value:function(r){try{return this._subscribe(r)}catch(i){Te.useDeprecatedSynchronousErrorHandling&&(r.syncErrorThrown=!0,r.syncErrorValue=i),function(e){for(;e;){var r=e.destination;if(e.closed||e.isStopped)return!1;e=r&&r instanceof kt?r:null}return!0}(r)?r.error(i):console.warn(i)}}},{key:"forEach",value:function(r,i){var a=this;return new(i=Xc(i))(function(s,o){var u;u=a.subscribe(function(l){try{r(l)}catch(c){o(c),u&&u.unsubscribe()}},o,s)})}},{key:"_subscribe",value:function(r){var i=this.source;return i&&i.subscribe(r)}},{key:Ga,value:function(){return this}},{key:"pipe",value:function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return 0===i.length?this:qa(i)(this)}},{key:"toPromise",value:function(r){var i=this;return new(r=Xc(r))(function(a,s){var o;i.subscribe(function(u){return o=u},function(u){return s(u)},function(){return a(o)})})}}]),t}();return e.create=function(t){return new e(t)},e}();function Xc(e){if(e||(e=Te.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var Zi=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),$a=function(e){D(n,e);var t=S(n);function n(r,i){var a;return m(this,n),(a=t.call(this)).subject=r,a.subscriber=i,a.closed=!1,a}return g(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var i=this.subject,a=i.observers;if(this.subject=null,a&&0!==a.length&&!i.isStopped&&!i.closed){var s=a.indexOf(this.subscriber);-1!==s&&a.splice(s,1)}}}}]),n}(Q),Tu=function(e){D(n,e);var t=S(n);function n(r){var i;return m(this,n),(i=t.call(this,r)).destination=r,i}return g(n)}(kt),Wa=function(){var e=function(t){D(r,t);var n=S(r);function r(){var i;return m(this,r),(i=n.call(this)).observers=[],i.closed=!1,i.isStopped=!1,i.hasError=!1,i.thrownError=null,i}return g(r,[{key:Et,value:function(){return new Tu(this)}},{key:"lift",value:function(a){var s=new Zc(this,this);return s.operator=a,s}},{key:"next",value:function(a){if(this.closed)throw new Zi;if(!this.isStopped)for(var s=this.observers,o=s.length,u=s.slice(),l=0;l<o;l++)u[l].next(a)}},{key:"error",value:function(a){if(this.closed)throw new Zi;this.hasError=!0,this.thrownError=a,this.isStopped=!0;for(var s=this.observers,o=s.length,u=s.slice(),l=0;l<o;l++)u[l].error(a);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new Zi;this.isStopped=!0;for(var a=this.observers,s=a.length,o=a.slice(),u=0;u<s;u++)o[u].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(a){if(this.closed)throw new Zi;return ue(oe(r.prototype),"_trySubscribe",this).call(this,a)}},{key:"_subscribe",value:function(a){if(this.closed)throw new Zi;return this.hasError?(a.error(this.thrownError),Q.EMPTY):this.isStopped?(a.complete(),Q.EMPTY):(this.observers.push(a),new $a(this,a))}},{key:"asObservable",value:function(){var a=new at;return a.source=this,a}}]),r}(at);return e.create=function(t,n){return new Zc(t,n)},e}(),Zc=function(e){D(n,e);var t=S(n);function n(r,i){var a;return m(this,n),(a=t.call(this)).destination=r,a.source=i,a}return g(n,[{key:"next",value:function(i){var a=this.destination;a&&a.next&&a.next(i)}},{key:"error",value:function(i){var a=this.destination;a&&a.error&&this.destination.error(i)}},{key:"complete",value:function(){var i=this.destination;i&&i.complete&&this.destination.complete()}},{key:"_subscribe",value:function(i){return this.source?this.source.subscribe(i):Q.EMPTY}}]),n}(Wa);function Ls(e){return e&&"function"==typeof e.schedule}var Du=function(e){D(n,e);var t=S(n);function n(r,i,a){var s;return m(this,n),(s=t.call(this)).parent=r,s.outerValue=i,s.outerIndex=a,s.index=0,s}return g(n,[{key:"_next",value:function(i){this.parent.notifyNext(this.outerValue,i,this.outerIndex,this.index++,this)}},{key:"_error",value:function(i){this.parent.notifyError(i,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(kt),ef=function(t){return function(n){for(var r=0,i=t.length;r<i&&!n.closed;r++)n.next(t[r]);n.complete()}};function Su(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var Vs=Su(),nf=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function Us(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var rf=function(t){if(t&&"function"==typeof t[Ga])return function(t){return function(n){var r=t[Ga]();if("function"!=typeof r.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(n)}}(t);if(nf(t))return ef(t);if(Us(t))return function(t){return function(n){return t.then(function(r){n.closed||(n.next(r),n.complete())},function(r){return n.error(r)}).then(null,pt),n}}(t);if(t&&"function"==typeof t[Vs])return function(t){return function(n){for(var r=t[Vs]();;){var i=r.next();if(i.done){n.complete();break}if(n.next(i.value),n.closed)break}return"function"==typeof r.return&&n.add(function(){r.return&&r.return()}),n}}(t);var n=Ei(t)?"an invalid object":"'".concat(t,"'"),r="You provided ".concat(n," where a stream was expected.")+" You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(r)};function Au(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Du(e,n,r);if(!i.closed)return t instanceof at?t.subscribe(i):rf(t)(i)}var T=function(e){D(n,e);var t=S(n);function n(){return m(this,n),t.apply(this,arguments)}return g(n,[{key:"notifyNext",value:function(i,a,s,o,u){this.destination.next(a)}},{key:"notifyError",value:function(i,a){this.destination.error(i)}},{key:"notifyComplete",value:function(i){this.destination.complete()}}]),n}(kt);function x(e,t){return function(r){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new se(e,t))}}var se=function(){function e(t,n){m(this,e),this.project=t,this.thisArg=n}return g(e,[{key:"call",value:function(n,r){return r.subscribe(new Ze(n,this.project,this.thisArg))}}]),e}(),Ze=function(e){D(n,e);var t=S(n);function n(r,i,a){var s;return m(this,n),(s=t.call(this,r)).project=i,s.count=0,s.thisArg=a||lt(s),s}return g(n,[{key:"_next",value:function(i){var a;try{a=this.project.call(this.thisArg,i,this.count++)}catch(s){return void this.destination.error(s)}this.destination.next(a)}}]),n}(kt);function Qa(e,t){return new at(function(n){var r=new Q,i=0;return r.add(t.schedule(function(){i!==e.length?(n.next(e[i++]),n.closed||r.add(this.schedule())):n.complete()})),r})}function Ru(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[Ga]}(e))return function(e,t){return new at(function(n){var r=new Q;return r.add(t.schedule(function(){var i=e[Ga]();r.add(i.subscribe({next:function(s){r.add(t.schedule(function(){return n.next(s)}))},error:function(s){r.add(t.schedule(function(){return n.error(s)}))},complete:function(){r.add(t.schedule(function(){return n.complete()}))}}))})),r})}(e,t);if(Us(e))return function(e,t){return new at(function(n){var r=new Q;return r.add(t.schedule(function(){return e.then(function(i){r.add(t.schedule(function(){n.next(i),r.add(t.schedule(function(){return n.complete()}))}))},function(i){r.add(t.schedule(function(){return n.error(i)}))})})),r})}(e,t);if(nf(e))return Qa(e,t);if(function(e){return e&&"function"==typeof e[Vs]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new at(function(n){var i,r=new Q;return r.add(function(){i&&"function"==typeof i.return&&i.return()}),r.add(t.schedule(function(){i=e[Vs](),r.add(t.schedule(function(){if(!n.closed){var a,s;try{var o=i.next();a=o.value,s=o.done}catch(u){return void n.error(u)}s?n.complete():(n.next(a),this.schedule())}}))})),r})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof at?e:new at(rf(e))}function OC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof t?function(r){return r.pipe(OC(function(i,a){return Ru(e(i,a)).pipe(x(function(s,o){return t(i,s,a,o)}))},n))}:("number"==typeof t&&(n=t),function(r){return r.lift(new tx(e,n))})}var tx=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;m(this,e),this.project=t,this.concurrent=n}return g(e,[{key:"call",value:function(n,r){return r.subscribe(new nx(n,this.project,this.concurrent))}}]),e}(),nx=function(e){D(n,e);var t=S(n);function n(r,i){var a,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return m(this,n),(a=t.call(this,r)).project=i,a.concurrent=s,a.hasCompleted=!1,a.buffer=[],a.active=0,a.index=0,a}return g(n,[{key:"_next",value:function(i){this.active<this.concurrent?this._tryNext(i):this.buffer.push(i)}},{key:"_tryNext",value:function(i){var a,s=this.index++;try{a=this.project(i,s)}catch(o){return void this.destination.error(o)}this.active++,this._innerSub(a,i,s)}},{key:"_innerSub",value:function(i,a,s){var o=new Du(this,a,s),u=this.destination;u.add(o);var l=Au(this,i,void 0,void 0,o);l!==o&&u.add(l)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(i,a,s,o,u){this.destination.next(a)}},{key:"notifyComplete",value:function(i){var a=this.buffer;this.remove(i),this.active--,a.length>0?this._next(a.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(T);function rx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return OC(Jc,e)}function FC(e,t){return t?Qa(e,t):new at(ef(e))}function xC(){for(var e=Number.POSITIVE_INFINITY,t=null,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r[r.length-1];return Ls(a)?(t=r.pop(),r.length>1&&"number"==typeof r[r.length-1]&&(e=r.pop())):"number"==typeof a&&(e=r.pop()),null===t&&1===r.length&&r[0]instanceof at?r[0]:rx(e)(FC(r,t))}function LC(){return function(t){return t.lift(new ix(t))}}var ix=function(){function e(t){m(this,e),this.connectable=t}return g(e,[{key:"call",value:function(n,r){var i=this.connectable;i._refCount++;var a=new ax(n,i),s=r.subscribe(a);return a.closed||(a.connection=i.connect()),s}}]),e}(),ax=function(e){D(n,e);var t=S(n);function n(r,i){var a;return m(this,n),(a=t.call(this,r)).connectable=i,a}return g(n,[{key:"_unsubscribe",value:function(){var i=this.connectable;if(i){this.connectable=null;var a=i._refCount;if(a<=0)this.connection=null;else if(i._refCount=a-1,a>1)this.connection=null;else{var s=this.connection,o=i._connection;this.connection=null,o&&(!s||o===s)&&o.unsubscribe()}}else this.connection=null}}]),n}(kt),sx=function(e){D(n,e);var t=S(n);function n(r,i){var a;return m(this,n),(a=t.call(this)).source=r,a.subjectFactory=i,a._refCount=0,a._isComplete=!1,a}return g(n,[{key:"_subscribe",value:function(i){return this.getSubject().subscribe(i)}},{key:"getSubject",value:function(){var i=this._subject;return(!i||i.isStopped)&&(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var i=this._connection;return i||(this._isComplete=!1,(i=this._connection=new Q).add(this.source.subscribe(new ux(this.getSubject(),this))),i.closed&&(this._connection=null,i=Q.EMPTY)),i}},{key:"refCount",value:function(){return LC()(this)}}]),n}(at),ox=function(){var e=sx.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}}(),ux=function(e){D(n,e);var t=S(n);function n(r,i){var a;return m(this,n),(a=t.call(this,r)).connectable=i,a}return g(n,[{key:"_error",value:function(i){this._unsubscribe(),ue(oe(n.prototype),"_error",this).call(this,i)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),ue(oe(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var i=this.connectable;if(i){this.connectable=null;var a=i._connection;i._refCount=0,i._subject=null,i._connection=null,a&&a.unsubscribe()}}}]),n}(Tu);function fx(){return new Wa}function je(e){for(var t in e)if(e[t]===je)return t;throw Error("Could not find renamed property on target object.")}function Gp(e,t){for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Ce(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Ce).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return"".concat(e.overriddenName);if(e.name)return"".concat(e.name);var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function qp(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}var dx=je({__forward_ref__:je});function et(e){return e.__forward_ref__=et,e.toString=function(){return Ce(this())},e}function ie(e){return VC(e)?e():e}function VC(e){return"function"==typeof e&&e.hasOwnProperty(dx)&&e.__forward_ref__===et}var Ya=function(e){D(n,e);var t=S(n);function n(r,i){var a;return m(this,n),(a=t.call(this,function(e,t){var n=e?"NG0".concat(e,": "):"";return"".concat(n).concat(t)}(r,i))).code=r,a}return g(n)}(pn(Error));function ve(e){return"string"==typeof e?e:null==e?"":String(e)}function vn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():ve(e)}function sf(e,t){var n=t?" in ".concat(t):"";throw new Ya("201","No provider for ".concat(vn(e)," found").concat(n))}function Hn(e,t){null==e&&function(e,t,n,r){throw new Error("ASSERTION ERROR: ".concat(e)+(null==r?"":" [Expected=> ".concat(n," ").concat(r," ").concat(t," <=Actual]")))}(t,e,null,"!=")}function Re(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Mr(e){return{providers:e.providers||[],imports:e.imports||[]}}function ea(e){return UC(e,uf)||UC(e,jC)}function UC(e,t){return e.hasOwnProperty(t)?e[t]:null}function BC(e){return e&&(e.hasOwnProperty(Wp)||e.hasOwnProperty(kx))?e[Wp]:null}var zp,uf=je({"\u0275prov":je}),Wp=je({"\u0275inj":je}),jC=je({ngInjectableDef:je}),kx=je({ngInjectorDef:je}),Fe=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function wx(){return zp}function ta(e){var t=zp;return zp=e,t}function HC(e,t,n){var r=ea(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Fe.Optional?null:void 0!==t?t:void sf(Ce(e),"Injector")}function na(e){return{toString:e}.toString()}var Nu=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}({}),ti=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}({}),bx="undefined"!=typeof globalThis&&globalThis,Cx="undefined"!=typeof window&&window,Ex="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ix="undefined"!=typeof global&&global,qe=bx||Ix||Cx||Ex,Bs={},Ke=[],lf=je({"\u0275cmp":je}),Kp=je({"\u0275dir":je}),Qp=je({"\u0275pipe":je}),GC=je({"\u0275mod":je}),Tx=je({"\u0275loc":je}),Di=je({"\u0275fac":je}),Mu=je({__NG_ELEMENT_ID__:je}),Dx=0;function gt(e){return na(function(){var n={},r={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Nu.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||Ke,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||ti.Emulated,id:"c",styles:e.styles||Ke,_:null,setInput:null,schemas:e.schemas||null,tView:null},i=e.directives,a=e.features,s=e.pipes;return r.id+=Dx++,r.inputs=zC(e.inputs,n),r.outputs=zC(e.outputs),a&&a.forEach(function(o){return o(r)}),r.directiveDefs=i?function(){return("function"==typeof i?i():i).map(qC)}:null,r.pipeDefs=s?function(){return("function"==typeof s?s():s).map($C)}:null,r})}function qC(e){return mn(e)||function(e){return e[Kp]||null}(e)}function $C(e){return function(e){return e[Qp]||null}(e)}var WC={};function Si(e){return na(function(){var t={type:e.type,bootstrap:e.bootstrap||Ke,declarations:e.declarations||Ke,imports:e.imports||Ke,exports:e.exports||Ke,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(WC[e.id]=e.type),t})}function zC(e,t){if(null==e)return Bs;var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r],a=i;Array.isArray(i)&&(a=i[1],i=i[0]),n[i]=r,t&&(t[i]=a)}return n}var le=gt;function gn(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function mn(e){return e[lf]||null}function sr(e,t){var n=e[GC]||null;if(!n&&!0===t)throw new Error("Type ".concat(Ce(e)," does not have '\u0275mod' property."));return n}function ni(e){return Array.isArray(e)&&"object"==typeof e[1]}function Or(e){return Array.isArray(e)&&!0===e[1]}function Xp(e){return 0!=(8&e.flags)}function df(e){return 2==(2&e.flags)}function pf(e){return 1==(1&e.flags)}function Fr(e){return null!==e.template}function Ox(e){return 0!=(512&e[2])}function ts(e,t){return e.hasOwnProperty(Di)?e[Di]:null}var ev=function(){function e(t,n,r){m(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=r}return g(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}();function qn(){return QC}function QC(e){return e.type.prototype.ngOnChanges&&(e.setInput=Vx),Lx}function Lx(){var e=JC(this),t=null==e?void 0:e.current;if(t){var n=e.previous;if(n===Bs)e.previous=t;else for(var r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Vx(e,t,n,r){var i=JC(e)||function(e,t){return e[YC]=t}(e,{previous:Bs,current:null}),a=i.current||(i.current={}),s=i.previous,o=this.declaredInputs[n],u=s[o];a[o]=new ev(u&&u.currentValue,t,s===Bs),e[r]=t}qn.ngInherit=!0;var YC="__ngSimpleChanges__";function JC(e){return e[YC]||null}var XC="http://www.w3.org/2000/svg",nv=void 0;function mt(e){return!!e.listen}var eE={createRenderer:function(t,n){return void 0!==nv?nv:"undefined"!=typeof document?document:void 0}};function It(e){for(;Array.isArray(e);)e=e[0];return e}function vf(e,t){return It(t[e])}function lr(e,t){return It(t[e.index])}function iv(e,t){return e.data[t]}function $s(e,t){return e[t]}function $n(e,t){var n=t[e];return ni(n)?n:n[0]}function tE(e){return 4==(4&e[2])}function av(e){return 128==(128&e[2])}function ia(e,t){return null==t?null:e[t]}function nE(e){e[18]=0}function sv(e,t){e[5]+=t;for(var n=e,r=e[3];null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}var ce={lFrame:cE(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function rE(){return ce.bindingsEnabled}function P(){return ce.lFrame.lView}function Ne(){return ce.lFrame.tView}function zt(e){return ce.lFrame.contextLView=e,e[8]}function Nt(){for(var e=iE();null!==e&&64===e.type;)e=e.parent;return e}function iE(){return ce.lFrame.currentTNode}function ri(e,t){var n=ce.lFrame;n.currentTNode=e,n.isParent=t}function ov(){return ce.lFrame.isParent}function uv(){ce.lFrame.isParent=!1}function gf(){return ce.isInCheckNoChangesMode}function mf(e){ce.isInCheckNoChangesMode=e}function ii(){return ce.lFrame.bindingIndex}function Ws(){return ce.lFrame.bindingIndex++}function Ai(e){var t=ce.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function eL(e,t){var n=ce.lFrame;n.bindingIndex=n.bindingRootIndex=e,lv(t)}function lv(e){ce.lFrame.currentDirectiveIndex=e}function oE(){return ce.lFrame.currentQueryIndex}function fv(e){ce.lFrame.currentQueryIndex=e}function nL(e){var t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function uE(e,t,n){if(n&Fe.SkipSelf){for(var r=t,i=e;!(null!==(r=r.parent)||n&Fe.Host||null===(r=nL(i))||(i=i[15],10&r.type)););if(null===r)return!1;t=r,e=i}var a=ce.lFrame=lE();return a.currentTNode=t,a.lView=e,!0}function yf(e){var t=lE(),n=e[1];ce.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function lE(){var e=ce.lFrame,t=null===e?null:e.child;return null===t?cE(e):t}function cE(e){var t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function fE(){var e=ce.lFrame;return ce.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var hE=fE;function _f(){var e=fE();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function rL(e){return(ce.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,ce.lFrame.contextLView))[8]}function _n(){return ce.lFrame.selectedIndex}function aa(e){ce.lFrame.selectedIndex=e}function yt(){var e=ce.lFrame;return iv(e.tView,e.selectedIndex)}function kf(e,t){for(var n=t.directiveStart,r=t.directiveEnd;n<r;n++){var a=e.data[n].type.prototype,s=a.ngAfterContentInit,o=a.ngAfterContentChecked,u=a.ngAfterViewInit,l=a.ngAfterViewChecked,c=a.ngOnDestroy;s&&(e.contentHooks||(e.contentHooks=[])).push(-n,s),o&&((e.contentHooks||(e.contentHooks=[])).push(n,o),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,o)),u&&(e.viewHooks||(e.viewHooks=[])).push(-n,u),l&&((e.viewHooks||(e.viewHooks=[])).push(n,l),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,l)),null!=c&&(e.destroyHooks||(e.destroyHooks=[])).push(n,c)}}function wf(e,t,n){pE(e,t,3,n)}function bf(e,t,n,r){(3&e[2])===n&&pE(e,t,n,r)}function hv(e,t){var n=e[2];(3&n)===t&&(n&=2047,e[2]=n+=1)}function pE(e,t,n,r){for(var a=null!=r?r:-1,s=t.length-1,o=0,u=void 0!==r?65535&e[18]:0;u<s;u++)if("number"==typeof t[u+1]){if(o=t[u],null!=r&&o>=r)break}else t[u]<0&&(e[18]+=65536),(o<a||-1==a)&&(cL(e,n,t,u),e[18]=(4294901760&e[18])+u+2),u++}function cL(e,t,n,r){var i=n[r]<0,a=n[r+1],o=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{a.call(o)}finally{}}}else try{a.call(o)}finally{}}var Lu=g(function e(t,n,r){m(this,e),this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r});function Cf(e,t,n){for(var r=mt(e),i=0;i<n.length;){var a=n[i];if("number"==typeof a){if(0!==a)break;i++;var s=n[i++],o=n[i++],u=n[i++];r?e.setAttribute(t,o,u,s):t.setAttributeNS(s,o,u)}else{var l=a,c=n[++i];pv(l)?r&&e.setProperty(t,l,c):r?e.setAttribute(t,l,c):t.setAttribute(l,c),i++}}return i}function vE(e){return 3===e||4===e||6===e}function pv(e){return 64===e.charCodeAt(0)}function Ef(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else for(var n=-1,r=0;r<t.length;r++){var i=t[r];"number"==typeof i?n=i:0===n||gE(e,n,i,null,-1===n||2===n?t[++r]:null)}return e}function gE(e,t,n,r,i){var a=0,s=e.length;if(-1===t)s=-1;else for(;a<e.length;){var o=e[a++];if("number"==typeof o){if(o===t){s=-1;break}if(o>t){s=a-1;break}}}for(;a<e.length;){var u=e[a];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(e[a+1]=i));if(r===e[a+1])return void(e[a+2]=i)}a++,null!==r&&a++,null!==i&&a++}-1!==s&&(e.splice(s,0,t),a=s+1),e.splice(a++,0,n),null!==r&&e.splice(a++,0,r),null!==i&&e.splice(a++,0,i)}function mE(e){return-1!==e}function zs(e){return 32767&e}function Ks(e,t){for(var n=function(e){return e>>16}(e),r=t;n>0;)r=r[15],n--;return r}var vv=!0;function If(e){var t=vv;return vv=e,t}var mL=0;function Uu(e,t){var n=mv(e,t);if(-1!==n)return n;var r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,gv(r.data,e),gv(t,null),gv(r.blueprint,null));var i=Tf(e,t),a=e.injectorIndex;if(mE(i))for(var s=zs(i),o=Ks(i,t),u=o[1].data,l=0;l<8;l++)t[a+l]=o[s+l]|u[s+l];return t[a+8]=i,a}function gv(e,t){e.push(0,0,0,0,0,0,0,0,t)}function mv(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Tf(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var n=0,r=null,i=t;null!==i;){var a=i[1],s=a.type;if(null===(r=2===s?a.declTNode:1===s?i[6]:null))return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Df(e,t,n){!function(e,t,n){var r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Mu)&&(r=n[Mu]),null==r&&(r=n[Mu]=mL++);var i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function kE(e,t,n){if(n&Fe.Optional)return e;sf(t,"NodeInjector")}function wE(e,t,n,r){if(n&Fe.Optional&&void 0===r&&(r=null),0==(n&(Fe.Self|Fe.Host))){var i=e[9],a=ta(void 0);try{return i?i.get(t,r,n&Fe.Optional):HC(t,r,n&Fe.Optional)}finally{ta(a)}}return kE(r,t,n)}function bE(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Fe.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==e){var a=bL(n);if("function"==typeof a){if(!uE(t,e,r))return r&Fe.Host?kE(i,n,r):wE(t,n,r,i);try{var s=a(r);if(null!=s||r&Fe.Optional)return s;sf(n)}finally{hE()}}else if("number"==typeof a){var o=null,u=mv(e,t),l=-1,c=r&Fe.Host?t[16][6]:null;for((-1===u||r&Fe.SkipSelf)&&(-1!==(l=-1===u?Tf(e,t):t[u+8])&&IE(r,!1)?(o=t[1],u=zs(l),t=Ks(l,t)):u=-1);-1!==u;){var f=t[1];if(EE(a,u,f.data)){var h=wL(u,t,n,o,r,c);if(h!==CE)return h}-1!==(l=t[u+8])&&IE(r,t[1].data[u+8]===c)&&EE(a,u,t)?(o=f,u=zs(l),t=Ks(l,t)):u=-1}}}return wE(t,n,r,i)}var CE={};function kL(){return new Qs(Nt(),P())}function wL(e,t,n,r,i,a){var s=t[1],o=s.data[e+8],c=Sf(o,s,n,null==r?df(o)&&vv:r!=s&&0!=(3&o.type),i&Fe.Host&&a===o);return null!==c?Bu(t,s,c,o):CE}function Sf(e,t,n,r,i){for(var a=e.providerIndexes,s=t.data,o=1048575&a,u=e.directiveStart,c=a>>20,h=i?o+c:e.directiveEnd,d=r?o:o+c;d<h;d++){var p=s[d];if(d<u&&n===p||d>=u&&p.type===n)return d}if(i){var v=s[u];if(v&&Fr(v)&&v.type===n)return u}return null}function Bu(e,t,n,r){var i=e[n],a=t.data;if(function(e){return e instanceof Lu}(i)){var s=i;s.resolving&&function(e,t){throw new Ya("200","Circular dependency in DI detected for ".concat(e).concat(""))}(vn(a[n]));var o=If(s.canSeeViewProviders);s.resolving=!0;var u=s.injectImpl?ta(s.injectImpl):null;uE(e,r,Fe.Default);try{i=e[n]=s.factory(void 0,a,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){var r=t.type.prototype,a=r.ngOnInit,s=r.ngDoCheck;if(r.ngOnChanges){var o=QC(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o)}a&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,a),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s))}(n,a[n],t)}finally{null!==u&&ta(u),If(o),s.resolving=!1,hE()}}return i}function bL(e){if("string"==typeof e)return e.charCodeAt(0)||0;var t=e.hasOwnProperty(Mu)?e[Mu]:void 0;return"number"==typeof t?t>=0?255&t:kL:t}function EE(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function IE(e,t){return!(e&Fe.Self||e&Fe.Host&&t)}var Qs=function(){function e(t,n){m(this,e),this._tNode=t,this._lView=n}return g(e,[{key:"get",value:function(n,r,i){return bE(this._tNode,this._lView,n,i,r)}}]),e}();function cr(e){return na(function(){for(var t=e.prototype.constructor,n=t[Di]||yv(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;i&&i!==r;){var a=i[Di]||yv(i);if(a&&a!==n)return a;i=Object.getPrototypeOf(i)}return function(s){return new s}})}function yv(e){return VC(e)?function(){var t=yv(ie(e));return t&&t()}:ts(e)}var Js="__parameters__";function ns(e,t,n){return na(function(){var r=function(e){return function(){if(e){var n=e.apply(void 0,arguments);for(var r in n)this[r]=n[r]}}}(t);function i(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];if(this instanceof i)return r.apply(this,s),this;var u=tn(i,s);return l.annotation=u,l;function l(c,f,h){for(var d=c.hasOwnProperty(Js)?c[Js]:Object.defineProperty(c,Js,{value:[]})[Js];d.length<=h;)d.push(null);return(d[h]=d[h]||[]).push(u),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var Me=function(){function e(t,n){m(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Re({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return g(e,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),e}();function fr(e,t){void 0===t&&(t=e);for(var n=0;n<e.length;n++){var r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),fr(r,t)):t!==e&&t.push(r)}return t}function ai(e,t){e.forEach(function(n){return Array.isArray(n)?ai(n,t):t(n)})}function Rf(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function rs(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Wn(e,t,n){var r=Zs(e,t);return r>=0?e[1|r]=n:function(e,t,n,r){var i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r=~r,t,n),r}function bv(e,t){var n=Zs(e,t);if(n>=0)return e[1|n]}function Zs(e,t){return function(e,t,n){for(var r=0,i=e.length>>n;i!==r;){var a=r+(i-r>>1),s=e[a<<n];if(t===s)return a<<n;s>t?i=a:r=a+1}return~(i<<n)}(e,t,1)}var qu={},Ev="__NG_DI_FLAG__",eo="ngTempTokenPath",xL=/\n/gm,Iv="__source",Tv=je({provide:String,useValue:je}),$u=void 0;function Mf(e){var t=$u;return $u=e,t}function UL(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fe.Default;if(void 0===$u)throw new Error("inject() must be called from an injection context");return null===$u?HC(e,void 0,t):$u.get(e,t&Fe.Optional?null:void 0,t)}function me(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fe.Default;return(wx()||UL)(ie(e),t)}function is(e){for(var t=[],n=0;n<e.length;n++){var r=ie(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,a=Fe.Default,s=0;s<r.length;s++){var o=r[s],u=BL(o);"number"==typeof u?-1===u?i=o.token:a|=u:i=o}t.push(me(i,a))}else t.push(me(r))}return t}function Wu(e,t){return e[Ev]=t,e.prototype[Ev]=t,e}function BL(e){return e[Ev]}function jL(e,t,n,r){var i=e[eo];throw t[Iv]&&i.unshift(t[Iv]),e.message=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;var i=Ce(t);if(Array.isArray(t))i=t.map(Ce).join(" -> ");else if("object"==typeof t){var a=[];for(var s in t)if(t.hasOwnProperty(s)){var o=t[s];a.push(s+":"+("string"==typeof o?JSON.stringify(o):Ce(o)))}i="{".concat(a.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(e.replace(xL,"\n  "))}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[eo]=null,e}var zu=Wu(ns("Inject",function(t){return{token:t}}),-1),si=Wu(ns("Optional"),8),as=Wu(ns("SkipSelf"),4),ss=function(){function e(t){m(this,e),this.changingThisBreaksApplicationSecurity=t}return g(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity)+" (see https://g.co/ng/security#xss)"}}]),e}();function zn(e){return e instanceof ss?e.changingThisBreaksApplicationSecurity:e}function oi(e,t){var n=function(e){return e instanceof ss&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error("Required a safe ".concat(t,", got a ").concat(n," (see https://g.co/ng/security#xss)"))}return n===t}var hV=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,dV=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var hr=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}({});function ua(e){var t=function(){var e=P();return e&&e[12]}();return t?t.sanitize(hr.URL,e)||"":oi(e,"URL")?zn(e):function(e){return(e=String(e)).match(hV)||e.match(dV)?e:"unsafe:"+e}(ve(e))}var QE="__ngContext__";function rn(e,t){e[QE]=t}function Fv(e){var t=function(e){return e[QE]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Vf(e){return e.ngOriginalError}function BV(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.error.apply(e,n)}var os=function(){function e(){m(this,e),this._console=console}return g(e,[{key:"handleError",value:function(n){var r=this._findOriginalError(n),i=this._findContext(n),a=function(e){return e&&e.ngErrorLogger||BV}(n);a(this._console,"ERROR",n),r&&a(this._console,"ORIGINAL ERROR",r),i&&a(this._console,"ERROR CONTEXT",i)}},{key:"_findContext",value:function(n){return n?function(e){return e.ngDebugContext}(n)||this._findContext(Vf(n)):null}},{key:"_findOriginalError",value:function(n){for(var r=n&&Vf(n);r&&Vf(r);)r=Vf(r);return r||null}}]),e}(),iI=function(){return("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(qe)}();function Vv(e){return e.ownerDocument}function li(e){return e instanceof Function?e():e}var io=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}({});function Bv(e,t){return undefined(e,t)}function Zu(e){var t=e[3];return Or(t)?t[3]:t}function jv(e){return lI(e[13])}function Hv(e){return lI(e[4])}function lI(e){for(;null!==e&&!Or(e);)e=e[4];return e}function ao(e,t,n,r,i){if(null!=r){var a,s=!1;Or(r)?a=r:ni(r)&&(s=!0,r=r[0]);var o=It(r);0===e&&null!==n?null==i?vI(t,n,o):us(t,n,o,i||null,!0):1===e&&null!==n?us(t,n,o,i||null,!0):2===e?function(e,t,n){var r=Uf(e,t);r&&function(e,t,n,r){mt(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,o,s):3===e&&t.destroyNode(o),null!=a&&function(e,t,n,r,i){var a=n[7];a!==It(n)&&ao(t,e,r,a,i);for(var o=10;o<n.length;o++){var u=n[o];el(u[1],u,e,t,r,a)}}(t,e,a,n,i)}}function Gv(e,t){return mt(e)?e.createText(t):e.createTextNode(t)}function qv(e,t,n){return mt(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function fI(e,t){var n=e[9],r=n.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,sv(i,-1)),n.splice(r,1)}function $v(e,t){if(!(e.length<=10)){var n=10+t,r=e[n];if(r){var i=r[17];null!==i&&i!==e&&fI(i,r),t>0&&(e[n-1][4]=r[4]);var a=rs(e,10+t);!function(e,t){el(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);var s=a[19];null!==s&&s.detachView(a[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}}function hI(e,t){if(!(256&t[2])){var n=t[11];mt(n)&&n.destroyNode&&el(e,t,n,3,null,null),function(e){var t=e[13];if(!t)return Wv(e[1],e);for(;t;){var n=null;if(ni(t))n=t[13];else{var r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)ni(t)&&Wv(t[1],t),t=t[3];null===t&&(t=e),ni(t)&&Wv(t[1],t),n=t&&t[4]}t=n}}(t)}}function Wv(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){var n;if(null!=e&&null!=(n=e.destroyHooks))for(var r=0;r<n.length;r+=2){var i=t[n[r]];if(!(i instanceof Lu)){var a=n[r+1];if(Array.isArray(a))for(var s=0;s<a.length;s+=2){var o=i[a[s]],u=a[s+1];try{u.call(o)}finally{}}else try{a.call(i)}finally{}}}}(e,t),function(e,t){var n=e.cleanup,r=t[7],i=-1;if(null!==n)for(var a=0;a<n.length-1;a+=2)if("string"==typeof n[a]){var s=n[a+1],o="function"==typeof s?s(t):It(t[s]),u=r[i=n[a+2]],l=n[a+3];"boolean"==typeof l?o.removeEventListener(n[a],u,l):l>=0?r[i=l]():r[i=-l].unsubscribe(),a+=2}else{var c=r[i=n[a+1]];n[a].call(c)}if(null!==r){for(var f=i+1;f<r.length;f++)(0,r[f])();t[7]=null}}(e,t),1===t[1].type&&mt(t[11])&&t[11].destroy();var n=t[17];if(null!==n&&Or(t[3])){n!==t[3]&&fI(n,t);var r=t[19];null!==r&&r.detachView(e)}}}function dI(e,t,n){return function(e,t,n){for(var r=t;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){var i=e.data[r.directiveStart].encapsulation;if(i===ti.None||i===ti.Emulated)return null}return lr(r,n)}(e,t.parent,n)}function us(e,t,n,r,i){mt(e)?e.insertBefore(t,n,r,i):t.insertBefore(n,r,i)}function vI(e,t,n){mt(e)?e.appendChild(t,n):t.appendChild(n)}function gI(e,t,n,r,i){null!==r?us(e,t,n,r,i):vI(e,t,n)}function Uf(e,t){return mt(e)?e.parentNode(t):t.parentNode}var _I=function(e,t,n){return 40&e.type?lr(e,n):null};function Bf(e,t,n,r){var i=dI(e,r,t),a=t[11],o=function(e,t,n){return _I(e,t,n)}(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(var u=0;u<n.length;u++)gI(a,i,n[u],o,!1);else gI(a,i,n,o,!1)}function jf(e,t){if(null!==t){var n=t.type;if(3&n)return lr(t,e);if(4&n)return Kv(-1,e[t.index]);if(8&n){var r=t.child;if(null!==r)return jf(e,r);var i=e[t.index];return Or(i)?Kv(-1,i):It(i)}if(32&n)return Bv(t,e)()||It(e[t.index]);var o=wI(e,t);return null!==o?Array.isArray(o)?o[0]:jf(Zu(e[16]),o):jf(e,t.next)}return null}function wI(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Kv(e,t){var n=10+e+1;if(n<t.length){var r=t[n],i=r[1].firstChild;if(null!==i)return jf(r,i)}return t[7]}function Qv(e,t,n,r,i,a,s){for(;null!=n;){var o=r[n.index],u=n.type;if(s&&0===t&&(o&&rn(It(o),r),n.flags|=4),64!=(64&n.flags))if(8&u)Qv(e,t,n.child,r,i,a,!1),ao(t,e,i,o,a);else if(32&u){for(var l=Bv(n,r),c=void 0;c=l();)ao(t,e,i,c,a);ao(t,e,i,o,a)}else 16&u?CI(e,t,r,n,i,a):ao(t,e,i,o,a);n=s?n.projectionNext:n.next}}function el(e,t,n,r,i,a){Qv(n,r,e.firstChild,t,i,a,!1)}function CI(e,t,n,r,i,a){var s=n[16],u=s[6].projection[r.projection];if(Array.isArray(u))for(var l=0;l<u.length;l++)ao(t,e,i,u[l],a);else Qv(e,t,u,s[3],i,a,!0)}function EI(e,t,n){mt(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Yv(e,t,n){mt(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function II(e,t,n){for(var r=e.length;;){var i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){var a=t.length;if(i+a===r||e.charCodeAt(i+a)<=32)return i}n=i+1}}var TI="ng-template";function h3(e,t,n){for(var r=0;r<e.length;){var i=e[r++];if(n&&"class"===i){if(-1!==II((i=e[r]).toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function DI(e){return 4===e.type&&e.value!==TI}function d3(e,t,n){return t===(4!==e.type||n?e.value:TI)}function p3(e,t,n){for(var r=4,i=e.attrs||[],a=function(e){for(var t=0;t<e.length;t++)if(vE(e[t]))return t;return e.length}(i),s=!1,o=0;o<t.length;o++){var u=t[o];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!d3(e,u,n)||""===u&&1===t.length){if(xr(r))return!1;s=!0}}else{var l=8&r?u:t[++o];if(8&r&&null!==e.attrs){if(!h3(e.attrs,l,n)){if(xr(r))return!1;s=!0}continue}var f=v3(8&r?"class":u,i,DI(e),n);if(-1===f){if(xr(r))return!1;s=!0;continue}if(""!==l){var h;h=f>a?"":i[f+1].toLowerCase();var d=8&r?h:null;if(d&&-1!==II(d,l,0)||2&r&&l!==h){if(xr(r))return!1;s=!0}}}}else{if(!s&&!xr(r)&&!xr(u))return!1;if(s&&xr(u))continue;s=!1,r=u|1&r}}return xr(r)||s}function xr(e){return 0==(1&e)}function v3(e,t,n,r){if(null===t)return-1;var i=0;if(r||!n){for(var a=!1;i<t.length;){var s=t[i];if(s===e)return i;if(3===s||6===s)a=!0;else{if(1===s||2===s){for(var o=t[++i];"string"==typeof o;)o=t[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=a?1:2}return-1}return function(e,t){var n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){var r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function SI(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<t.length;r++)if(p3(e,t[r],n))return!0;return!1}function AI(e,t){return e?":not("+t.trim()+")":t}function k3(e){for(var t=e[0],n=1,r=2,i="",a=!1;n<e.length;){var s=e[n];if("string"==typeof s)if(2&r){var o=e[++n];i+="["+s+(o.length>0?'="'+o+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!xr(s)&&(t+=AI(a,i),i=""),r=s,a=a||!xr(r);n++}return""!==i&&(t+=AI(a,i)),t}var he={};function O(e){RI(Ne(),P(),_n()+e,gf())}function RI(e,t,n,r){if(!r)if(3==(3&t[2])){var a=e.preOrderCheckHooks;null!==a&&wf(t,a,n)}else{var s=e.preOrderHooks;null!==s&&bf(t,s,0,n)}aa(n)}function Hf(e,t){return e<<17|t<<2}function Lr(e){return e>>17&32767}function Jv(e){return 2|e}function Ri(e){return(131068&e)>>2}function Xv(e,t){return-131069&e|t<<2}function Zv(e){return 1|e}function BI(e,t){var n=e.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var a=n[r+1];if(-1!==a){var s=e.data[a];fv(n[r]),s.contentQueries(2,t[a],a)}}}function tl(e,t,n,r,i,a,s,o,u,l){var c=t.blueprint.slice();return c[0]=i,c[2]=140|r,nE(c),c[3]=c[15]=e,c[8]=n,c[10]=s||e&&e[10],c[11]=o||e&&e[11],c[12]=u||e&&e[12]||null,c[9]=l||e&&e[9]||null,c[6]=a,c[16]=2==t.type?e[16]:c,c}function so(e,t,n,r,i){var a=e.data[t];if(null===a)a=function(e,t,n,r,i){var a=iE(),s=ov(),u=e.data[t]=function(e,t,n,r,i,a){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?a:a&&a.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=u),null!==a&&(s?null==a.child&&null!==u.parent&&(a.child=u):null===a.next&&(a.next=u)),u}(e,t,n,r,i),ce.lFrame.inI18n&&(a.flags|=64);else if(64&a.type){a.type=n,a.value=r,a.attrs=i;var s=function(){var e=ce.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();a.injectorIndex=null===s?-1:s.injectorIndex}return ri(a,!0),a}function oo(e,t,n,r){if(0===n)return-1;for(var i=t.length,a=0;a<n;a++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function nl(e,t,n){yf(t);try{var r=e.viewQuery;null!==r&&vg(1,r,n);var i=e.template;null!==i&&jI(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&BI(e,t),e.staticViewQueries&&vg(2,e.viewQuery,n);var a=e.components;null!==a&&function(e,t){for(var n=0;n<t.length;n++)e4(e,t[n])}(t,a)}catch(s){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),s}finally{t[2]&=-5,_f()}}function uo(e,t,n,r){var i=t[2];if(256!=(256&i)){yf(t);var a=gf();try{nE(t),function(e){ce.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&jI(e,t,n,2,r);var s=3==(3&i);if(!a)if(s){var o=e.preOrderCheckHooks;null!==o&&wf(t,o,null)}else{var u=e.preOrderHooks;null!==u&&bf(t,u,0,null),hv(t,0)}if(function(e){for(var t=jv(e);null!==t;t=Hv(t))if(t[2])for(var n=t[9],r=0;r<n.length;r++){var i=n[r];0==(1024&i[2])&&sv(i[3],1),i[2]|=1024}}(t),function(e){for(var t=jv(e);null!==t;t=Hv(t))for(var n=10;n<t.length;n++){var r=t[n],i=r[1];av(r)&&uo(i,r,i.template,r[8])}}(t),null!==e.contentQueries&&BI(e,t),!a)if(s){var l=e.contentCheckHooks;null!==l&&wf(t,l)}else{var c=e.contentHooks;null!==c&&bf(t,c,1),hv(t,1)}!function(e,t){var n=e.hostBindingOpCodes;if(null!==n)try{for(var r=0;r<n.length;r++){var i=n[r];if(i<0)aa(~i);else{var a=i,s=n[++r],o=n[++r];eL(s,a),o(2,t[a])}}}finally{aa(-1)}}(e,t);var f=e.components;null!==f&&function(e,t){for(var n=0;n<t.length;n++)Z3(e,t[n])}(t,f);var h=e.viewQuery;if(null!==h&&vg(2,h,r),!a)if(s){var d=e.viewCheckHooks;null!==d&&wf(t,d)}else{var p=e.viewHooks;null!==p&&bf(t,p,2),hv(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),a||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,sv(t[3],-1))}finally{_f()}}}function O3(e,t,n,r){var i=t[10],a=!gf(),s=tE(t);try{a&&!s&&i.begin&&i.begin(),s&&nl(e,t,r),uo(e,t,n,r)}finally{a&&!s&&i.end&&i.end()}}function jI(e,t,n,r,i){var a=_n(),s=2&r;try{aa(-1),s&&t.length>20&&RI(e,t,20,gf()),n(r,i)}finally{aa(a)}}function HI(e,t,n){if(Xp(t))for(var i=t.directiveEnd,a=t.directiveStart;a<i;a++){var s=e.data[a];s.contentQueries&&s.contentQueries(1,n[a],a)}}function og(e,t,n){!rE()||(function(e,t,n,r){var i=n.directiveStart,a=n.directiveEnd;e.firstCreatePass||Uu(n,t),rn(r,t);for(var s=n.initialInputs,o=i;o<a;o++){var u=e.data[o],l=Fr(u);l&&K3(t,n,u);var c=Bu(t,e,o,n);rn(c,t),null!==s&&Q3(0,o-i,c,u,0,s),l&&($n(n.index,t)[8]=c)}}(e,t,n,lr(n,t)),128==(128&n.flags)&&function(e,t,n){var r=n.directiveStart,i=n.directiveEnd,s=n.index,o=ce.lFrame.currentDirectiveIndex;try{aa(s);for(var u=r;u<i;u++){var l=e.data[u],c=t[u];lv(u),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&YI(l,c)}}finally{aa(-1),lv(o)}}(e,t,n))}function ug(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:lr,r=t.localNames;if(null!==r)for(var i=t.index+1,a=0;a<r.length;a+=2){var s=r[a+1],o=-1===s?n(t,e):e[s];e[i++]=o}}function GI(e){var t=e.tView;return null===t||t.incompleteFirstPass?e.tView=$f(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function $f(e,t,n,r,i,a,s,o,u,l){var c=20+r,f=c+i,h=function(e,t){for(var n=[],r=0;r<t;r++)n.push(r<e?null:he);return n}(c,f),d="function"==typeof l?l():l;return h[1]={type:e,blueprint:h,template:n,queries:null,viewQuery:o,declTNode:t,data:h.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function WI(e,t,n,r){var i=n1(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&r1(e).push(r,i.length-1))}function zI(e,t,n){for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function lg(e,t,n,r){var i=!1;if(rE()){var a=function(e,t,n){var r=e.directiveRegistry,i=null;if(r)for(var a=0;a<r.length;a++){var s=r[a];SI(n,s.selectors,!1)&&(i||(i=[]),Df(Uu(n,t),e,s.type),Fr(s)?(JI(e,n),i.unshift(s)):i.push(s))}return i}(e,t,n),s=null===r?null:{"":-1};if(null!==a){i=!0,XI(n,e.data.length,a.length);for(var o=0;o<a.length;o++){var u=a[o];u.providersResolver&&u.providersResolver(u)}for(var l=!1,c=!1,f=oo(e,t,a.length,null),h=0;h<a.length;h++){var d=a[h];n.mergedAttrs=Ef(n.mergedAttrs,d.hostAttrs),ZI(e,n,t,f,d),z3(f,d,s),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);var p=d.type.prototype;!l&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),l=!0),!c&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),c=!0),f++}!function(e,t){for(var r=t.directiveEnd,i=e.data,a=t.attrs,s=[],o=null,u=null,l=t.directiveStart;l<r;l++){var c=i[l],f=c.inputs,h=null===a||DI(t)?null:Y3(f,a);s.push(h),o=zI(f,l,o),u=zI(c.outputs,l,u)}null!==o&&(o.hasOwnProperty("class")&&(t.flags|=16),o.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=o,t.outputs=u}(e,n)}s&&function(e,t,n){if(t)for(var r=e.localNames=[],i=0;i<t.length;i+=2){var a=n[t[i+1]];if(null==a)throw new Ya("301","Export of name '".concat(t[i+1],"' not found!"));r.push(t[i],a)}}(n,r,s)}return n.mergedAttrs=Ef(n.mergedAttrs,n.attrs),i}function QI(e,t,n,r,i,a){var s=a.hostBindings;if(s){var o=e.hostBindingOpCodes;null===o&&(o=e.hostBindingOpCodes=[]);var u=~t.index;(function(e){for(var t=e.length;t>0;){var n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(o)!=u&&o.push(u),o.push(r,i,s)}}function YI(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function JI(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function z3(e,t,n){if(n){if(t.exportAs)for(var r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Fr(t)&&(n[""]=e)}}function XI(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function ZI(e,t,n,r,i){e.data[r]=i;var a=i.factory||(i.factory=ts(i.type)),s=new Lu(a,Fr(i),null);e.blueprint[r]=s,n[r]=s,QI(e,t,0,r,oo(e,n,i.hostVars,he),i)}function K3(e,t,n){var r=lr(t,e),i=GI(n),a=e[10],s=Wf(e,tl(e,i,null,n.onPush?64:16,r,t,a,a.createRenderer(r,n),null,null));e[t.index]=s}function ci(e,t,n,r,i,a){var s=lr(e,t);!function(e,t,n,r,i,a,s){if(null==a)mt(e)?e.removeAttribute(t,i,n):t.removeAttribute(i);else{var o=null==s?ve(a):s(a,r||"",i);mt(e)?e.setAttribute(t,i,o,n):n?t.setAttributeNS(n,i,o):t.setAttribute(i,o)}}(t[11],s,a,e.value,n,r,i)}function Q3(e,t,n,r,i,a){var s=a[t];if(null!==s)for(var o=r.setInput,u=0;u<s.length;){var l=s[u++],c=s[u++],f=s[u++];null!==o?r.setInput(n,f,l,c):n[c]=f}}function Y3(e,t){for(var n=null,r=0;r<t.length;){var i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function e1(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function Z3(e,t){var n=$n(t,e);if(av(n)){var r=n[1];80&n[2]?uo(r,n,r.template,n[8]):n[5]>0&&fg(n)}}function fg(e){for(var t=jv(e);null!==t;t=Hv(t))for(var n=10;n<t.length;n++){var r=t[n];if(1024&r[2]){var i=r[1];uo(i,r,i.template,r[8])}else r[5]>0&&fg(r)}var s=e[1].components;if(null!==s)for(var o=0;o<s.length;o++){var u=$n(s[o],e);av(u)&&u[5]>0&&fg(u)}}function e4(e,t){var n=$n(t,e),r=n[1];(function(e,t){for(var n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),nl(r,n,n[8])}function Wf(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function hg(e){for(;e;){e[2]|=64;var t=Zu(e);if(Ox(e)&&!t)return e;e=t}return null}function pg(e,t,n){var r=t[10];r.begin&&r.begin();try{uo(e,t,e.template,n)}catch(i){throw a1(t,i),i}finally{r.end&&r.end()}}function t1(e){!function(e){for(var t=0;t<e.components.length;t++){var n=e.components[t],r=Fv(n),i=r[1];O3(i,r,i.template,n)}}(e[8])}function vg(e,t,n){fv(0),t(e,n)}var a4=function(){return Promise.resolve(null)}();function n1(e){return e[7]||(e[7]=[])}function r1(e){return e.cleanup||(e.cleanup=[])}function a1(e,t){var n=e[9],r=n?n.get(os,null):null;r&&r.handleError(t)}function s1(e,t,n,r,i){for(var a=0;a<n.length;){var s=n[a++],o=n[a++],u=t[s],l=e.data[s];null!==l.setInput?l.setInput(u,i,r,o):u[o]=i}}function Mi(e,t,n){var r=vf(t,e);!function(e,t,n){mt(e)?e.setValue(t,n):t.textContent=n}(e[11],r,n)}function zf(e,t,n){var r=n?e.styles:null,i=n?e.classes:null,a=0;if(null!==t)for(var s=0;s<t.length;s++){var o=t[s];"number"==typeof o?a=o:1==a?i=qp(i,o):2==a&&(r=qp(r,o+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}var Kf=new Me("INJECTOR",-1),o1=function(){function e(){m(this,e)}return g(e,[{key:"get",value:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qu;if(r===qu){var i=new Error("NullInjectorError: No provider for ".concat(Ce(n),"!"));throw i.name="NullInjectorError",i}return r}}]),e}(),rl=new Me("Set Injector scope."),il={},u4={},gg=void 0;function u1(){return void 0===gg&&(gg=new o1),gg}function l1(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new c4(e,n,t||u1(),r)}var c4=function(){function e(t,n,r){var i=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;m(this,e),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var s=[];n&&ai(n,function(u){return i.processProvider(u,t,n)}),ai([t],function(u){return i.processInjectorType(u,[],s)}),this.records.set(Kf,lo(void 0,this));var o=this.records.get(rl);this.scope=null!=o?o.value:null,this.source=a||("object"==typeof t?null:Ce(t))}return g(e,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(n){return n.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qu,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fe.Default;this.assertNotDestroyed();var a=Mf(this),s=ta(void 0);try{if(!(i&Fe.SkipSelf)){var o=this.records.get(n);if(void 0===o){var u=y4(n)&&ea(n);o=u&&this.injectableDefInScope(u)?lo(mg(n),il):null,this.records.set(n,o)}if(null!=o)return this.hydrate(n,o)}var l=i&Fe.Self?u1():this.parent;return l.get(n,r=i&Fe.Optional&&r===qu?null:r)}catch(f){if("NullInjectorError"===f.name){var c=f[eo]=f[eo]||[];if(c.unshift(Ce(n)),a)throw f;return jL(f,n,"R3InjectorError",this.source)}throw f}finally{ta(s),Mf(a)}}},{key:"_resolveInjectorDefTypes",value:function(){var n=this;this.injectorDefTypes.forEach(function(r){return n.get(r)})}},{key:"toString",value:function(){var n=[];return this.records.forEach(function(i,a){return n.push(Ce(a))}),"R3Injector[".concat(n.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(n,r,i){var a=this;if(!(n=ie(n)))return!1;var s=BC(n),o=null==s&&n.ngModule||void 0,u=void 0===o?n:o,f=-1!==i.indexOf(u);if(void 0!==o&&(s=BC(o)),null==s)return!1;if(null!=s.imports&&!f){var h;i.push(u);try{ai(s.imports,function(w){a.processInjectorType(w,r,i)&&(void 0===h&&(h=[]),h.push(w))})}finally{}if(void 0!==h)for(var d=function(C){var M=h[C],j=M.ngModule,z=M.providers;ai(z,function(ee){return a.processProvider(ee,j,z||Ke)})},p=0;p<h.length;p++)d(p)}this.injectorDefTypes.add(u);var v=ts(u)||function(){return new u};this.records.set(u,lo(v,il));var y=s.providers;if(null!=y&&!f){var k=n;ai(y,function(w){return a.processProvider(w,k,y)})}return void 0!==o&&void 0!==n.providers}},{key:"processProvider",value:function(n,r,i){var a=co(n=ie(n))?n:ie(n&&n.provide),s=function(e,t,n){return f1(e)?lo(void 0,e.useValue):lo(c1(e),il)}(n);if(co(n)||!0!==n.multi)this.records.get(a);else{var o=this.records.get(a);o||((o=lo(void 0,il,!0)).factory=function(){return is(o.multi)},this.records.set(a,o)),a=n,o.multi.push(n)}this.records.set(a,s)}},{key:"hydrate",value:function(n,r){return r.value===il&&(r.value=u4,r.value=r.factory()),"object"==typeof r.value&&r.value&&function(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this.onDestroy.add(r.value),r.value}},{key:"injectableDefInScope",value:function(n){if(!n.providedIn)return!1;var r=ie(n.providedIn);return"string"==typeof r?"any"===r||r===this.scope:this.injectorDefTypes.has(r)}}]),e}();function mg(e){var t=ea(e),n=null!==t?t.factory:ts(e);if(null!==n)return n;if(e instanceof Me)throw new Error("Token ".concat(Ce(e)," is missing a \u0275prov definition."));if(e instanceof Function)return function(e){var t=e.length;if(t>0){var n=function(e,t){for(var n=[],r=0;r<e;r++)n.push(t);return n}(t,"?");throw new Error("Can't resolve all parameters for ".concat(Ce(e),": (").concat(n.join(", "),")."))}var r=function(e){var t=e&&(e[uf]||e[jC]);if(t){var n=function(e){if(e.hasOwnProperty("name"))return e.name;var t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\n')+'This will become an error in a future version of Angular. Please add @Injectable() to the "'.concat(n,'" class.')),t}return null}(e);return null!==r?function(){return r.factory(e)}:function(){return new e}}(e);throw new Error("unreachable")}function c1(e,t,n){var r=void 0;if(co(e)){var i=ie(e);return ts(i)||mg(i)}if(f1(e))r=function(){return ie(e.useValue)};else if(function(e){return!(!e||!e.useFactory)}(e))r=function(){return e.useFactory.apply(e,ye(is(e.deps||[])))};else if(function(e){return!(!e||!e.useExisting)}(e))r=function(){return me(ie(e.useExisting))};else{var a=ie(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return ts(a)||mg(a);r=function(){return tn(a,ye(is(e.deps)))}}return r}function lo(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:e,value:t,multi:n?[]:void 0}}function f1(e){return null!==e&&"object"==typeof e&&Tv in e}function co(e){return"function"==typeof e}function y4(e){return"function"==typeof e||"object"==typeof e&&e instanceof Me}var h1=function(e,t,n){return function(e){var i=l1(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3?arguments[3]:void 0);return i._resolveInjectorDefTypes(),i}({name:n},t,e,n)},bt=function(){var e=function(){function t(){m(this,t)}return g(t,null,[{key:"create",value:function(r,i){return Array.isArray(r)?h1(r,i,""):h1(r.providers,r.parent,r.name||"")}}]),t}();return e.THROW_IF_NOT_FOUND=qu,e.NULL=new o1,e.\u0275prov=Re({token:e,providedIn:"any",factory:function(){return me(Kf)}}),e.__NG_ELEMENT_ID__=-1,e}();function U4(e,t){kf(Fv(e)[1],Nt())}function ot(e){for(var t=function(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0,r=[e];t;){var i=void 0;if(Fr(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);var a=e;a.inputs=wg(e.inputs),a.declaredInputs=wg(e.declaredInputs),a.outputs=wg(e.outputs);var s=i.hostBindings;s&&G4(e,s);var o=i.viewQuery,u=i.contentQueries;if(o&&j4(e,o),u&&H4(e,u),Gp(e.inputs,i.inputs),Gp(e.declaredInputs,i.declaredInputs),Gp(e.outputs,i.outputs),Fr(i)&&i.data.animation){var l=e.data;l.animation=(l.animation||[]).concat(i.data.animation)}}var c=i.features;if(c)for(var f=0;f<c.length;f++){var h=c[f];h&&h.ngInherit&&h(e),h===ot&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){for(var t=0,n=null,r=e.length-1;r>=0;r--){var i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Ef(i.hostAttrs,n=Ef(n,i.hostAttrs))}}(r)}function wg(e){return e===Bs?{}:e===Ke?[]:e}function j4(e,t){var n=e.viewQuery;e.viewQuery=n?function(r,i){t(r,i),n(r,i)}:t}function H4(e,t){var n=e.contentQueries;e.contentQueries=n?function(r,i,a){t(r,i,a),n(r,i,a)}:t}function G4(e,t){var n=e.hostBindings;e.hostBindings=n?function(r,i){t(r,i),n(r,i)}:t}var Qf=null;function ho(){if(!Qf){var e=qe.Symbol;if(e&&e.iterator)Qf=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Qf=r)}}return Qf}var ls=function(){function e(t){m(this,e),this.wrapped=t}return g(e,null,[{key:"wrap",value:function(n){return new e(n)}},{key:"unwrap",value:function(n){return e.isWrapped(n)?n.wrapped:n}},{key:"isWrapped",value:function(n){return n instanceof e}}]),e}();function sl(e){return!!bg(e)&&(Array.isArray(e)||!(e instanceof Map)&&ho()in e)}function bg(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function an(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function cs(e,t,n,r){var i=an(e,t,n);return an(e,t+1,r)||i}function Pi(e,t,n,r){var i=P();return an(i,Ws(),t)&&(Ne(),ci(yt(),i,e,t,n,r)),Pi}function _o(e,t,n,r,i,a,s,o,u,l,c,f){var h=ii(),d=function(e,t,n,r,i,a){var s=cs(e,t,n,r);return cs(e,t+2,i,a)||s}(e,h,n,i,s,u);return d=an(e,h+4,c)||d,Ai(5),d?t+ve(n)+r+ve(i)+a+ve(s)+o+ve(u)+l+ve(c)+f:he}function q(e,t,n,r,i,a,s,o){var u=P(),l=Ne(),c=e+20,f=l.firstCreatePass?function(e,t,n,r,i,a,s,o,u){var l=t.consts,c=so(t,e,4,s||null,ia(l,o));lg(t,n,c,ia(l,u)),kf(t,c);var f=c.tViews=$f(2,c,r,i,a,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l);return null!==t.queries&&(t.queries.template(t,c),f.queries=t.queries.embeddedTView(c)),c}(c,l,u,t,n,r,i,a,s):l.data[c];ri(f,!1);var h=u[11].createComment("");Bf(l,u,h,f),rn(h,u),Wf(u,u[c]=e1(h,u,h,f)),pf(f)&&og(l,u,f),null!=s&&ug(u,f,o)}function Co(e){return $s(ce.lFrame.contextLView,20+e)}function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fe.Default,n=P();if(null===n)return me(e,t);var r=Nt();return bE(r,n,ie(e),t)}function B(e,t,n){var r=P();return an(r,Ws(),t)&&function(e,t,n,r,i,a,s,o){var c,u=lr(t,n),l=t.inputs;!o&&null!=l&&(c=l[r])?(s1(e,n,c,r,i),df(t)&&function(e,t){var n=$n(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=s?s(i,t.value||"",r):i,mt(a)?a.setProperty(u,r,i):pv(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}(Ne(),yt(),r,e,t,r[11],n,!1),B}function Tg(e,t,n,r,i){var s=i?"class":"style";s1(e,n,t.inputs[s],s,r)}function E(e,t,n,r){var i=P(),a=Ne(),s=20+e,o=i[11],u=i[s]=qv(o,t,ce.lFrame.currentNamespace),l=a.firstCreatePass?function(e,t,n,r,i,a,s){var o=t.consts,l=so(t,e,2,i,ia(o,a));return lg(t,n,l,ia(o,s)),null!==l.attrs&&zf(l,l.attrs,!1),null!==l.mergedAttrs&&zf(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,a,i,0,t,n,r):a.data[s];ri(l,!0);var c=l.mergedAttrs;null!==c&&Cf(o,u,c);var f=l.classes;null!==f&&Yv(o,u,f);var h=l.styles;null!==h&&EI(o,u,h),64!=(64&l.flags)&&Bf(a,i,u,l),0===ce.lFrame.elementDepthCount&&rn(u,i),ce.lFrame.elementDepthCount++,pf(l)&&(og(a,i,l),HI(a,l,i)),null!==r&&ug(i,l)}function I(){var e=Nt();ov()?uv():ri(e=e.parent,!1);var t=e;ce.lFrame.elementDepthCount--;var n=Ne();n.firstCreatePass&&(kf(n,e),Xp(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Tg(n,t,P(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Tg(n,t,P(),t.stylesWithoutHost,!1)}function ge(e,t,n,r){E(e,t,n,r),I()}function ul(e,t,n){var r=P(),i=Ne(),a=e+20,s=i.firstCreatePass?function(e,t,n,r,i){var a=t.consts,s=ia(a,r),o=so(t,e,8,"ng-container",s);return null!==s&&zf(o,s,!0),lg(t,n,o,ia(a,i)),null!==t.queries&&t.queries.elementStart(t,o),o}(a,i,r,t,n):i.data[a];ri(s,!0);var o=r[a]=r[11].createComment("");Bf(i,r,o,s),rn(o,r),pf(s)&&(og(i,r,s),HI(i,s,r)),null!=n&&ug(r,s)}function ll(){var e=Nt(),t=Ne();ov()?uv():ri(e=e.parent,!1),t.firstCreatePass&&(kf(t,e),Xp(e)&&t.queries.elementEnd(e))}function Kt(){return P()}function Jf(e){return!!e&&"function"==typeof e.then}var Dg=function(e){return!!e&&"function"==typeof e.subscribe};function Se(e,t,n,r){var i=P(),a=Ne(),s=Nt();return function(e,t,n,r,i,a,s,o){var u=pf(r),c=e.firstCreatePass&&r1(e),f=t[8],h=n1(t),d=!0;if(3&r.type||o){var p=lr(r,t),v=o?o(p):p,y=h.length,k=o?function(ki){return o(It(ki[r.index]))}:r.index;if(mt(n)){var w=null;if(!o&&u&&(w=function(e,t,n,r){var i=e.cleanup;if(null!=i)for(var a=0;a<i.length-1;a+=2){var s=i[a];if(s===n&&i[a+1]===r){var o=t[7],u=i[a+2];return o.length>u?o[u]:null}"string"==typeof s&&(a+=2)}return null}(e,t,i,r.index)),null!==w)(w.__ngLastListenerFn__||w).__ngNextListenerFn__=a,w.__ngLastListenerFn__=a,d=!1;else{a=Sg(r,t,f,a,!1);var M=n.listen(v,i,a);h.push(a,M),c&&c.push(i,k,y,y+1)}}else a=Sg(r,t,f,a,!0),v.addEventListener(i,a,s),h.push(a),c&&c.push(i,k,y,s)}else a=Sg(r,t,f,a,!1);var z,j=r.outputs;if(d&&null!==j&&(z=j[i])){var ee=z.length;if(ee)for(var V=0;V<ee;V+=2){var rr=t[z[V]][z[V+1]].subscribe(a),Tr=h.length;h.push(a,rr),c&&c.push(i,r.index,Tr,-(Tr+1))}}}(a,i,i[11],s,e,t,!!n,r),Se}function z1(e,t,n,r){try{return!1!==n(r)}catch(i){return a1(e,i),!1}}function Sg(e,t,n,r,i){return function a(s){if(s===Function)return r;var o=2&e.flags?$n(e.index,t):t;0==(32&t[2])&&hg(o);for(var u=z1(t,0,r,s),l=a.__ngNextListenerFn__;l;)u=z1(t,0,l,s)&&u,l=l.__ngNextListenerFn__;return i&&!1===u&&(s.preventDefault(),s.returnValue=!1),u}}function ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return rL(e)}function rT(e,t,n,r,i){for(var a=e[n+1],s=null===t,o=r?Lr(a):Ri(a),u=!1;0!==o&&(!1===u||s);){var c=e[o+1];RU(e[o],t)&&(u=!0,e[o+1]=r?Zv(c):Jv(c)),o=r?Lr(c):Ri(c)}u&&(e[n+1]=r?Jv(a):Zv(a))}function RU(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Zs(e,t)>=0}var Pt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function iT(e){return e.substring(Pt.key,Pt.keyEnd)}function aT(e,t){var n=Pt.textEnd;return n===t?-1:(t=Pt.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,Pt.key=t,n),Io(e,t,n))}function Io(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function fa(e,t){return function(e,t,n,r){var i=P(),a=Ne(),s=Ai(2);a.firstUpdatePass&&dT(a,e,s,r),t!==he&&an(i,s,t)&&vT(a,a.data[_n()],i,i[11],e,i[s+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Ce(zn(e)))),e}(t,n),r,s)}(e,t,null,!0),fa}function fT(e){!function(e,t,n,r){var i=Ne(),a=Ai(2);i.firstUpdatePass&&dT(i,null,a,r);var s=P();if(n!==he&&an(s,a,n)){var o=i.data[_n()];if(mT(o,r)&&!hT(i,a)){var l=r?o.classesWithoutHost:o.stylesWithoutHost;null!==l&&(n=qp(l,n||"")),Tg(i,o,s,n,r)}else!function(e,t,n,r,i,a,s,o){i===he&&(i=Ke);for(var u=0,l=0,c=0<i.length?i[0]:null,f=0<a.length?a[0]:null;null!==c||null!==f;){var h=u<i.length?i[u+1]:void 0,d=l<a.length?a[l+1]:void 0,p=null,v=void 0;c===f?(u+=2,l+=2,h!==d&&(p=f,v=d)):null===f||null!==c&&c<f?(u+=2,p=c):(l+=2,p=f,v=d),null!==p&&vT(e,t,n,r,p,v,s,o),c=u<i.length?i[u]:null,f=l<a.length?a[l]:null}}(i,o,s,s[11],s[a+1],s[a+1]=function(e,t,n){if(null==n||""===n)return Ke;var r=[],i=zn(n);if(Array.isArray(i))for(var a=0;a<i.length;a++)e(r,i[a],!0);else if("object"==typeof i)for(var s in i)i.hasOwnProperty(s)&&e(r,s,i[s]);else"string"==typeof i&&t(r,i);return r}(e,t,n),r,a)}}(Wn,di,e,!0)}function di(e,t){for(var n=function(e){return function(e){Pt.key=0,Pt.keyEnd=0,Pt.value=0,Pt.valueEnd=0,Pt.textEnd=e.length}(e),aT(e,Io(e,0,Pt.textEnd))}(t);n>=0;n=aT(t,n))Wn(e,iT(t),!0)}function hT(e,t){return t>=e.expandoStartIndex}function dT(e,t,n,r){var i=e.data;if(null===i[n+1]){var a=i[_n()],s=hT(e,n);mT(a,r)&&null===t&&!s&&(t=!1),t=function(e,t,n,r){var i=function(e){var t=ce.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e),a=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=cl(n=Rg(null,e,t,n,r),t.attrs,r),a=null);else{var o=t.directiveStylingLast;if(-1===o||e[o]!==i)if(n=Rg(i,e,t,n,r),null===a){var l=function(e,t,n){var r=n?t.classBindings:t.styleBindings;if(0!==Ri(r))return e[Lr(r)]}(e,t,r);void 0!==l&&Array.isArray(l)&&function(e,t,n,r){e[Lr(n?t.classBindings:t.styleBindings)]=r}(e,t,r,l=cl(l=Rg(null,e,t,l[1],r),t.attrs,r))}else a=function(e,t,n){for(var r=void 0,i=t.directiveEnd,a=1+t.directiveStylingLast;a<i;a++)r=cl(r,e[a].hostAttrs,n);return cl(r,t.attrs,n)}(e,t,r)}return void 0!==a&&(r?t.residualClasses=a:t.residualStyles=a),n}(i,a,t,r),function(e,t,n,r,i,a){var s=a?t.classBindings:t.styleBindings,o=Lr(s),u=Ri(s);e[r]=n;var c,l=!1;if(Array.isArray(n)?(null===(c=n[1])||Zs(n,c)>0)&&(l=!0):c=n,i)if(0!==u){var d=Lr(e[o+1]);e[r+1]=Hf(d,o),0!==d&&(e[d+1]=Xv(e[d+1],r)),e[o+1]=function(e,t){return 131071&e|t<<17}(e[o+1],r)}else e[r+1]=Hf(o,0),0!==o&&(e[o+1]=Xv(e[o+1],r)),o=r;else e[r+1]=Hf(u,0),0===o?o=r:e[u+1]=Xv(e[u+1],r),u=r;l&&(e[r+1]=Jv(e[r+1])),rT(e,c,r,!0),rT(e,c,r,!1),function(e,t,n,r,i){var a=i?e.residualClasses:e.residualStyles;null!=a&&"string"==typeof t&&Zs(a,t)>=0&&(n[r+1]=Zv(n[r+1]))}(t,c,e,r,a),s=Hf(o,u),a?t.classBindings=s:t.styleBindings=s}(i,a,t,n,s,r)}}function Rg(e,t,n,r,i){var a=null,s=n.directiveEnd,o=n.directiveStylingLast;for(-1===o?o=n.directiveStart:o++;o<s&&(r=cl(r,(a=t[o]).hostAttrs,i),a!==e);)o++;return null!==e&&(n.directiveStylingLast=o),r}function cl(e,t,n){var r=n?1:2,i=-1;if(null!==t)for(var a=0;a<t.length;a++){var s=t[a];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Wn(e,s,!!n||t[++a]))}return void 0===e?null:e}function vT(e,t,n,r,i,a,s,o){if(3&t.type){var u=e.data,l=u[o+1];Xf(function(e){return 1==(1&e)}(l)?gT(u,t,n,i,Ri(l),s):void 0)||(Xf(a)||function(e){return 2==(2&e)}(l)&&(a=gT(u,null,n,i,o,s)),function(e,t,n,r,i){var a=mt(e);if(t)i?a?e.addClass(n,r):n.classList.add(r):a?e.removeClass(n,r):n.classList.remove(r);else{var s=-1===r.indexOf("-")?void 0:io.DashCase;if(null==i)a?e.removeStyle(n,r,s):n.style.removeProperty(r);else{var o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),s|=io.Important),a?e.setStyle(n,r,i,s):n.style.setProperty(r,i,o?"important":"")}}}(r,s,vf(_n(),n),i,a))}}function gT(e,t,n,r,i,a){for(var s=null===t,o=void 0;i>0;){var u=e[i],l=Array.isArray(u),c=l?u[1]:u,f=null===c,h=n[i+1];h===he&&(h=f?Ke:void 0);var d=f?bv(h,r):c===r?h:void 0;if(l&&!Xf(d)&&(d=bv(u,r)),Xf(d)&&(o=d,s))return o;var p=e[i+1];i=s?Lr(p):Ri(p)}if(null!==t){var v=a?t.residualClasses:t.residualStyles;null!=v&&(o=bv(v,r))}return o}function Xf(e){return void 0!==e}function mT(e,t){return 0!=(e.flags&(t?16:32))}function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=P(),r=Ne(),i=e+20,a=r.firstCreatePass?so(r,i,1,t,null):r.data[i],s=n[i]=Gv(n[11],t);Bf(r,n,s,a),ri(a,!1)}function Qn(e){return Qt("",e,""),Qn}function Qt(e,t,n){var r=P(),i=function(e,t,n,r){return an(e,Ws(),n)?t+ve(n)+r:he}(r,e,t,n);return i!==he&&Mi(r,_n(),i),Qt}function Zf(e,t,n,r,i){var a=P(),s=function(e,t,n,r,i,a){var o=cs(e,ii(),n,i);return Ai(2),o?t+ve(n)+r+ve(i)+a:he}(a,e,t,n,r,i);return s!==he&&Mi(a,_n(),s),Zf}function Ng(e,t,n,r,i,a,s,o,u,l,c){var f=P(),h=_o(f,e,t,n,r,i,a,s,o,u,l,c);return h!==he&&Mi(f,_n(),h),Ng}var fs=void 0,cB=["en",[["a","p"],["AM","PM"],fs],[["AM","PM"],fs,fs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],fs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],fs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",fs,"{1} 'at' {0}",fs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],To={};function kn(e){var t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e),n=xT(t);if(n)return n;var r=t.split("-")[0];if(n=xT(r))return n;if("en"===r)return cB;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}function xT(e){return e in To||(To[e]=qe.ng&&qe.ng.common&&qe.ng.common.locales&&qe.ng.common.locales[e]),To[e]}var ut=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}({}),eh="en-US";function Mg(e){Hn(e,"Expected localeId to be defined"),"string"==typeof e&&e.toLowerCase().replace(/_/g,"-")}function aj(e,t,n){var r=Ne();if(r.firstCreatePass){var i=Fr(e);Fg(n,r.data,r.blueprint,i,!0),Fg(t,r.data,r.blueprint,i,!1)}}function Fg(e,t,n,r,i){if(e=ie(e),Array.isArray(e))for(var a=0;a<e.length;a++)Fg(e[a],t,n,r,i);else{var s=Ne(),o=P(),u=co(e)?e:ie(e.provide),l=c1(e),c=Nt(),f=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(co(e)||!e.multi){var p=new Lu(l,i,N),v=Lg(u,t,i?f:f+d,h);-1===v?(Df(Uu(c,o),s,u),xg(s,e,t.length),t.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(p),o.push(p)):(n[v]=p,o[v]=p)}else{var y=Lg(u,t,f+d,h),k=Lg(u,t,f,f+d),C=k>=0&&n[k];if(i&&!C||!i&&!(y>=0&&n[y])){Df(Uu(c,o),s,u);var M=function(e,t,n,r,i){var a=new Lu(e,n,N);return a.multi=[],a.index=t,a.componentProviders=0,oD(a,i,r&&!n),a}(i?oj:sj,n.length,i,r,l);!i&&C&&(n[k].providerFactory=M),xg(s,e,t.length,0),t.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(M),o.push(M)}else xg(s,e,y>-1?y:k,oD(n[i?k:y],l,!i&&r));!i&&r&&C&&n[k].componentProviders++}}}function xg(e,t,n,r){var i=co(t);if(i||function(e){return!!e.useClass}(t)){var s=(t.useClass||t).prototype.ngOnDestroy;if(s){var o=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){var u=o.indexOf(n);-1===u?o.push(n,[r,s]):o[u+1].push(r,s)}else o.push(n,s)}}}function oD(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Lg(e,t,n,r){for(var i=n;i<r;i++)if(t[i]===e)return i;return-1}function sj(e,t,n,r){return Vg(this.multi,[])}function oj(e,t,n,r){var a,i=this.multi;if(this.providerFactory){var s=this.providerFactory.componentProviders,o=Bu(n,n[1],this.providerFactory.index,r);Vg(i,a=o.slice(0,s));for(var u=s;u<o.length;u++)a.push(o[u])}else Vg(i,a=[]);return a}function Vg(e,t){for(var n=0;n<e.length;n++)t.push((0,e[n])());return t}function ft(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(r,i){return aj(r,i?i(e):e,t)}}}var lj=g(function e(){m(this,e)}),uD=g(function e(){m(this,e)}),fj=function(){function e(){m(this,e)}return g(e,[{key:"resolveComponentFactory",value:function(n){throw function(e){var t=Error("No component factory found for ".concat(Ce(e),". Did you add it to @NgModule.entryComponents?"));return t.ngComponent=e,t}(n)}}]),e}(),hs=function(){var e=g(function t(){m(this,t)});return e.NULL=new fj,e}();function ah(){}function So(e,t){return new Bt(lr(e,t))}var vj=function(){return So(Nt(),P())},Bt=function(){var e=g(function t(n){m(this,t),this.nativeElement=n});return e.__NG_ELEMENT_ID__=vj,e}();function cD(e){return e instanceof Bt?e.nativeElement:e}var sh=g(function e(){m(this,e)}),ds=function(){var e=g(function t(){m(this,t)});return e.__NG_ELEMENT_ID__=function(){return mj()},e}(),mj=function(){var e=P(),n=$n(Nt().index,e);return function(e){return e[11]}(ni(n)?n:e)},Ug=function(){var e=g(function t(){m(this,t)});return e.\u0275prov=Re({token:e,providedIn:"root",factory:function(){return null}}),e}(),vl=g(function e(t){m(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}),kj=new vl("12.2.16"),fD=function(){function e(){m(this,e)}return g(e,[{key:"supports",value:function(n){return sl(n)}},{key:"create",value:function(n){return new bj(n)}}]),e}(),wj=function(t,n){return n},bj=function(){function e(t){m(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||wj}return g(e,[{key:"forEachItem",value:function(n){var r;for(r=this._itHead;null!==r;r=r._next)n(r)}},{key:"forEachOperation",value:function(n){for(var r=this._itHead,i=this._removalsHead,a=0,s=null;r||i;){var o=!i||r&&r.currentIndex<dD(i,a,s)?r:i,u=dD(o,a,s),l=o.currentIndex;if(o===i)a--,i=i._nextRemoved;else if(r=r._next,null==o.previousIndex)a++;else{s||(s=[]);var c=u-a,f=l-a;if(c!=f){for(var h=0;h<c;h++){var d=h<s.length?s[h]:s[h]=0,p=d+h;f<=p&&p<c&&(s[h]=d+1)}s[o.previousIndex]=f-c}}u!==l&&n(o,u,l)}}},{key:"forEachPreviousItem",value:function(n){var r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)n(r)}},{key:"forEachAddedItem",value:function(n){var r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}},{key:"forEachMovedItem",value:function(n){var r;for(r=this._movesHead;null!==r;r=r._nextMoved)n(r)}},{key:"forEachRemovedItem",value:function(n){var r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}},{key:"forEachIdentityChange",value:function(n){var r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)n(r)}},{key:"diff",value:function(n){if(null==n&&(n=[]),!sl(n))throw new Error("Error trying to diff '".concat(Ce(n),"'. Only arrays and iterables are allowed"));return this.check(n)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(n){var r=this;this._reset();var s,o,u,i=this._itHead,a=!1;if(Array.isArray(n)){this.length=n.length;for(var l=0;l<this.length;l++)u=this._trackByFn(l,o=n[l]),null!==i&&Object.is(i.trackById,u)?(a&&(i=this._verifyReinsertion(i,o,u,l)),Object.is(i.item,o)||this._addIdentityChange(i,o)):(i=this._mismatch(i,o,u,l),a=!0),i=i._next}else s=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var i,r=e[ho()]();!(i=r.next()).done;)t(i.value)}(n,function(c){u=r._trackByFn(s,c),null!==i&&Object.is(i.trackById,u)?(a&&(i=r._verifyReinsertion(i,c,u,s)),Object.is(i.item,c)||r._addIdentityChange(i,c)):(i=r._mismatch(i,c,u,s),a=!0),i=i._next,s++}),this.length=s;return this._truncate(i),this.collection=n,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(n,r,i,a){var s;return null===n?s=this._itTail:(s=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._reinsertAfter(n,s,a)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(i,a))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._moveAfter(n,s,a)):n=this._addAfter(new Cj(r,i),s,a),n}},{key:"_verifyReinsertion",value:function(n,r,i,a){var s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?n=this._reinsertAfter(s,n._prev,a):n.currentIndex!=a&&(n.currentIndex=a,this._addToMoves(n,a)),n}},{key:"_truncate",value:function(n){for(;null!==n;){var r=n._next;this._addToRemovals(this._unlink(n)),n=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(n,r,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);var a=n._prevRemoved,s=n._nextRemoved;return null===a?this._removalsHead=s:a._nextRemoved=s,null===s?this._removalsTail=a:s._prevRemoved=a,this._insertAfter(n,r,i),this._addToMoves(n,i),n}},{key:"_moveAfter",value:function(n,r,i){return this._unlink(n),this._insertAfter(n,r,i),this._addToMoves(n,i),n}},{key:"_addAfter",value:function(n,r,i){return this._insertAfter(n,r,i),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}},{key:"_insertAfter",value:function(n,r,i){var a=null===r?this._itHead:r._next;return n._next=a,n._prev=r,null===a?this._itTail=n:a._prev=n,null===r?this._itHead=n:r._next=n,null===this._linkedRecords&&(this._linkedRecords=new hD),this._linkedRecords.put(n),n.currentIndex=i,n}},{key:"_remove",value:function(n){return this._addToRemovals(this._unlink(n))}},{key:"_unlink",value:function(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);var r=n._prev,i=n._next;return null===r?this._itHead=i:r._next=i,null===i?this._itTail=r:i._prev=r,n}},{key:"_addToMoves",value:function(n,r){return n.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}},{key:"_addToRemovals",value:function(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new hD),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}},{key:"_addIdentityChange",value:function(n,r){return n.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}]),e}(),Cj=g(function e(t,n){m(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}),Ej=function(){function e(){m(this,e),this._head=null,this._tail=null}return g(e,[{key:"add",value:function(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}},{key:"get",value:function(n,r){var i;for(i=this._head;null!==i;i=i._nextDup)if((null===r||r<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}},{key:"remove",value:function(n){var r=n._prevDup,i=n._nextDup;return null===r?this._head=i:r._nextDup=i,null===i?this._tail=r:i._prevDup=r,null===this._head}}]),e}(),hD=function(){function e(){m(this,e),this.map=new Map}return g(e,[{key:"put",value:function(n){var r=n.trackById,i=this.map.get(r);i||(i=new Ej,this.map.set(r,i)),i.add(n)}},{key:"get",value:function(n,r){var a=this.map.get(n);return a?a.get(n,r):null}},{key:"remove",value:function(n){var r=n.trackById;return this.map.get(r).remove(n)&&this.map.delete(r),n}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),e}();function dD(e,t,n){var r=e.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+t+i}var pD=function(){function e(){m(this,e)}return g(e,[{key:"supports",value:function(n){return n instanceof Map||bg(n)}},{key:"create",value:function(){return new Ij}}]),e}(),Ij=function(){function e(){m(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return g(e,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(n){var r;for(r=this._mapHead;null!==r;r=r._next)n(r)}},{key:"forEachPreviousItem",value:function(n){var r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)n(r)}},{key:"forEachChangedItem",value:function(n){var r;for(r=this._changesHead;null!==r;r=r._nextChanged)n(r)}},{key:"forEachAddedItem",value:function(n){var r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}},{key:"forEachRemovedItem",value:function(n){var r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}},{key:"diff",value:function(n){if(n){if(!(n instanceof Map||bg(n)))throw new Error("Error trying to diff '".concat(Ce(n),"'. Only maps and objects are allowed"))}else n=new Map;return this.check(n)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(n){var r=this;this._reset();var i=this._mapHead;if(this._appendAfter=null,this._forEach(n,function(s,o){if(i&&i.key===o)r._maybeAddToChanges(i,s),r._appendAfter=i,i=i._next;else{var u=r._getOrCreateRecordForKey(o,s);i=r._insertBeforeOrAppend(i,u)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(var a=i;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(n,r){if(n){var i=n._prev;return r._next=n,r._prev=i,n._prev=r,i&&(i._next=r),n===this._mapHead&&(this._mapHead=r),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}},{key:"_getOrCreateRecordForKey",value:function(n,r){if(this._records.has(n)){var i=this._records.get(n);this._maybeAddToChanges(i,r);var a=i._prev,s=i._next;return a&&(a._next=s),s&&(s._prev=a),i._next=null,i._prev=null,i}var o=new Tj(n);return this._records.set(n,o),o.currentValue=r,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(n,r){Object.is(r,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=r,this._addToChanges(n))}},{key:"_addToAdditions",value:function(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}},{key:"_addToChanges",value:function(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}},{key:"_forEach",value:function(n,r){n instanceof Map?n.forEach(r):Object.keys(n).forEach(function(i){return r(n[i],i)})}}]),e}(),Tj=g(function e(t){m(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null});function vD(){return new gl([new fD])}var gl=function(){var e=function(){function t(n){m(this,t),this.factories=n}return g(t,[{key:"find",value:function(r){var i=this.factories.find(function(a){return a.supports(r)});if(null!=i)return i;throw new Error("Cannot find a differ supporting object '".concat(r,"' of type '").concat(function(e){return e.name||typeof e}(r),"'"))}}],[{key:"create",value:function(r,i){if(null!=i){var a=i.factories.slice();r=r.concat(a)}return new t(r)}},{key:"extend",value:function(r){return{provide:t,useFactory:function(a){return t.create(r,a||vD())},deps:[[t,new as,new si]]}}}]),t}();return e.\u0275prov=Re({token:e,providedIn:"root",factory:vD}),e}();function gD(){return new Ao([new pD])}var Ao=function(){var e=function(){function t(n){m(this,t),this.factories=n}return g(t,[{key:"find",value:function(r){var i=this.factories.find(function(a){return a.supports(r)});if(i)return i;throw new Error("Cannot find a differ supporting object '".concat(r,"'"))}}],[{key:"create",value:function(r,i){if(i){var a=i.factories.slice();r=r.concat(a)}return new t(r)}},{key:"extend",value:function(r){return{provide:t,useFactory:function(a){return t.create(r,a||gD())},deps:[[t,new as,new si]]}}}]),t}();return e.\u0275prov=Re({token:e,providedIn:"root",factory:gD}),e}();function oh(e,t,n,r){for(var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==n;){var a=t[n.index];if(null!==a&&r.push(It(a)),Or(a))for(var s=10;s<a.length;s++){var o=a[s],u=o[1].firstChild;null!==u&&oh(o[1],o,u,r)}var l=n.type;if(8&l)oh(e,t,n.child,r);else if(32&l)for(var c=Bv(n,t),f=void 0;f=c();)r.push(f);else if(16&l){var h=wI(t,n);if(Array.isArray(h))r.push.apply(r,ye(h));else{var d=Zu(t[16]);oh(d[1],d,h,r,!0)}}n=i?n.projectionNext:n.next}return r}var ml=function(){function e(t,n){m(this,e),this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}return g(e,[{key:"rootNodes",get:function(){var n=this._lView,r=n[1];return oh(r,n,r.firstChild,[])}},{key:"context",get:function(){return this._lView[8]},set:function(n){this._lView[8]=n}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){var n=this._lView[3];if(Or(n)){var r=n[8],i=r?r.indexOf(this):-1;i>-1&&($v(n,i),rs(r,i))}this._attachedToViewContainer=!1}hI(this._lView[1],this._lView)}},{key:"onDestroy",value:function(n){WI(this._lView[1],this._lView,null,n)}},{key:"markForCheck",value:function(){hg(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){pg(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(e,t,n){mf(!0);try{pg(e,t,n)}finally{mf(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}},{key:"detachFromAppRef",value:function(){this._appRef=null,function(e,t){el(e,t,t[11],2,null,null)}(this._lView[1],this._lView)}},{key:"attachToAppRef",value:function(n){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=n}}]),e}(),Sj=function(e){D(n,e);var t=S(n);function n(r){var i;return m(this,n),(i=t.call(this,r))._view=r,i}return g(n,[{key:"detectChanges",value:function(){t1(this._view)}},{key:"checkNoChanges",value:function(){!function(e){mf(!0);try{t1(e)}finally{mf(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(ml),Rj=function(e){return function(e,t,n){if(df(e)&&!n){var r=$n(e.index,t);return new ml(r,r)}return 47&e.type?new ml(t[16],t):null}(Nt(),P(),16==(16&e))},On=function(){var e=g(function t(){m(this,t)});return e.__NG_ELEMENT_ID__=Rj,e}(),Pj=[new pD],Fj=new gl([new fD]),xj=new Ao(Pj),Vj=function(){return uh(Nt(),P())},Oi=function(){var e=g(function t(){m(this,t)});return e.__NG_ELEMENT_ID__=Vj,e}(),Bj=function(e){D(n,e);var t=S(n);function n(r,i,a){var s;return m(this,n),(s=t.call(this))._declarationLView=r,s._declarationTContainer=i,s.elementRef=a,s}return g(n,[{key:"createEmbeddedView",value:function(i){var a=this._declarationTContainer.tViews,s=tl(this._declarationLView,a,i,16,null,a.declTNode,null,null,null,null);s[17]=this._declarationLView[this._declarationTContainer.index];var u=this._declarationLView[19];return null!==u&&(s[19]=u.createEmbeddedView(a)),nl(a,s,i),new ml(s)}}]),n}(Oi);function uh(e,t){return 4&e.type?new Bj(t,e,So(e,t)):null}var Ro=g(function e(){m(this,e)}),Hj=g(function e(){m(this,e)}),qj=function(){return _D(Nt(),P())},pi=function(){var e=g(function t(){m(this,t)});return e.__NG_ELEMENT_ID__=qj,e}(),mD=function(e){D(n,e);var t=S(n);function n(r,i,a){var s;return m(this,n),(s=t.call(this))._lContainer=r,s._hostTNode=i,s._hostLView=a,s}return g(n,[{key:"element",get:function(){return So(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new Qs(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var i=Tf(this._hostTNode,this._hostLView);if(mE(i)){var a=Ks(i,this._hostLView),s=zs(i);return new Qs(a[1].data[s+8],a)}return new Qs(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(i){var a=yD(this._lContainer);return null!==a&&a[i]||null}},{key:"length",get:function(){return this._lContainer.length-10}},{key:"createEmbeddedView",value:function(i,a,s){var o=i.createEmbeddedView(a||{});return this.insert(o,s),o}},{key:"createComponent",value:function(i,a,s,o,u){var l=s||this.parentInjector;if(!u&&null==i.ngModule&&l){var c=l.get(Ro,null);c&&(u=c)}var f=i.create(l,o,void 0,u);return this.insert(f.hostView,a),f}},{key:"insert",value:function(i,a){var s=i._lView,o=s[1];if(function(e){return Or(e[3])}(s)){var u=this.indexOf(i);if(-1!==u)this.detach(u);else{var l=s[3],c=new mD(l,l[6],l[3]);c.detach(c.indexOf(i))}}var f=this._adjustIndex(a),h=this._lContainer;!function(e,t,n,r){var i=10+r,a=n.length;r>0&&(n[i-1][4]=t),r<a-10?(t[4]=n[i],Rf(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;var s=t[17];null!==s&&n!==s&&function(e,t){var n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(s,t);var o=t[19];null!==o&&o.insertView(e),t[2]|=128}(o,s,h,f);var d=Kv(f,h),p=s[11],v=Uf(p,h[7]);return null!==v&&function(e,t,n,r,i,a){r[0]=i,r[6]=t,el(e,r,n,1,i,a)}(o,h[6],p,s,v,d),i.attachToViewContainerRef(),Rf(Bg(h),f,i),i}},{key:"move",value:function(i,a){return this.insert(i,a)}},{key:"indexOf",value:function(i){var a=yD(this._lContainer);return null!==a?a.indexOf(i):-1}},{key:"remove",value:function(i){var a=this._adjustIndex(i,-1),s=$v(this._lContainer,a);s&&(rs(Bg(this._lContainer),a),hI(s[1],s))}},{key:"detach",value:function(i){var a=this._adjustIndex(i,-1),s=$v(this._lContainer,a);return s&&null!=rs(Bg(this._lContainer),a)?new ml(s):null}},{key:"_adjustIndex",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==i?this.length+a:i}}]),n}(pi);function yD(e){return e[8]}function Bg(e){return e[8]||(e[8]=[])}function _D(e,t){var n,r=t[e.index];if(Or(r))n=r;else{var i;if(8&e.type)i=It(r);else{var a=t[11];i=a.createComment("");var s=lr(e,t);us(a,Uf(a,s),i,function(e,t){return mt(e)?e.nextSibling(t):t.nextSibling}(a,s),!1)}t[e.index]=n=e1(r,t,i,e),Wf(t,n)}return new mD(n,e,t)}var Mo={},VD=function(e){D(n,e);var t=S(n);function n(r){var i;return m(this,n),(i=t.call(this)).ngModule=r,i}return g(n,[{key:"resolveComponentFactory",value:function(i){var a=mn(i);return new BD(a,this.ngModule)}}]),n}(hs);function UD(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}var UH=new Me("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return iI}}),BD=function(e){D(n,e);var t=S(n);function n(r,i){var a;return m(this,n),(a=t.call(this)).componentDef=r,a.ngModule=i,a.componentType=r.type,a.selector=function(e){return e.map(k3).join(",")}(r.selectors),a.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],a.isBoundToModule=!!i,a}return g(n,[{key:"inputs",get:function(){return UD(this.componentDef.inputs)}},{key:"outputs",get:function(){return UD(this.componentDef.outputs)}},{key:"create",value:function(i,a,s,o){var w,C,u=(o=o||this.ngModule)?function(e,t){return{get:function(r,i,a){var s=e.get(r,Mo,a);return s!==Mo||i===Mo?s:t.get(r,i,a)}}}(i,o.injector):i,l=u.get(sh,eE),c=u.get(Ug,null),f=l.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",d=s?function(e,t,n){if(mt(e))return e.selectRootElement(t,n===ti.ShadowDom);var i="string"==typeof t?e.querySelector(t):t;return i.textContent="",i}(f,s,this.componentDef.encapsulation):qv(l.createRenderer(null,this.componentDef),h,function(e){var t=e.toLowerCase();return"svg"===t?XC:"math"===t?"http://www.w3.org/1998/MathML/":null}(h)),p=this.componentDef.onPush?576:528,v=function(e,t){return{components:[],scheduler:e||iI,clean:a4,playerHandler:t||null,flags:0}}(),y=$f(0,null,null,1,0,null,null,null,null,null),k=tl(null,y,v,p,null,null,l,f,c,u);yf(k);try{var M=function(e,t,n,r,i,a){var s=n[1];n[20]=e;var u=so(s,20,2,"#host",null),l=u.mergedAttrs=t.hostAttrs;null!==l&&(zf(u,l,!0),null!==e&&(Cf(i,e,l),null!==u.classes&&Yv(i,e,u.classes),null!==u.styles&&EI(i,e,u.styles)));var c=r.createRenderer(e,t),f=tl(n,GI(t),null,t.onPush?64:16,n[20],u,r,c,a||null,null);return s.firstCreatePass&&(Df(Uu(u,n),s,t.type),JI(s,u),XI(u,n.length,1)),Wf(n,f),n[20]=f}(d,this.componentDef,k,l,f);if(d)if(s)Cf(f,d,["ng-version",kj.full]);else{var j=function(e){for(var t=[],n=[],r=1,i=2;r<e.length;){var a=e[r];if("string"==typeof a)2===i?""!==a&&t.push(a,e[++r]):8===i&&n.push(a);else{if(!xr(i))break;i=a}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]),z=j.attrs,ee=j.classes;z&&Cf(f,d,z),ee&&ee.length>0&&Yv(f,d,ee.join(" "))}if(C=iv(y,20),void 0!==a)for(var V=C.projection=[],De=0;De<this.ngContentSelectors.length;De++){var Ie=a[De];V.push(null!=Ie?Array.from(Ie):null)}w=function(e,t,n,r,i){var a=n[1],s=function(e,t,n){var r=Nt();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ZI(e,r,t,oo(e,t,1,null),n));var a=Bu(t,e,r.directiveStart,r);rn(a,t);var s=lr(r,t);return s&&rn(s,t),a}(a,n,t);if(r.components.push(s),e[8]=s,i&&i.forEach(function(c){return c(s,t)}),t.contentQueries){var o=Nt();t.contentQueries(1,s,o.directiveStart)}var u=Nt();return!a.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(aa(u.index),QI(n[1],u,0,u.directiveStart,u.directiveEnd,t),YI(t,s)),s}(M,this.componentDef,k,v,[U4]),nl(y,k,null)}finally{_f()}return new HH(this.componentType,w,So(C,k),k,C)}}]),n}(uD),HH=function(e){D(n,e);var t=S(n);function n(r,i,a,s,o){var u;return m(this,n),(u=t.call(this)).location=a,u._rootLView=s,u._tNode=o,u.instance=i,u.hostView=u.changeDetectorRef=new Sj(s),u.componentType=r,u}return g(n,[{key:"injector",get:function(){return new Qs(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(i){this.hostView.onDestroy(i)}}]),n}(lj),Po=new Map;var $H=function(e){D(n,e);var t=S(n);function n(r,i){var a;m(this,n),(a=t.call(this))._parent=i,a._bootstrapComponents=[],a.injector=lt(a),a.destroyCbs=[],a.componentFactoryResolver=new VD(lt(a));var s=sr(r),o=function(e){return e[Tx]||null}(r);return o&&Mg(o),a._bootstrapComponents=li(s.bootstrap),a._r3Injector=l1(r,i,[{provide:Ro,useValue:lt(a)},{provide:hs,useValue:a.componentFactoryResolver}],Ce(r)),a._r3Injector._resolveInjectorDefTypes(),a.instance=a.get(r),a}return g(n,[{key:"get",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bt.THROW_IF_NOT_FOUND,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fe.Default;return i===bt||i===Ro||i===Kf?this:this._r3Injector.get(i,a,s)}},{key:"destroy",value:function(){var i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(function(a){return a()}),this.destroyCbs=null}},{key:"onDestroy",value:function(i){this.destroyCbs.push(i)}}]),n}(Ro),Xg=function(e){D(n,e);var t=S(n);function n(r){var i;return m(this,n),(i=t.call(this)).moduleType=r,null!==sr(r)&&function(e){var t=new Set;!function n(r){var i=sr(r,!0),a=i.id;null!==a&&(function(e,t,n){if(t&&t!==n)throw new Error("Duplicate module registered for ".concat(e," - ").concat(Ce(t)," vs ").concat(Ce(t.name)))}(a,Po.get(a),r),Po.set(a,r));var l,u=W(li(i.imports));try{for(u.s();!(l=u.n()).done;){var c=l.value;t.has(c)||(t.add(c),n(c))}}catch(f){u.e(f)}finally{u.f()}}(e)}(r),i}return g(n,[{key:"create",value:function(i){return new $H(this.moduleType,i)}}]),n}(Hj);function GD(e,t,n,r,i,a){var s=t+n;return an(e,s,i)?function(e,t,n){return e[t]=n}(e,s+1,a?r.call(a,i):r(i)):function(e,t){var n=e[t];return n===he?void 0:n}(e,s+1)}function ha(e,t){var r,n=Ne(),i=e+20;n.firstCreatePass?(r=function(e,t){if(t)for(var n=t.length-1;n>=0;n--){var r=t[n];if(e===r.name)return r}throw new Ya("302","The pipe '".concat(e,"' could not be found!"))}(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];var a=r.factory||(r.factory=ts(r.type)),s=ta(N);try{var o=If(!1),u=a();return If(o),function(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,P(),i,u),u}finally{ta(s)}}function da(e,t,n){var r=e+20,i=P(),a=$s(i,r);return function(e,t){return ls.isWrapped(t)&&(t=ls.unwrap(t),e[ii()]=he),t}(i,function(e,t){return e[1].data[t].pure}(i,r)?GD(i,function(){var e=ce.lFrame,t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}(),t,a.transform,n,a):a.transform(n))}function Zg(e){return function(t){setTimeout(e,void 0,t)}}var on=function(e){D(n,e);var t=S(n);function n(){var r,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return m(this,n),(r=t.call(this)).__isAsync=i,r}return g(n,[{key:"emit",value:function(i){ue(oe(n.prototype),"next",this).call(this,i)}},{key:"subscribe",value:function(i,a,s){var o,u,l,c=i,f=a||function(){return null},h=s;if(i&&"object"==typeof i){var d=i;c=null===(o=d.next)||void 0===o?void 0:o.bind(d),f=null===(u=d.error)||void 0===u?void 0:u.bind(d),h=null===(l=d.complete)||void 0===l?void 0:l.bind(d)}this.__isAsync&&(f=Zg(f),c&&(c=Zg(c)),h&&(h=Zg(h)));var p=ue(oe(n.prototype),"subscribe",this).call(this,{next:c,error:f,complete:h});return i instanceof Q&&i.add(p),p}}]),n}(Wa);function uG(){return this._results[ho()]()}var KD=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];m(this,e),this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;var n=ho(),r=e.prototype;r[n]||(r[n]=uG)}return g(e,[{key:"changes",get:function(){return this._changes||(this._changes=new on)}},{key:"get",value:function(n){return this._results[n]}},{key:"map",value:function(n){return this._results.map(n)}},{key:"filter",value:function(n){return this._results.filter(n)}},{key:"find",value:function(n){return this._results.find(n)}},{key:"reduce",value:function(n,r){return this._results.reduce(n,r)}},{key:"forEach",value:function(n){this._results.forEach(n)}},{key:"some",value:function(n){return this._results.some(n)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(n,r){var i=this;i.dirty=!1;var a=fr(n);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++){var i=e[r],a=t[r];if(n&&(i=n(i),a=n(a)),a!==i)return!1}return!0}(i._results,a,r))&&(i._results=a,i.length=a.length,i.last=a[this.length-1],i.first=a[0])}},{key:"notifyOnChanges",value:function(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),e}();Symbol;var fG=function(){function e(t){m(this,e),this.queryList=t,this.matches=null}return g(e,[{key:"clone",value:function(){return new e(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),e}(),hG=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];m(this,e),this.queries=t}return g(e,[{key:"createEmbeddedView",value:function(n){var r=n.queries;if(null!==r){for(var i=null!==n.contentQueries?n.contentQueries[0]:r.length,a=[],s=0;s<i;s++){var o=r.getByIndex(s);a.push(this.queries[o.indexInDeclarationView].clone())}return new e(a)}return null}},{key:"insertView",value:function(n){this.dirtyQueriesWithMatches(n)}},{key:"detachView",value:function(n){this.dirtyQueriesWithMatches(n)}},{key:"dirtyQueriesWithMatches",value:function(n){for(var r=0;r<this.queries.length;r++)null!==ZD(n,r).matches&&this.queries[r].setDirty()}}]),e}(),QD=g(function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;m(this,e),this.predicate=t,this.flags=n,this.read=r}),dG=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];m(this,e),this.queries=t}return g(e,[{key:"elementStart",value:function(n,r){for(var i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,r)}},{key:"elementEnd",value:function(n){for(var r=0;r<this.queries.length;r++)this.queries[r].elementEnd(n)}},{key:"embeddedTView",value:function(n){for(var r=null,i=0;i<this.length;i++){var a=null!==r?r.length:0,s=this.getByIndex(i).embeddedTView(n,a);s&&(s.indexInDeclarationView=i,null!==r?r.push(s):r=[s])}return null!==r?new e(r):null}},{key:"template",value:function(n,r){for(var i=0;i<this.queries.length;i++)this.queries[i].template(n,r)}},{key:"getByIndex",value:function(n){return this.queries[n]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(n){this.queries.push(n)}}]),e}(),pG=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;m(this,e),this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return g(e,[{key:"elementStart",value:function(n,r){this.isApplyingToNode(r)&&this.matchTNode(n,r)}},{key:"elementEnd",value:function(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(n,r){this.elementStart(n,r)}},{key:"embeddedTView",value:function(n,r){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,r),new e(this.metadata)):null}},{key:"isApplyingToNode",value:function(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){for(var r=this._declarationNodeIndex,i=n.parent;null!==i&&8&i.type&&i.index!==r;)i=i.parent;return r===(null!==i?i.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(n,r){var i=this.metadata.predicate;if(Array.isArray(i))for(var a=0;a<i.length;a++){var s=i[a];this.matchTNodeWithReadOption(n,r,vG(r,s)),this.matchTNodeWithReadOption(n,r,Sf(r,n,s,!1,!1))}else i===Oi?4&r.type&&this.matchTNodeWithReadOption(n,r,-1):this.matchTNodeWithReadOption(n,r,Sf(r,n,i,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(n,r,i){if(null!==i){var a=this.metadata.read;if(null!==a)if(a===Bt||a===pi||a===Oi&&4&r.type)this.addMatch(r.index,-2);else{var s=Sf(r,n,a,!1,!1);null!==s&&this.addMatch(r.index,s)}else this.addMatch(r.index,i)}}},{key:"addMatch",value:function(n,r){null===this.matches?this.matches=[n,r]:this.matches.push(n,r)}}]),e}();function vG(e,t){var n=e.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function mG(e,t,n,r){return-1===n?function(e,t){return 11&e.type?So(e,t):4&e.type?uh(e,t):null}(t,e):-2===n?function(e,t,n){return n===Bt?So(t,e):n===Oi?uh(t,e):n===pi?_D(t,e):void 0}(e,t,r):Bu(e,e[1],n,t)}function YD(e,t,n,r){var i=t[19].queries[r];if(null===i.matches){for(var a=e.data,s=n.matches,o=[],u=0;u<s.length;u+=2){var l=s[u];o.push(l<0?null:mG(t,a[l],s[u+1],n.metadata.read))}i.matches=o}return i.matches}function em(e,t,n,r){var i=e.queries.getByIndex(n),a=i.matches;if(null!==a)for(var s=YD(e,t,i,n),o=0;o<a.length;o+=2){var u=a[o];if(u>0)r.push(s[o/2]);else{for(var l=a[o+1],c=t[-u],f=10;f<c.length;f++){var h=c[f];h[17]===h[3]&&em(h[1],h,l,r)}if(null!==c[9])for(var d=c[9],p=0;p<d.length;p++){var v=d[p];em(v[1],v,l,r)}}}return r}function tm(e){var t=P(),n=Ne(),r=oE();fv(r+1);var i=ZD(n,r);if(e.dirty&&tE(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{var a=i.crossesNgTemplate?em(n,t,r,[]):YD(n,t,i,r);e.reset(a,cD),e.notifyOnChanges()}return!0}return!1}function nm(e,t,n){var r=Ne();r.firstCreatePass&&(function(e,t,n){null===e.queries&&(e.queries=new dG),e.queries.track(new pG(t,n))}(r,new QD(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),function(e,t,n){var r=new KD(4==(4&n));WI(e,t,r,r.destroy),null===t[19]&&(t[19]=new hG),t[19].queries.push(new fG(r))}(r,P(),t)}function rm(){return e=P(),t=oE(),e[19].queries[t].queryList;var e,t}function ZD(e,t){return e.queries.getByIndex(t)}function Tl(e,t){return uh(e,t)}var mh=new Me("Application Initializer"),Fo=function(){var e=function(){function t(n){var r=this;m(this,t),this.appInits=n,this.resolve=ah,this.reject=ah,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(i,a){r.resolve=i,r.reject=a})}return g(t,[{key:"runInitializers",value:function(){var r=this;if(!this.initialized){var i=[],a=function(){r.done=!0,r.resolve()};if(this.appInits)for(var s=function(l){var c=r.appInits[l]();if(Jf(c))i.push(c);else if(Dg(c)){var f=new Promise(function(h,d){c.subscribe({complete:h,error:d})});i.push(f)}},o=0;o<this.appInits.length;o++)s(o);Promise.all(i).then(function(){a()}).catch(function(u){r.reject(u)}),0===i.length&&a(),this.initialized=!0}}}]),t}();return e.\u0275fac=function(n){return new(n||e)(me(mh,8))},e.\u0275prov=Re({token:e,factory:e.\u0275fac}),e}(),Sl=new Me("AppId"),i7={provide:Sl,useFactory:function(){return"".concat(lm()).concat(lm()).concat(lm())},deps:[]};function lm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var mS=new Me("Platform Initializer"),yh=new Me("Platform ID"),a7=new Me("appBootstrapListener"),cm=function(){var e=function(){function t(){m(this,t)}return g(t,[{key:"log",value:function(r){console.log(r)}},{key:"warn",value:function(r){console.warn(r)}}]),t}();return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Re({token:e,factory:e.\u0275fac}),e}(),pa=new Me("LocaleId"),yS=new Me("DefaultCurrencyCode"),o7=g(function e(t,n){m(this,e),this.ngModuleFactory=t,this.componentFactories=n}),fm=function(t){return new Xg(t)},u7=fm,c7=function(t){return Promise.resolve(fm(t))},_S=function(t){var n=fm(t),i=li(sr(t).declarations).reduce(function(a,s){var o=mn(s);return o&&a.push(new BD(o)),a},[]);return new o7(n,i)},f7=_S,d7=function(t){return Promise.resolve(_S(t))},kh=function(){var e=function(){function t(){m(this,t),this.compileModuleSync=u7,this.compileModuleAsync=c7,this.compileModuleAndAllComponentsSync=f7,this.compileModuleAndAllComponentsAsync=d7}return g(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(r){}},{key:"getModuleId",value:function(r){}}]),t}();return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Re({token:e,factory:e.\u0275fac}),e}(),g7=function(){return Promise.resolve(0)}();function hm(e){"undefined"==typeof Zone?g7.then(function(){e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var Cn=function(){function e(t){var n=t.enableLongStackTrace,r=void 0!==n&&n,i=t.shouldCoalesceEventChangeDetection,a=void 0!==i&&i,s=t.shouldCoalesceRunChangeDetection,o=void 0!==s&&s;if(m(this,e),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new on(!1),this.onMicrotaskEmpty=new on(!1),this.onStable=new on(!1),this.onError=new on(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();var u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!o&&a,u.shouldCoalesceRunChangeDetection=o,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function(){var e=qe.requestAnimationFrame,t=qe.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){var n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);var r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){var t=function(){!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(qe,function(){e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){e.lastRequestAnimationFrameId=-1,pm(e),e.isCheckStableRunning=!0,dm(e),e.isCheckStableRunning=!1},void 0,function(){},function(){})),e.fakeTopEventTask.invoke()}),pm(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(r,i,a,s,o,u){try{return kS(e),r.invokeTask(a,s,o,u)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),wS(e)}},onInvoke:function(r,i,a,s,o,u,l){try{return kS(e),r.invoke(a,s,o,u,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),wS(e)}},onHasTask:function(r,i,a,s){r.hasTask(a,s),i===a&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,pm(e),dm(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:function(r,i,a,s){return r.handleError(a,s),e.runOutsideAngular(function(){return e.onError.emit(s)}),!1}})}(u)}return g(e,[{key:"run",value:function(n,r,i){return this._inner.run(n,r,i)}},{key:"runTask",value:function(n,r,i,a){var s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+a,n,y7,ah,ah);try{return s.runTask(o,r,i)}finally{s.cancelTask(o)}}},{key:"runGuarded",value:function(n,r,i){return this._inner.runGuarded(n,r,i)}},{key:"runOutsideAngular",value:function(n){return this._outer.run(n)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}(),y7={};function dm(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(function(){return e.onStable.emit(null)})}finally{e.isStable=!0}}}function pm(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function kS(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function wS(e){e._nesting--,dm(e)}var w7=function(){function e(){m(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new on,this.onMicrotaskEmpty=new on,this.onStable=new on,this.onError=new on}return g(e,[{key:"run",value:function(n,r,i){return n.apply(r,i)}},{key:"runGuarded",value:function(n,r,i){return n.apply(r,i)}},{key:"runOutsideAngular",value:function(n){return n()}},{key:"runTask",value:function(n,r,i,a){return n.apply(r,i)}}]),e}(),vm=function(){var e=function(){function t(n){var r=this;m(this,t),this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(function(){r.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return g(t,[{key:"_watchAngularEvents",value:function(){var r=this;this._ngZone.onUnstable.subscribe({next:function(){r._didWork=!0,r._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){r._ngZone.onStable.subscribe({next:function(){Cn.assertNotInAngularZone(),hm(function(){r._isZoneStable=!0,r._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var r=this;if(this.isStable())hm(function(){for(;0!==r._callbacks.length;){var a=r._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(r._didWork)}r._didWork=!1});else{var i=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(a){return!a.updateCb||!a.updateCb(i)||(clearTimeout(a.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(r){return{source:r.source,creationLocation:r.creationLocation,data:r.data}}):[]}},{key:"addCallback",value:function(r,i,a){var s=this,o=-1;i&&i>0&&(o=setTimeout(function(){s._callbacks=s._callbacks.filter(function(u){return u.timeoutId!==o}),r(s._didWork,s.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:a})}},{key:"whenStable",value:function(r,i,a){if(a&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,a),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(r,i,a){return[]}}]),t}();return e.\u0275fac=function(n){return new(n||e)(me(Cn))},e.\u0275prov=Re({token:e,factory:e.\u0275fac}),e}(),bS=function(){var e=function(){function t(){m(this,t),this._applications=new Map,gm.addToWindow(this)}return g(t,[{key:"registerApplication",value:function(r,i){this._applications.set(r,i)}},{key:"unregisterApplication",value:function(r){this._applications.delete(r)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(r){return this._applications.get(r)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(r){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return gm.findTestabilityInTree(this,r,i)}}]),t}();return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Re({token:e,factory:e.\u0275fac}),e}(),gm=new(function(){function e(){m(this,e)}return g(e,[{key:"addToWindow",value:function(n){}},{key:"findTestabilityInTree",value:function(n,r,i){return null}}]),e}()),CS=!0,ES=!1;var qr,I7=function(e,t,n){var r=new Xg(n);return Promise.resolve(r)},TS=new Me("AllowMultipleToken");function M7(e){if(qr&&!qr.destroyed&&!qr.injector.get(TS,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");qr=e.get(AS);var t=e.get(mS,null);return t&&t.forEach(function(n){return n()}),qr}function DS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(t),i=new Me(r);return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=SS();if(!s||s.injector.get(TS,!1))if(e)e(n.concat(a).concat({provide:i,useValue:!0}));else{var o=n.concat(a).concat({provide:i,useValue:!0},{provide:rl,useValue:"platform"});M7(bt.create({providers:o,name:r}))}return P7(i)}}function P7(e){var t=SS();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}function SS(){return qr&&!qr.destroyed?qr:null}var AS=function(){var e=function(){function t(n){m(this,t),this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return g(t,[{key:"bootstrapModuleFactory",value:function(r,i){var a=this,l=function(e,t){return"noop"===e?new w7:("zone.js"===e?void 0:e)||new Cn({enableLongStackTrace:(ES=!0,CS),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)})}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),c=[{provide:Cn,useValue:l}];return l.run(function(){var f=bt.create({providers:c,parent:a.injector,name:r.moduleType.name}),h=r.create(f),d=h.injector.get(os,null);if(!d)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return l.runOutsideAngular(function(){var p=l.onError.subscribe({next:function(y){d.handleError(y)}});h.onDestroy(function(){mm(a._modules,h),p.unsubscribe()})}),function(e,t,n){try{var r=((p=h.injector.get(Fo)).runInitializers(),p.donePromise.then(function(){return Mg(h.injector.get(pa,eh)||eh),a._moduleDoBootstrap(h),h}));return Jf(r)?r.catch(function(i){throw t.runOutsideAngular(function(){return e.handleError(i)}),i}):r}catch(i){throw t.runOutsideAngular(function(){return e.handleError(i)}),i}var p}(d,l)})}},{key:"bootstrapModule",value:function(r){var i=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=RS({},a);return I7(0,0,r).then(function(o){return i.bootstrapModuleFactory(o,s)})}},{key:"_moduleDoBootstrap",value:function(r){var i=r.injector.get(vi);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(function(a){return i.bootstrap(a)});else{if(!r.instance.ngDoBootstrap)throw new Error("The module ".concat(Ce(r.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. ')+"Please define one of these.");r.instance.ngDoBootstrap(i)}this._modules.push(r)}},{key:"onDestroy",value:function(r){this._destroyListeners.push(r)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(r){return r.destroy()}),this._destroyListeners.forEach(function(r){return r()}),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();return e.\u0275fac=function(n){return new(n||e)(me(bt))},e.\u0275prov=Re({token:e,factory:e.\u0275fac}),e}();function RS(e,t){return Array.isArray(t)?t.reduce(RS,e):Object.assign(Object.assign({},e),t)}var vi=function(){var e=function(){function t(n,r,i,a,s){var o=this;m(this,t),this._zone=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=a,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){o._zone.run(function(){o.tick()})}});var u=new at(function(c){o._stable=o._zone.isStable&&!o._zone.hasPendingMacrotasks&&!o._zone.hasPendingMicrotasks,o._zone.runOutsideAngular(function(){c.next(o._stable),c.complete()})}),l=new at(function(c){var f;o._zone.runOutsideAngular(function(){f=o._zone.onStable.subscribe(function(){Cn.assertNotInAngularZone(),hm(function(){!o._stable&&!o._zone.hasPendingMacrotasks&&!o._zone.hasPendingMicrotasks&&(o._stable=!0,c.next(!0))})})});var h=o._zone.onUnstable.subscribe(function(){Cn.assertInAngularZone(),o._stable&&(o._stable=!1,o._zone.runOutsideAngular(function(){c.next(!1)}))});return function(){f.unsubscribe(),h.unsubscribe()}});this.isStable=xC(u,l.pipe(function(e){return LC()(function(e,t){return function(r){var i;i="function"==typeof e?e:function(){return e};var a=Object.create(r,ox);return a.source=r,a.subjectFactory=i,a}}(fx)(e))}))}return g(t,[{key:"bootstrap",value:function(r,i){var s,a=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");s=r instanceof uD?r:this._componentFactoryResolver.resolveComponentFactory(r),this.componentTypes.push(s.componentType);var o=function(e){return e.isBoundToModule}(s)?void 0:this._injector.get(Ro),l=s.create(bt.NULL,[],i||s.selector,o),c=l.location.nativeElement,f=l.injector.get(vm,null),h=f&&l.injector.get(bS);return f&&h&&h.registerApplication(c,f),l.onDestroy(function(){a.detachView(l.hostView),mm(a.components,l),h&&h.unregisterApplication(c)}),this._loadComponent(l),l}},{key:"tick",value:function(){var r=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var a,i=W(this._views);try{for(i.s();!(a=i.n()).done;)a.value.detectChanges()}catch(c){i.e(c)}finally{i.f()}}catch(c){this._zone.runOutsideAngular(function(){return r._exceptionHandler.handleError(c)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(r){var i=r;this._views.push(i),i.attachToAppRef(this)}},{key:"detachView",value:function(r){var i=r;mm(this._views,i),i.detachFromAppRef()}},{key:"_loadComponent",value:function(r){this.attachView(r.hostView),this.tick(),this.components.push(r),this._injector.get(a7,[]).concat(this._bootstrapListeners).forEach(function(a){return a(r)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(r){return r.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),t}();return e.\u0275fac=function(n){return new(n||e)(me(Cn),me(bt),me(os),me(hs),me(Fo))},e.\u0275prov=Re({token:e,factory:e.\u0275fac}),e}();function mm(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var K7=DS(null,"core",[{provide:yh,useValue:"unknown"},{provide:AS,deps:[bt]},{provide:bS,deps:[]},{provide:cm,deps:[]}]),e5=[{provide:vi,useClass:vi,deps:[Cn,bt,os,hs,Fo]},{provide:UH,deps:[Cn],useFactory:function(e){var t=[];return e.onStable.subscribe(function(){for(;t.length;)t.pop()()}),function(n){t.push(n)}}},{provide:Fo,useClass:Fo,deps:[[new si,mh]]},{provide:kh,useClass:kh,deps:[]},i7,{provide:gl,useFactory:function(){return Fj},deps:[]},{provide:Ao,useFactory:function(){return xj},deps:[]},{provide:pa,useFactory:function(e){return Mg(e=e||"undefined"!=typeof $localize&&$localize.locale||eh),e},deps:[[new zu(pa),new si,new as]]},{provide:yS,useValue:"USD"}],n5=function(){var e=g(function t(n){m(this,t)});return e.\u0275fac=function(n){return new(n||e)(me(vi))},e.\u0275mod=Si({type:e}),e.\u0275inj=Mr({providers:e5}),e}(),Dh=null;function ys(){return Dh}var J5=g(function e(){m(this,e)}),un=new Me("DocumentToken"),Pl=function(e){return e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other",e}({}),Fn=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}({}),rt=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}({}),mr=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}({}),Tt=function(e){return e[e.Decimal=0]="Decimal",e[e.Group=1]="Group",e[e.List=2]="List",e[e.PercentSign=3]="PercentSign",e[e.PlusSign=4]="PlusSign",e[e.MinusSign=5]="MinusSign",e[e.Exponential=6]="Exponential",e[e.SuperscriptingExponent=7]="SuperscriptingExponent",e[e.PerMille=8]="PerMille",e[e.Infinity=9]="Infinity",e[e.NaN=10]="NaN",e[e.TimeSeparator=11]="TimeSeparator",e[e.CurrencyDecimal=12]="CurrencyDecimal",e[e.CurrencyGroup=13]="CurrencyGroup",e}({});function Sh(e,t){return _r(kn(e)[ut.DateFormat],t)}function Ah(e,t){return _r(kn(e)[ut.TimeFormat],t)}function Rh(e,t){return _r(kn(e)[ut.DateTimeFormat],t)}function yr(e,t){var n=kn(e),r=n[ut.NumberSymbols][t];if(void 0===r){if(t===Tt.CurrencyDecimal)return n[ut.NumberSymbols][Tt.Decimal];if(t===Tt.CurrencyGroup)return n[ut.NumberSymbols][Tt.Group]}return r}var o6=function(e){return kn(e)[ut.PluralCase]};function rA(e){if(!e[ut.ExtraData])throw new Error('Missing extra locale data for the locale "'.concat(e[ut.LocaleId],'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.'))}function _r(e,t){for(var n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function Fm(e){var n=Ge(e.split(":"),2);return{hours:+n[0],minutes:+n[1]}}var d6=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ol={},p6=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,ga=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}({}),$e=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}({}),We=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}({});function v6(e,t,n,r){var i=function(e){if(sA(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){var n=Ge(e.split("-").map(function(f){return+f}),3),i=n[1],s=n[2];return Nh(n[0],(void 0===i?1:i)-1,void 0===s?1:s)}var l,u=parseFloat(e);if(!isNaN(e-u))return new Date(u);if(l=e.match(d6))return function(e){var t=new Date(0),n=0,r=0,i=e[8]?t.setUTCFullYear:t.setFullYear,a=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));var s=Number(e[4]||0)-n,o=Number(e[5]||0)-r,u=Number(e[6]||0),l=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return a.call(t,s,o,u,l),t}(l)}var c=new Date(e);if(!sA(c))throw new Error('Unable to convert "'.concat(e,'" into a date'));return c}(e);t=xi(n,t)||t;for(var o,s=[];t;){if(!(o=p6.exec(t))){s.push(t);break}var u=(s=s.concat(o.slice(1))).pop();if(!u)break;t=u}var l=i.getTimezoneOffset();r&&(l=aA(r,l),i=function(e,t,n){var i=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(aA(t,i)-i))}(i,r));var c="";return s.forEach(function(f){var h=function(e){if(Lm[e])return Lm[e];var t;switch(e){case"G":case"GG":case"GGG":t=it(We.Eras,rt.Abbreviated);break;case"GGGG":t=it(We.Eras,rt.Wide);break;case"GGGGG":t=it(We.Eras,rt.Narrow);break;case"y":t=Dt($e.FullYear,1,0,!1,!0);break;case"yy":t=Dt($e.FullYear,2,0,!0,!0);break;case"yyy":t=Dt($e.FullYear,3,0,!1,!0);break;case"yyyy":t=Dt($e.FullYear,4,0,!1,!0);break;case"Y":t=Fh(1);break;case"YY":t=Fh(2,!0);break;case"YYY":t=Fh(3);break;case"YYYY":t=Fh(4);break;case"M":case"L":t=Dt($e.Month,1,1);break;case"MM":case"LL":t=Dt($e.Month,2,1);break;case"MMM":t=it(We.Months,rt.Abbreviated);break;case"MMMM":t=it(We.Months,rt.Wide);break;case"MMMMM":t=it(We.Months,rt.Narrow);break;case"LLL":t=it(We.Months,rt.Abbreviated,Fn.Standalone);break;case"LLLL":t=it(We.Months,rt.Wide,Fn.Standalone);break;case"LLLLL":t=it(We.Months,rt.Narrow,Fn.Standalone);break;case"w":t=xm(1);break;case"ww":t=xm(2);break;case"W":t=xm(1,!0);break;case"d":t=Dt($e.Date,1);break;case"dd":t=Dt($e.Date,2);break;case"c":case"cc":t=Dt($e.Day,1);break;case"ccc":t=it(We.Days,rt.Abbreviated,Fn.Standalone);break;case"cccc":t=it(We.Days,rt.Wide,Fn.Standalone);break;case"ccccc":t=it(We.Days,rt.Narrow,Fn.Standalone);break;case"cccccc":t=it(We.Days,rt.Short,Fn.Standalone);break;case"E":case"EE":case"EEE":t=it(We.Days,rt.Abbreviated);break;case"EEEE":t=it(We.Days,rt.Wide);break;case"EEEEE":t=it(We.Days,rt.Narrow);break;case"EEEEEE":t=it(We.Days,rt.Short);break;case"a":case"aa":case"aaa":t=it(We.DayPeriods,rt.Abbreviated);break;case"aaaa":t=it(We.DayPeriods,rt.Wide);break;case"aaaaa":t=it(We.DayPeriods,rt.Narrow);break;case"b":case"bb":case"bbb":t=it(We.DayPeriods,rt.Abbreviated,Fn.Standalone,!0);break;case"bbbb":t=it(We.DayPeriods,rt.Wide,Fn.Standalone,!0);break;case"bbbbb":t=it(We.DayPeriods,rt.Narrow,Fn.Standalone,!0);break;case"B":case"BB":case"BBB":t=it(We.DayPeriods,rt.Abbreviated,Fn.Format,!0);break;case"BBBB":t=it(We.DayPeriods,rt.Wide,Fn.Format,!0);break;case"BBBBB":t=it(We.DayPeriods,rt.Narrow,Fn.Format,!0);break;case"h":t=Dt($e.Hours,1,-12);break;case"hh":t=Dt($e.Hours,2,-12);break;case"H":t=Dt($e.Hours,1);break;case"HH":t=Dt($e.Hours,2);break;case"m":t=Dt($e.Minutes,1);break;case"mm":t=Dt($e.Minutes,2);break;case"s":t=Dt($e.Seconds,1);break;case"ss":t=Dt($e.Seconds,2);break;case"S":t=Dt($e.FractionalSeconds,1);break;case"SS":t=Dt($e.FractionalSeconds,2);break;case"SSS":t=Dt($e.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Ph(ga.Short);break;case"ZZZZZ":t=Ph(ga.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Ph(ga.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Ph(ga.Long);break;default:return null}return Lm[e]=t,t}(f);c+=h?h(i,n,l):"''"===f?"'":f.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Nh(e,t,n){var r=new Date(0);return r.setFullYear(e,t,n),r.setHours(0,0,0),r}function xi(e,t){var n=function(e){return kn(e)[ut.LocaleId]}(e);if(Ol[n]=Ol[n]||{},Ol[n][t])return Ol[n][t];var r="";switch(t){case"shortDate":r=Sh(e,mr.Short);break;case"mediumDate":r=Sh(e,mr.Medium);break;case"longDate":r=Sh(e,mr.Long);break;case"fullDate":r=Sh(e,mr.Full);break;case"shortTime":r=Ah(e,mr.Short);break;case"mediumTime":r=Ah(e,mr.Medium);break;case"longTime":r=Ah(e,mr.Long);break;case"fullTime":r=Ah(e,mr.Full);break;case"short":var i=xi(e,"shortTime"),a=xi(e,"shortDate");r=Mh(Rh(e,mr.Short),[i,a]);break;case"medium":var s=xi(e,"mediumTime"),o=xi(e,"mediumDate");r=Mh(Rh(e,mr.Medium),[s,o]);break;case"long":var u=xi(e,"longTime"),l=xi(e,"longDate");r=Mh(Rh(e,mr.Long),[u,l]);break;case"full":var c=xi(e,"fullTime"),f=xi(e,"fullDate");r=Mh(Rh(e,mr.Full),[c,f])}return r&&(Ol[n][t]=r),r}function Mh(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(n,r){return null!=t&&r in t?t[r]:n})),e}function zr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,a="";(e<0||i&&e<=0)&&(i?e=1-e:(e=-e,a=n));for(var s=String(e);s.length<t;)s="0"+s;return r&&(s=s.substr(s.length-t)),a+s}function g6(e,t){return zr(e,3).substr(0,t)}function Dt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(a,s){var o=m6(e,a);if((n>0||o>-n)&&(o+=n),e===$e.Hours)0===o&&-12===n&&(o=12);else if(e===$e.FractionalSeconds)return g6(o,t);var u=yr(s,Tt.MinusSign);return zr(o,t,u,r,i)}}function m6(e,t){switch(e){case $e.FullYear:return t.getFullYear();case $e.Month:return t.getMonth();case $e.Date:return t.getDate();case $e.Hours:return t.getHours();case $e.Minutes:return t.getMinutes();case $e.Seconds:return t.getSeconds();case $e.FractionalSeconds:return t.getMilliseconds();case $e.Day:return t.getDay();default:throw new Error('Unknown DateType value "'.concat(e,'".'))}}function it(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fn.Format,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(i,a){return y6(i,a,e,t,n,r)}}function y6(e,t,n,r,i,a){switch(n){case We.Months:return function(e,t,n){var r=kn(e),a=_r([r[ut.MonthsFormat],r[ut.MonthsStandalone]],t);return _r(a,n)}(t,i,r)[e.getMonth()];case We.Days:return function(e,t,n){var r=kn(e),a=_r([r[ut.DaysFormat],r[ut.DaysStandalone]],t);return _r(a,n)}(t,i,r)[e.getDay()];case We.DayPeriods:var s=e.getHours(),o=e.getMinutes();if(a){var u=function(e){var t=kn(e);return rA(t),(t[ut.ExtraData][2]||[]).map(function(r){return"string"==typeof r?Fm(r):[Fm(r[0]),Fm(r[1])]})}(t),l=function(e,t,n){var r=kn(e);rA(r);var a=_r([r[ut.ExtraData][0],r[ut.ExtraData][1]],t)||[];return _r(a,n)||[]}(t,i,r),c=u.findIndex(function(h){if(Array.isArray(h)){var d=Ge(h,2),p=d[0],v=d[1],y=s>=p.hours&&o>=p.minutes,k=s<v.hours||s===v.hours&&o<v.minutes;if(p.hours<v.hours){if(y&&k)return!0}else if(y||k)return!0}else if(h.hours===s&&h.minutes===o)return!0;return!1});if(-1!==c)return l[c]}return function(e,t,n){var r=kn(e),a=_r([r[ut.DayPeriodsFormat],r[ut.DayPeriodsStandalone]],t);return _r(a,n)}(t,i,r)[s<12?0:1];case We.Eras:return function(e,t){return _r(kn(e)[ut.Eras],t)}(t,r)[e.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type ".concat(n))}}function Ph(e){return function(t,n,r){var i=-1*r,a=yr(n,Tt.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case ga.Short:return(i>=0?"+":"")+zr(s,2,a)+zr(Math.abs(i%60),2,a);case ga.ShortGMT:return"GMT"+(i>=0?"+":"")+zr(s,1,a);case ga.Long:return"GMT"+(i>=0?"+":"")+zr(s,2,a)+":"+zr(Math.abs(i%60),2,a);case ga.Extended:return 0===r?"Z":(i>=0?"+":"")+zr(s,2,a)+":"+zr(Math.abs(i%60),2,a);default:throw new Error('Unknown zone width "'.concat(e,'"'))}}}function k6(e){var t=Nh(e,0,1).getDay();return Nh(e,0,1+(t<=4?4:11)-t)}function iA(e){return Nh(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function xm(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){var i;if(t){var a=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+a)/7)}else{var o=iA(n),u=k6(o.getFullYear()),l=o.getTime()-u.getTime();i=1+Math.round(l/6048e5)}return zr(i,e,yr(r,Tt.MinusSign))}}function Fh(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){return zr(iA(n).getFullYear(),e,yr(r,Tt.MinusSign),t)}}var Lm={};function aA(e,t){e=e.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function sA(e){return e instanceof Date&&!isNaN(e.valueOf())}var Lh=g(function e(){m(this,e)}),x6=function(){var e=function(t){D(r,t);var n=S(r);function r(i){var a;return m(this,r),(a=n.call(this)).locale=i,a}return g(r,[{key:"getPluralCategory",value:function(a,s){switch(o6(s||this.locale)(a)){case Pl.Zero:return"zero";case Pl.One:return"one";case Pl.Two:return"two";case Pl.Few:return"few";case Pl.Many:return"many";default:return"other"}}}]),r}(Lh);return e.\u0275fac=function(n){return new(n||e)(me(pa))},e.\u0275prov=Re({token:e,factory:e.\u0275fac}),e}(),cA=function(){var e=function(){function t(n,r,i,a){m(this,t),this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return g(t,[{key:"klass",set:function(r){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof r?r.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(r){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof r?r.split(/\s+/):r,this._rawClass&&(sl(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}},{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var r=this._iterableDiffer.diff(this._rawClass);r&&this._applyIterableChanges(r)}else if(this._keyValueDiffer){var i=this._keyValueDiffer.diff(this._rawClass);i&&this._applyKeyValueChanges(i)}}},{key:"_applyKeyValueChanges",value:function(r){var i=this;r.forEachAddedItem(function(a){return i._toggleClass(a.key,a.currentValue)}),r.forEachChangedItem(function(a){return i._toggleClass(a.key,a.currentValue)}),r.forEachRemovedItem(function(a){a.previousValue&&i._toggleClass(a.key,!1)})}},{key:"_applyIterableChanges",value:function(r){var i=this;r.forEachAddedItem(function(a){if("string"!=typeof a.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got ".concat(Ce(a.item)));i._toggleClass(a.item,!0)}),r.forEachRemovedItem(function(a){return i._toggleClass(a.item,!1)})}},{key:"_applyClasses",value:function(r){var i=this;r&&(Array.isArray(r)||r instanceof Set?r.forEach(function(a){return i._toggleClass(a,!0)}):Object.keys(r).forEach(function(a){return i._toggleClass(a,!!r[a])}))}},{key:"_removeClasses",value:function(r){var i=this;r&&(Array.isArray(r)||r instanceof Set?r.forEach(function(a){return i._toggleClass(a,!1)}):Object.keys(r).forEach(function(a){return i._toggleClass(a,!1)}))}},{key:"_toggleClass",value:function(r,i){var a=this;(r=r.trim())&&r.split(/\s+/g).forEach(function(s){i?a._renderer.addClass(a._ngEl.nativeElement,s):a._renderer.removeClass(a._ngEl.nativeElement,s)})}}]),t}();return e.\u0275fac=function(n){return new(n||e)(N(gl),N(Ao),N(Bt),N(ds))},e.\u0275dir=le({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e}(),U6=function(){function e(t,n,r,i){m(this,e),this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}return g(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),xl=function(){var e=function(){function t(n,r,i){m(this,t),this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return g(t,[{key:"ngForOf",set:function(r){this._ngForOf=r,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(r){this._trackByFn=r}},{key:"ngForTemplate",set:function(r){r&&(this._template=r)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var r=this._ngForOf;if(!this._differ&&r)try{this._differ=this._differs.find(r).create(this.ngForTrackBy)}catch(a){throw new Error("Cannot find a differ supporting object '".concat(r,"' of type '").concat(function(e){return e.name||typeof e}(r),"'. NgFor only supports binding to Iterables such as Arrays."))}}if(this._differ){var i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}},{key:"_applyChanges",value:function(r){var i=this,a=[];r.forEachOperation(function(c,f,h){if(null==c.previousIndex){var d=i._viewContainer.createEmbeddedView(i._template,new U6(null,i._ngForOf,-1,-1),null===h?void 0:h),p=new fA(c,d);a.push(p)}else if(null==h)i._viewContainer.remove(null===f?void 0:f);else if(null!==f){var v=i._viewContainer.get(f);i._viewContainer.move(v,h);var y=new fA(c,v);a.push(y)}});for(var s=0;s<a.length;s++)this._perViewChange(a[s].view,a[s].record);for(var o=0,u=this._viewContainer.length;o<u;o++){var l=this._viewContainer.get(o);l.context.index=o,l.context.count=u,l.context.ngForOf=this._ngForOf}r.forEachIdentityChange(function(c){i._viewContainer.get(c.currentIndex).context.$implicit=c.item})}},{key:"_perViewChange",value:function(r,i){r.context.$implicit=i.item}}],[{key:"ngTemplateContextGuard",value:function(r,i){return!0}}]),t}();return e.\u0275fac=function(n){return new(n||e)(N(pi),N(Oi),N(gl))},e.\u0275dir=le({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e}(),fA=g(function e(t,n){m(this,e),this.record=t,this.view=n}),In=function(){var e=function(){function t(n,r){m(this,t),this._viewContainer=n,this._context=new j6,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}return g(t,[{key:"ngIf",set:function(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}},{key:"ngIfThen",set:function(r){hA("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(r){hA("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(r,i){return!0}}]),t}();return e.\u0275fac=function(n){return new(n||e)(N(pi),N(Oi))},e.\u0275dir=le({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e}(),j6=g(function e(){m(this,e),this.$implicit=null,this.ngIf=null});function hA(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(Ce(t),"'."))}function Kr(e,t){return Error("InvalidPipeArgument: '".concat(t,"' for pipe '").concat(Ce(e),"'"))}var qm=function(){var e=function(){function t(n){m(this,t),this.locale=n}return g(t,[{key:"transform",value:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mediumDate",a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;if(null==r||""===r||r!=r)return null;try{return v6(r,i,s||this.locale,a)}catch(o){throw Kr(t,o.message)}}}]),t}();return e.\u0275fac=function(n){return new(n||e)(N(pa,16))},e.\u0275pipe=gn({name:"date",type:e,pure:!0}),e}();function sq(e,t){return{key:e,value:t}}var pA=function(){var e=function(){function t(n){m(this,t),this.differs=n,this.keyValues=[],this.compareFn=vA}return g(t,[{key:"transform",value:function(r){var i=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vA;if(!r||!(r instanceof Map)&&"object"!=typeof r)return null;this.differ||(this.differ=this.differs.find(r).create());var s=this.differ.diff(r),o=a!==this.compareFn;return s&&(this.keyValues=[],s.forEachItem(function(u){i.keyValues.push(sq(u.key,u.currentValue))})),(s||o)&&(this.keyValues.sort(a),this.compareFn=a),this.keyValues}}]),t}();return e.\u0275fac=function(n){return new(n||e)(N(Ao,16))},e.\u0275pipe=gn({name:"keyvalue",type:e,pure:!1}),e}();function vA(e,t){var n=e.key,r=t.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;var i=String(n),a=String(r);return i==a?0:i<a?-1:1}var Vh,fq=function(){var e=g(function t(){m(this,t)});return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Si({type:e}),e.\u0275inj=Mr({providers:[{provide:Lh,useClass:x6}]}),e}(),gq=g(function e(){m(this,e)}),yq=function(e){D(n,e);var t=S(n);function n(){return m(this,n),t.apply(this,arguments)}return g(n,[{key:"onAndCancel",value:function(i,a,s){return i.addEventListener(a,s,!1),function(){i.removeEventListener(a,s,!1)}}},{key:"dispatchEvent",value:function(i,a){i.dispatchEvent(a)}},{key:"remove",value:function(i){i.parentNode&&i.parentNode.removeChild(i)}},{key:"createElement",value:function(i,a){return(a=a||this.getDefaultDocument()).createElement(i)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(i){return i.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(i){return i instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(i,a){return"window"===a?window:"document"===a?i:"body"===a?i.body:null}},{key:"getBaseHref",value:function(i){var a=(Ll=Ll||document.querySelector("base"))?Ll.getAttribute("href"):null;return null==a?null:function(e){(Vh=Vh||document.createElement("a")).setAttribute("href",e);var t=Vh.pathname;return"/"===t.charAt(0)?t:"/".concat(t)}(a)}},{key:"resetBaseElement",value:function(){Ll=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"getCookie",value:function(i){return function(e,t){t=encodeURIComponent(t);var r,n=W(e.split(";"));try{for(n.s();!(r=n.n()).done;){var i=r.value,a=i.indexOf("="),o=Ge(-1==a?[i,""]:[i.slice(0,a),i.slice(a+1)],2),l=o[1];if(o[0].trim()===t)return decodeURIComponent(l)}}catch(c){n.e(c)}finally{n.f()}return null}(document.cookie,i)}}],[{key:"makeCurrent",value:function(){!function(e){Dh||(Dh=e)}(new n)}}]),n}(function(e){D(n,e);var t=S(n);function n(){var r;return m(this,n),(r=t.apply(this,arguments)).supportsDOMEvents=!0,r}return g(n)}(J5)),Ll=null,mA=new Me("TRANSITION_ID"),bq=[{provide:mh,useFactory:function(e,t,n){return function(){n.get(Fo).donePromise.then(function(){for(var r=ys(),i=t.querySelectorAll('style[ng-transition="'.concat(e,'"]')),a=0;a<i.length;a++)r.remove(i[a])})}},deps:[mA,un,bt],multi:!0}],Cq=function(){function e(){m(this,e)}return g(e,[{key:"addToWindow",value:function(n){qe.getAngularTestability=function(i){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=n.findTestabilityInTree(i,a);if(null==s)throw new Error("Could not find testability for element.");return s},qe.getAllAngularTestabilities=function(){return n.getAllTestabilities()},qe.getAllAngularRootElements=function(){return n.getAllRootElements()},qe.frameworkStabilizers||(qe.frameworkStabilizers=[]),qe.frameworkStabilizers.push(function(a){var s=qe.getAllAngularTestabilities(),o=s.length,u=!1,l=function(f){u=u||f,0==--o&&a(u)};s.forEach(function(c){c.whenStable(l)})})}},{key:"findTestabilityInTree",value:function(n,r,i){if(null==r)return null;var a=n.getTestability(r);return null!=a?a:i?ys().isShadowRoot(r)?this.findTestabilityInTree(n,r.host,!0):this.findTestabilityInTree(n,r.parentElement,!0):null}}],[{key:"init",value:function(){!function(e){gm=e}(new e)}}]),e}(),Eq=function(){var e=function(){function t(){m(this,t)}return g(t,[{key:"build",value:function(){return new XMLHttpRequest}}]),t}();return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Re({token:e,factory:e.\u0275fac}),e}(),Vl=new Me("EventManagerPlugins"),Bh=function(){var e=function(){function t(n,r){var i=this;m(this,t),this._zone=r,this._eventNameToPlugin=new Map,n.forEach(function(a){return a.manager=i}),this._plugins=n.slice().reverse()}return g(t,[{key:"addEventListener",value:function(r,i,a){return this._findPluginFor(i).addEventListener(r,i,a)}},{key:"addGlobalEventListener",value:function(r,i,a){return this._findPluginFor(i).addGlobalEventListener(r,i,a)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(r){var i=this._eventNameToPlugin.get(r);if(i)return i;for(var a=this._plugins,s=0;s<a.length;s++){var o=a[s];if(o.supports(r))return this._eventNameToPlugin.set(r,o),o}throw new Error("No event manager plugin found for event ".concat(r))}}]),t}();return e.\u0275fac=function(n){return new(n||e)(me(Vl),me(Cn))},e.\u0275prov=Re({token:e,factory:e.\u0275fac}),e}(),zm=function(){function e(t){m(this,e),this._doc=t}return g(e,[{key:"addGlobalEventListener",value:function(n,r,i){var a=ys().getGlobalEventTarget(this._doc,n);if(!a)throw new Error("Unsupported event target ".concat(a," for event ").concat(r));return this.addEventListener(a,r,i)}}]),e}(),_A=function(){var e=function(){function t(){m(this,t),this._stylesSet=new Set}return g(t,[{key:"addStyles",value:function(r){var i=this,a=new Set;r.forEach(function(s){i._stylesSet.has(s)||(i._stylesSet.add(s),a.add(s))}),this.onStylesAdded(a)}},{key:"onStylesAdded",value:function(r){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}();return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Re({token:e,factory:e.\u0275fac}),e}(),Ul=function(){var e=function(t){D(r,t);var n=S(r);function r(i){var a;return m(this,r),(a=n.call(this))._doc=i,a._hostNodes=new Map,a._hostNodes.set(i.head,[]),a}return g(r,[{key:"_addStylesToHost",value:function(a,s,o){var u=this;a.forEach(function(l){var c=u._doc.createElement("style");c.textContent=l,o.push(s.appendChild(c))})}},{key:"addHost",value:function(a){var s=[];this._addStylesToHost(this._stylesSet,a,s),this._hostNodes.set(a,s)}},{key:"removeHost",value:function(a){var s=this._hostNodes.get(a);s&&s.forEach(kA),this._hostNodes.delete(a)}},{key:"onStylesAdded",value:function(a){var s=this;this._hostNodes.forEach(function(o,u){s._addStylesToHost(a,u,o)})}},{key:"ngOnDestroy",value:function(){this._hostNodes.forEach(function(a){return a.forEach(kA)})}}]),r}(_A);return e.\u0275fac=function(n){return new(n||e)(me(un))},e.\u0275prov=Re({token:e,factory:e.\u0275fac}),e}();function kA(e){ys().remove(e)}var Km={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Qm=/%COMP%/g,Fq="_nghost-".concat("%COMP%"),xq="_ngcontent-".concat("%COMP%");function jh(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?jh(e,i,n):(i=i.replace(Qm,e),n.push(i))}return n}function CA(e){return function(t){if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var Ym=function(){var e=function(){function t(n,r,i){m(this,t),this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Jm(n)}return g(t,[{key:"createRenderer",value:function(r,i){if(!r||!i)return this.defaultRenderer;switch(i.encapsulation){case ti.Emulated:var a=this.rendererByCompId.get(i.id);return a||(a=new jq(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,a)),a.applyToHost(r),a;case 1:case ti.ShadowDom:return new Hq(this.eventManager,this.sharedStylesHost,r,i);default:if(!this.rendererByCompId.has(i.id)){var s=jh(i.id,i.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}();return e.\u0275fac=function(n){return new(n||e)(me(Bh),me(Ul),me(Sl))},e.\u0275prov=Re({token:e,factory:e.\u0275fac}),e}(),Jm=function(){function e(t){m(this,e),this.eventManager=t,this.data=Object.create(null)}return g(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(n,r){return r?document.createElementNS(Km[r]||r,n):document.createElement(n)}},{key:"createComment",value:function(n){return document.createComment(n)}},{key:"createText",value:function(n){return document.createTextNode(n)}},{key:"appendChild",value:function(n,r){n.appendChild(r)}},{key:"insertBefore",value:function(n,r,i){n&&n.insertBefore(r,i)}},{key:"removeChild",value:function(n,r){n&&n.removeChild(r)}},{key:"selectRootElement",value:function(n,r){var i="string"==typeof n?document.querySelector(n):n;if(!i)throw new Error('The selector "'.concat(n,'" did not match any elements'));return r||(i.textContent=""),i}},{key:"parentNode",value:function(n){return n.parentNode}},{key:"nextSibling",value:function(n){return n.nextSibling}},{key:"setAttribute",value:function(n,r,i,a){if(a){r=a+":"+r;var s=Km[a];s?n.setAttributeNS(s,r,i):n.setAttribute(r,i)}else n.setAttribute(r,i)}},{key:"removeAttribute",value:function(n,r,i){if(i){var a=Km[i];a?n.removeAttributeNS(a,r):n.removeAttribute("".concat(i,":").concat(r))}else n.removeAttribute(r)}},{key:"addClass",value:function(n,r){n.classList.add(r)}},{key:"removeClass",value:function(n,r){n.classList.remove(r)}},{key:"setStyle",value:function(n,r,i,a){a&(io.DashCase|io.Important)?n.style.setProperty(r,i,a&io.Important?"important":""):n.style[r]=i}},{key:"removeStyle",value:function(n,r,i){i&io.DashCase?n.style.removeProperty(r):n.style[r]=""}},{key:"setProperty",value:function(n,r,i){n[r]=i}},{key:"setValue",value:function(n,r){n.nodeValue=r}},{key:"listen",value:function(n,r,i){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,r,CA(i)):this.eventManager.addEventListener(n,r,CA(i))}}]),e}(),jq=function(e){D(n,e);var t=S(n);function n(r,i,a,s){var o;m(this,n),(o=t.call(this,r)).component=a;var u=jh(s+"-"+a.id,a.styles,[]);return i.addStyles(u),o.contentAttr=function(e){return xq.replace(Qm,e)}(s+"-"+a.id),o.hostAttr=function(e){return Fq.replace(Qm,e)}(s+"-"+a.id),o}return g(n,[{key:"applyToHost",value:function(i){ue(oe(n.prototype),"setAttribute",this).call(this,i,this.hostAttr,"")}},{key:"createElement",value:function(i,a){var s=ue(oe(n.prototype),"createElement",this).call(this,i,a);return ue(oe(n.prototype),"setAttribute",this).call(this,s,this.contentAttr,""),s}}]),n}(Jm),Hq=function(e){D(n,e);var t=S(n);function n(r,i,a,s){var o;m(this,n),(o=t.call(this,r)).sharedStylesHost=i,o.hostEl=a,o.shadowRoot=a.attachShadow({mode:"open"}),o.sharedStylesHost.addHost(o.shadowRoot);for(var u=jh(s.id,s.styles,[]),l=0;l<u.length;l++){var c=document.createElement("style");c.textContent=u[l],o.shadowRoot.appendChild(c)}return o}return g(n,[{key:"nodeOrShadowRoot",value:function(i){return i===this.hostEl?this.shadowRoot:i}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(i,a){return ue(oe(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(i),a)}},{key:"insertBefore",value:function(i,a,s){return ue(oe(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(i),a,s)}},{key:"removeChild",value:function(i,a){return ue(oe(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(i),a)}},{key:"parentNode",value:function(i){return this.nodeOrShadowRoot(ue(oe(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(i)))}}]),n}(Jm),Gq=function(){var e=function(t){D(r,t);var n=S(r);function r(i){return m(this,r),n.call(this,i)}return g(r,[{key:"supports",value:function(a){return!0}},{key:"addEventListener",value:function(a,s,o){var u=this;return a.addEventListener(s,o,!1),function(){return u.removeEventListener(a,s,o)}}},{key:"removeEventListener",value:function(a,s,o){return a.removeEventListener(s,o)}}]),r}(zm);return e.\u0275fac=function(n){return new(n||e)(me(un))},e.\u0275prov=Re({token:e,factory:e.\u0275fac}),e}(),TA=["alt","control","meta","shift"],Yq={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},DA={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},t8={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},n8=function(){var e=function(t){D(r,t);var n=S(r);function r(i){return m(this,r),n.call(this,i)}return g(r,[{key:"supports",value:function(a){return null!=r.parseEventName(a)}},{key:"addEventListener",value:function(a,s,o){var u=r.parseEventName(s),l=r.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return ys().onAndCancel(a,u.domEventName,l)})}}],[{key:"parseEventName",value:function(a){var s=a.toLowerCase().split("."),o=s.shift();if(0===s.length||"keydown"!==o&&"keyup"!==o)return null;var u=r._normalizeKey(s.pop()),l="";if(TA.forEach(function(f){var h=s.indexOf(f);h>-1&&(s.splice(h,1),l+=f+".")}),l+=u,0!=s.length||0===u.length)return null;var c={};return c.domEventName=o,c.fullKey=l,c}},{key:"getEventFullKey",value:function(a){var s="",o=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&DA.hasOwnProperty(t)&&(t=DA[t]))}return Yq[t]||t}(a);return" "===(o=o.toLowerCase())?o="space":"."===o&&(o="dot"),TA.forEach(function(u){u!=o&&(0,t8[u])(a)&&(s+=u+".")}),s+=o}},{key:"eventCallback",value:function(a,s,o){return function(u){r.getEventFullKey(u)===a&&o.runGuarded(function(){return s(u)})}}},{key:"_normalizeKey",value:function(a){switch(a){case"esc":return"escape";default:return a}}}]),r}(zm);return e.\u0275fac=function(n){return new(n||e)(me(un))},e.\u0275prov=Re({token:e,factory:e.\u0275fac}),e}(),h8=DS(K7,"browser",[{provide:yh,useValue:"browser"},{provide:mS,useValue:function(){yq.makeCurrent(),Cq.init()},multi:!0},{provide:un,useFactory:function(){return e=document,nv=e,document;var e},deps:[]}]),d8=[[],{provide:rl,useValue:"root"},{provide:os,useFactory:function(){return new os},deps:[]},{provide:Vl,useClass:Gq,multi:!0,deps:[un,Cn,yh]},{provide:Vl,useClass:n8,multi:!0,deps:[un]},[],{provide:Ym,useClass:Ym,deps:[Bh,Ul,Sl]},{provide:sh,useExisting:Ym},{provide:_A,useExisting:Ul},{provide:Ul,useClass:Ul,deps:[un]},{provide:vm,useClass:vm,deps:[Cn]},{provide:Bh,useClass:Bh,deps:[Vl,Cn]},{provide:gq,useClass:Eq,deps:[]},[]],p8=function(){var e=function(){function t(n){if(m(this,t),n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return g(t,null,[{key:"withServerTransition",value:function(r){return{ngModule:t,providers:[{provide:Sl,useValue:r.appId},{provide:mA,useExisting:Sl},bq]}}}]),t}();return e.\u0275fac=function(n){return new(n||e)(me(e,12))},e.\u0275mod=Si({type:e}),e.\u0275inj=Mr({providers:d8,imports:[fq,n5]}),e}();"undefined"!=typeof window&&window;var AA=new Me("LocalStorageToken"),b8=[{provide:AA,useFactory:function(e){return function(e){return"browser"===e}(e)?localStorage:{length:0,clear:function(){},getItem:function(){return null},key:function(){return null},removeItem:function(){},setItem:function(){}}},deps:[yh]}],RA=function(e){D(n,e);var t=S(n);function n(r,i){var a;return m(this,n),(a=t.call(this,r,i)).scheduler=r,a.work=i,a.pending=!1,a}return g(n,[{key:"schedule",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=i;var s=this.id,o=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(o,s,a)),this.pending=!0,this.delay=a,this.id=this.id||this.requestAsyncId(o,this.id,a),this}},{key:"requestAsyncId",value:function(i,a){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(i.flush.bind(i,this),s)}},{key:"recycleAsyncId",value:function(i,a){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==s&&this.delay===s&&!1===this.pending)return a;clearInterval(a)}},{key:"execute",value:function(i,a){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var s=this._execute(i,a);if(s)return s;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(i,a){var s=!1,o=void 0;try{this.work(i)}catch(u){s=!0,o=!!u&&u||new Error(u)}if(s)return this.unsubscribe(),o}},{key:"_unsubscribe",value:function(){var i=this.id,a=this.scheduler,s=a.actions,o=s.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==o&&s.splice(o,1),null!=i&&(this.id=this.recycleAsyncId(a,i,null)),this.delay=null}}]),n}(function(e){D(n,e);var t=S(n);function n(r,i){return m(this,n),t.call(this)}return g(n,[{key:"schedule",value:function(i){return this}}]),n}(Q)),E8=function(e){D(n,e);var t=S(n);function n(r,i){var a;return m(this,n),(a=t.call(this,r,i)).scheduler=r,a.work=i,a}return g(n,[{key:"schedule",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return a>0?ue(oe(n.prototype),"schedule",this).call(this,i,a):(this.delay=a,this.state=i,this.scheduler.flush(this),this)}},{key:"execute",value:function(i,a){return a>0||this.closed?ue(oe(n.prototype),"execute",this).call(this,i,a):this._execute(i,a)}},{key:"requestAsyncId",value:function(i,a){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==s&&s>0||null===s&&this.delay>0?ue(oe(n.prototype),"requestAsyncId",this).call(this,i,a,s):i.flush(this)}}]),n}(RA),NA=function(){var e=function(){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;m(this,t),this.SchedulerAction=n,this.now=r}return g(t,[{key:"schedule",value:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,r).schedule(a,i)}}]),t}();return e.now=function(){return Date.now()},e}(),MA=function(e){D(n,e);var t=S(n);function n(r){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NA.now;return m(this,n),(i=t.call(this,r,function(){return n.delegate&&n.delegate!==lt(i)?n.delegate.now():a()})).actions=[],i.active=!1,i.scheduled=void 0,i}return g(n,[{key:"schedule",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(i,a,s):ue(oe(n.prototype),"schedule",this).call(this,i,a,s)}},{key:"flush",value:function(i){var a=this.actions;if(this.active)a.push(i);else{var s;this.active=!0;do{if(s=i.execute(i.state,i.delay))break}while(i=a.shift());if(this.active=!1,s){for(;i=a.shift();)i.unsubscribe();throw s}}}}]),n}(NA),T8=new(function(e){D(n,e);var t=S(n);function n(){return m(this,n),t.apply(this,arguments)}return g(n)}(MA))(E8),D8=new at(function(e){return e.complete()});function PA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];return Ls(r)?(t.pop(),Qa(t,r)):FC(t)}var ny=function(){var e=function(){function t(n,r,i){m(this,t),this.kind=n,this.value=r,this.error=i,this.hasValue="N"===n}return g(t,[{key:"observe",value:function(r){switch(this.kind){case"N":return r.next&&r.next(this.value);case"E":return r.error&&r.error(this.error);case"C":return r.complete&&r.complete()}}},{key:"do",value:function(r,i,a){switch(this.kind){case"N":return r&&r(this.value);case"E":return i&&i(this.error);case"C":return a&&a()}}},{key:"accept",value:function(r,i,a){return r&&"function"==typeof r.next?this.observe(r):this.do(r,i,a)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return PA(this.value);case"E":return function(e,t){return new at(function(n){return n.error(e)})}(this.error);case"C":return function(e){return e?function(e){return new at(function(t){return e.schedule(function(){return t.complete()})})}(e):D8}()}throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(r){return void 0!==r?new t("N",r):t.undefinedValueNotification}},{key:"createError",value:function(r){return new t("E",void 0,r)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}();return e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}(),P8=function(e){D(n,e);var t=S(n);function n(r,i){var a,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return m(this,n),(a=t.call(this,r)).scheduler=i,a.delay=s,a}return g(n,[{key:"scheduleMessage",value:function(i){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new O8(i,this.destination)))}},{key:"_next",value:function(i){this.scheduleMessage(ny.createNext(i))}},{key:"_error",value:function(i){this.scheduleMessage(ny.createError(i)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(ny.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(i){i.notification.observe(i.destination),this.unsubscribe()}}]),n}(kt),O8=g(function e(t,n){m(this,e),this.notification=t,this.destination=n}),F8=function(e){D(n,e);var t=S(n);function n(){var r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,s=arguments.length>2?arguments[2]:void 0;return m(this,n),(r=t.call(this)).scheduler=s,r._events=[],r._infiniteTimeWindow=!1,r._bufferSize=i<1?1:i,r._windowTime=a<1?1:a,a===Number.POSITIVE_INFINITY?(r._infiniteTimeWindow=!0,r.next=r.nextInfiniteTimeWindow):r.next=r.nextTimeWindow,r}return g(n,[{key:"nextInfiniteTimeWindow",value:function(i){var a=this._events;a.push(i),a.length>this._bufferSize&&a.shift(),ue(oe(n.prototype),"next",this).call(this,i)}},{key:"nextTimeWindow",value:function(i){this._events.push(new x8(this._getNow(),i)),this._trimBufferThenGetEvents(),ue(oe(n.prototype),"next",this).call(this,i)}},{key:"_subscribe",value:function(i){var l,a=this._infiniteTimeWindow,s=a?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,u=s.length;if(this.closed)throw new Zi;if(this.isStopped||this.hasError?l=Q.EMPTY:(this.observers.push(i),l=new $a(this,i)),o&&i.add(i=new P8(i,o)),a)for(var c=0;c<u&&!i.closed;c++)i.next(s[c]);else for(var f=0;f<u&&!i.closed;f++)i.next(s[f].value);return this.hasError?i.error(this.thrownError):this.isStopped&&i.complete(),l}},{key:"_getNow",value:function(){return(this.scheduler||T8).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var i=this._getNow(),a=this._bufferSize,s=this._windowTime,o=this._events,u=o.length,l=0;l<u&&!(i-o[l].time<s);)l++;return u>a&&(l=Math.max(l,u-a)),l>0&&o.splice(0,l),o}}]),n}(Wa),x8=g(function e(t,n){m(this,e),this.time=t,this.value=n});function ry(e,t){return"function"==typeof t?function(n){return n.pipe(ry(function(r,i){return Ru(e(r,i)).pipe(x(function(a,s){return t(r,a,i,s)}))}))}:function(n){return n.lift(new L8(e))}}var iy,L8=function(){function e(t){m(this,e),this.project=t}return g(e,[{key:"call",value:function(n,r){return r.subscribe(new V8(n,this.project))}}]),e}(),V8=function(e){D(n,e);var t=S(n);function n(r,i){var a;return m(this,n),(a=t.call(this,r)).project=i,a.index=0,a}return g(n,[{key:"_next",value:function(i){var a,s=this.index++;try{a=this.project(i,s)}catch(o){return void this.destination.error(o)}this._innerSub(a,i,s)}},{key:"_innerSub",value:function(i,a,s){var o=this.innerSubscription;o&&o.unsubscribe();var u=new Du(this,a,s),l=this.destination;l.add(u),this.innerSubscription=Au(this,i,void 0,void 0,u),this.innerSubscription!==u&&l.add(this.innerSubscription)}},{key:"_complete",value:function(){var i=this.innerSubscription;(!i||i.closed)&&ue(oe(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(i){this.destination.remove(i),this.innerSubscription=null,this.isStopped&&ue(oe(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(i,a,s,o,u){this.destination.next(a)}}]),n}(T),Hh={schedule:function(t,n){var r=setTimeout(t,n);return function(){return clearTimeout(r)}},scheduleBeforeRender:function(t){if("undefined"==typeof window)return Hh.schedule(t,0);if(void 0===window.requestAnimationFrame)return Hh.schedule(t,16);var r=window.requestAnimationFrame(t);return function(){return window.cancelAnimationFrame(r)}}};function K8(e,t,n){var r=n;return function(e){return!!e&&e.nodeType===Node.ELEMENT_NODE}(e)&&t.some(function(i,a){return!("*"===i||!function(e,t){if(!iy){var n=Element.prototype;iy=n.matches||n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}return e.nodeType===Node.ELEMENT_NODE&&iy.call(e,t)}(e,i)||(r=a,0))}),r}var Y8=function(){function e(t,n){m(this,e),this.componentFactory=n.get(hs).resolveComponentFactory(t)}return g(e,[{key:"create",value:function(n){return new J8(this.componentFactory,n)}}]),e}(),J8=function(){function e(t,n){m(this,e),this.componentFactory=t,this.injector=n,this.eventEmitters=new F8(1),this.events=this.eventEmitters.pipe(ry(function(r){return xC.apply(void 0,ye(r))})),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(function(r){return r.propName})),this.ngZone=this.injector.get(Cn),this.elementZone="undefined"==typeof Zone?null:this.ngZone.run(function(){return Zone.current})}return g(e,[{key:"connect",value:function(n){var r=this;this.runInZone(function(){if(null!==r.scheduledDestroyFn)return r.scheduledDestroyFn(),void(r.scheduledDestroyFn=null);null===r.componentRef&&r.initializeComponent(n)})}},{key:"disconnect",value:function(){var n=this;this.runInZone(function(){null===n.componentRef||null!==n.scheduledDestroyFn||(n.scheduledDestroyFn=Hh.schedule(function(){null!==n.componentRef&&(n.componentRef.destroy(),n.componentRef=null,n.viewChangeDetectorRef=null)},10))})}},{key:"getInputValue",value:function(n){var r=this;return this.runInZone(function(){return null===r.componentRef?r.initialInputValues.get(n):r.componentRef.instance[n]})}},{key:"setInputValue",value:function(n,r){var i=this;this.runInZone(function(){null!==i.componentRef?function(e,t){return e===t||e!=e&&t!=t}(r,i.getInputValue(n))&&(void 0!==r||!i.unchangedInputs.has(n))||(i.recordInputChange(n,r),i.unchangedInputs.delete(n),i.hasInputChanges=!0,i.componentRef.instance[n]=r,i.scheduleDetectChanges()):i.initialInputValues.set(n,r)})}},{key:"initializeComponent",value:function(n){var r=bt.create({providers:[],parent:this.injector}),i=function(e,t){var n=e.childNodes,r=t.map(function(){return[]}),i=-1;t.some(function(l,c){return"*"===l&&(i=c,!0)});for(var a=0,s=n.length;a<s;++a){var o=n[a],u=K8(o,t,i);-1!==u&&r[u].push(o)}return r}(n,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(r,i,n),this.viewChangeDetectorRef=this.componentRef.injector.get(On),this.implementsOnChanges=function(e){return"function"==typeof e}(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(vi).attachView(this.componentRef.hostView)}},{key:"initializeInputs",value:function(){var n=this;this.componentFactory.inputs.forEach(function(r){var i=r.propName;n.initialInputValues.has(i)&&n.setInputValue(i,n.initialInputValues.get(i))}),this.initialInputValues.clear()}},{key:"initializeOutputs",value:function(n){var r=this.componentFactory.outputs.map(function(i){var s=i.templateName;return n.instance[i.propName].pipe(x(function(u){return{name:s,value:u}}))});this.eventEmitters.next(r)}},{key:"callNgOnChanges",value:function(n){if(this.implementsOnChanges&&null!==this.inputChanges){var r=this.inputChanges;this.inputChanges=null,n.instance.ngOnChanges(r)}}},{key:"markViewForCheck",value:function(n){this.hasInputChanges&&(this.hasInputChanges=!1,n.markForCheck())}},{key:"scheduleDetectChanges",value:function(){var n=this;this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=Hh.scheduleBeforeRender(function(){n.scheduledChangeDetectionFn=null,n.detectChanges()}))}},{key:"recordInputChange",value:function(n,r){if(this.implementsOnChanges){null===this.inputChanges&&(this.inputChanges={});var i=this.inputChanges[n];if(i)return void(i.currentValue=r);var a=this.unchangedInputs.has(n),s=a?void 0:this.getInputValue(n);this.inputChanges[n]=new ev(s,r,a)}}},{key:"detectChanges",value:function(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}},{key:"runInZone",value:function(n){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(n):n()}}]),e}(),X8=function(e){D(n,e);var t=S(n);function n(){var r;return m(this,n),(r=t.apply(this,arguments)).ngElementEventsSubscription=null,r}return g(n)}(pn(HTMLElement));function Z8(e,t){var n=function(e,t){return t.get(hs).resolveComponentFactory(e).inputs}(e,t.injector),r=t.strategyFactory||new Y8(e,t.injector),i=function(e){var t={};return e.forEach(function(n){var r=n.propName;t[function(e){return e.replace(/[A-Z]/g,function(t){return"-".concat(t.toLowerCase())})}(n.templateName)]=r}),t}(n),a=function(s){D(u,s);var o=S(u);function u(l){var c;return m(this,u),(c=o.call(this)).injector=l,c}return g(u,[{key:"ngElementStrategy",get:function(){var c=this;if(!this._ngElementStrategy){var f=this._ngElementStrategy=r.create(this.injector||t.injector);n.forEach(function(h){var d=h.propName;if(c.hasOwnProperty(d)){var p=c[d];delete c[d],f.setInputValue(d,p)}})}return this._ngElementStrategy}},{key:"attributeChangedCallback",value:function(c,f,h,d){this.ngElementStrategy.setInputValue(i[c],h)}},{key:"connectedCallback",value:function(){var c=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),c=!0),this.ngElementStrategy.connect(this),c||this.subscribeToEvents()}},{key:"disconnectedCallback",value:function(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}},{key:"subscribeToEvents",value:function(){var c=this;this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(function(f){var h=function(e,t,n){if("function"!=typeof CustomEvent){var a=e.createEvent("CustomEvent");return a.initCustomEvent(t,!1,!1,n),a}return new CustomEvent(t,{bubbles:!1,cancelable:!1,detail:n})}(c.ownerDocument,f.name,f.value);c.dispatchEvent(h)})}}]),u}(X8);return a.observedAttributes=Object.keys(i),n.forEach(function(s){var o=s.propName;Object.defineProperty(a.prototype,o,{get:function(){return this.ngElementStrategy.getInputValue(o)},set:function(l){this.ngElementStrategy.setInputValue(o,l)},configurable:!0,enumerable:!0})}),a}new vl("12.2.16");var Gh=function(){return(Gh=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++)for(var a in n=arguments[r])Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a]);return t}).apply(this,arguments)};function sy(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function Qr(e,t,n,r){var s,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(i<3?s(a):i>3?s(t,n,a):s(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function xe(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function Le(e,t,n,r){return new(n||(n=Promise))(function(a,s){function o(c){try{l(r.next(c))}catch(f){s(f)}}function u(c){try{l(r.throw(c))}catch(f){s(f)}}function l(c){c.done?a(c.value):function(a){return a instanceof n?a:new n(function(s){s(a)})}(c.value).then(o,u)}l((r=r.apply(e,t||[])).next())})}function Ve(e,t){var r,i,a,s,n={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(l){return function(c){return function(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(a=2&l[0]?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(!(a=(a=n.trys).length>0&&a[a.length-1])&&(6===l[0]||2===l[0])){n=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){n.label=l[1];break}if(6===l[0]&&n.label<a[1]){n.label=a[1],a=l;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(l);break}a[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(c){l=[6,c],i=0}finally{r=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}}function t$(e,t,n){if(n||2===arguments.length)for(var a,r=0,i=t.length;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function xA(e,t,n,r,i,a,s){try{var o=e[a](s),u=o.value}catch(l){return void n(l)}o.done?t(u):Promise.resolve(u).then(r,i)}function b(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function s(u){xA(a,r,i,s,o,"next",u)}function o(u){xA(a,r,i,s,o,"throw",u)}s(void 0)})}}var L=Xe(8774),_=Xe.n(L),LA=function(t){for(var n=[],r=0,i=0;i<t.length;i++){var a=t.charCodeAt(i);a<128?n[r++]=a:a<2048?(n[r++]=a>>6|192,n[r++]=63&a|128):55296==(64512&a)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(a=65536+((1023&a)<<10)+(1023&t.charCodeAt(++i)),n[r++]=a>>18|240,n[r++]=a>>12&63|128,n[r++]=a>>6&63|128,n[r++]=63&a|128):(n[r++]=a>>12|224,n[r++]=a>>6&63|128,n[r++]=63&a|128)}return n},uy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,n){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var r=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],a=0;a<t.length;a+=3){var s=t[a],o=a+1<t.length,u=o?t[a+1]:0,l=a+2<t.length,c=l?t[a+2]:0,d=(15&u)<<2|c>>6,p=63&c;l||(p=64,o||(d=64)),i.push(r[s>>2],r[(3&s)<<4|u>>4],r[d],r[p])}return i.join("")},encodeString:function(t,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(t):this.encodeByteArray(LA(t),n)},decodeString:function(t,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(t):function(t){for(var n=[],r=0,i=0;r<t.length;){var a=t[r++];if(a<128)n[i++]=String.fromCharCode(a);else if(a>191&&a<224){var s=t[r++];n[i++]=String.fromCharCode((31&a)<<6|63&s)}else if(a>239&&a<365){var c=((7&a)<<18|(63&t[r++])<<12|(63&t[r++])<<6|63&t[r++])-65536;n[i++]=String.fromCharCode(55296+(c>>10)),n[i++]=String.fromCharCode(56320+(1023&c))}else{var f=t[r++],h=t[r++];n[i++]=String.fromCharCode((15&a)<<12|(63&f)<<6|63&h)}}return n.join("")}(this.decodeStringToByteArray(t,n))},decodeStringToByteArray:function(t,n){this.init_();for(var r=n?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],a=0;a<t.length;){var s=r[t.charAt(a++)],u=a<t.length?r[t.charAt(a)]:0,c=++a<t.length?r[t.charAt(a)]:64,h=++a<t.length?r[t.charAt(a)]:64;if(++a,null==s||null==u||null==c||null==h)throw Error();i.push(s<<2|u>>4),64!==c&&(i.push(u<<4&240|c>>2),64!==h&&i.push(c<<6&192|h))}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},$h=function(t){return function(t){var n=LA(t);return uy.encodeByteArray(n,!0)}(t).replace(/\./g,"")},Bl=function(){function e(){var t=this;m(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return g(e,[{key:"wrapCallback",value:function(n){var r=this;return function(i,a){i?r.reject(i):r.resolve(a),"function"==typeof n&&(r.promise.catch(function(){}),1===n.length?n(i):n(i,a))}}}]),e}();function jt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function UA(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jt())}function cy(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function BA(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function jA(){var e=jt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Wh(){return"object"==typeof indexedDB}function HA(){return new Promise(function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var a;t((null===(a=i.error)||void 0===a?void 0:a.message)||"")}}catch(a){t(a)}})}var ma=function(e){D(n,e);var t=S(n);function n(r,i,a){var s;return m(this,n),(s=t.call(this,i)).code=r,s.customData=a,s.name="FirebaseError",Object.setPrototypeOf(lt(s),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(lt(s),ya.prototype.create),s}return g(n)}(pn(Error)),ya=function(){function e(t,n,r){m(this,e),this.service=t,this.serviceName=n,this.errors=r}return g(e,[{key:"create",value:function(n){var r=(arguments.length<=1?void 0:arguments[1])||{},i="".concat(this.service,"/").concat(n),a=this.errors[n],s=a?p$(a,r):"Error",o="".concat(this.serviceName,": ").concat(s," (").concat(i,")."),u=new ma(i,o,r);return u}}]),e}();function p$(e,t){return e.replace(v$,function(n,r){var i=t[r];return null!=i?String(i):"<".concat(r,"?>")})}var v$=/\{\$([^}]+)}/g;function jl(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var s=a[i];if(!r.includes(s))return!1;var o=e[s],u=t[s];if(qA(o)&&qA(u)){if(!jl(o,u))return!1}else if(o!==u)return!1}for(var l=0,c=r;l<c.length;l++)if(!n.includes(c[l]))return!1;return!0}function qA(e){return null!==e&&"object"==typeof e}function Hl(e){for(var t=[],n=function(){var s=Ge(i[r],2),o=s[0],u=s[1];Array.isArray(u)?u.forEach(function(l){t.push(encodeURIComponent(o)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(o)+"="+encodeURIComponent(u))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Gl(e){var t={};return e.replace(/^\?/,"").split("&").forEach(function(r){if(r){var a=Ge(r.split("="),2),o=a[1];t[decodeURIComponent(a[0])]=decodeURIComponent(o)}}),t}function ql(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var y$=function(){function e(t,n){var r=this;m(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(i){r.error(i)})}return g(e,[{key:"next",value:function(n){this.forEachObserver(function(r){r.next(n)})}},{key:"error",value:function(n){this.forEachObserver(function(r){r.error(n)}),this.close(n)}},{key:"complete",value:function(){this.forEachObserver(function(n){n.complete()}),this.close()}},{key:"subscribe",value:function(n,r,i){var s,a=this;if(void 0===n&&void 0===r&&void 0===i)throw new Error("Missing Observer.");void 0===(s=function(e,t){if("object"!=typeof e||null===e)return!1;var r,n=W(["next","error","complete"]);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(i in e&&"function"==typeof e[i])return!0}}catch(a){n.e(a)}finally{n.f()}return!1}(n)?n:{next:n,error:r,complete:i}).next&&(s.next=fy),void 0===s.error&&(s.error=fy),void 0===s.complete&&(s.complete=fy);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{a.finalError?s.error(a.finalError):s.complete()}catch(u){}}),this.observers.push(s),o}},{key:"unsubscribeOne",value:function(n){void 0===this.observers||void 0===this.observers[n]||(delete this.observers[n],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(n){if(!this.finalized)for(var r=0;r<this.observers.length;r++)this.sendOne(r,n)}},{key:"sendOne",value:function(n,r){var i=this;this.task.then(function(){if(void 0!==i.observers&&void 0!==i.observers[n])try{r(i.observers[n])}catch(a){"undefined"!=typeof console&&console.error&&console.error(a)}})}},{key:"close",value:function(n){var r=this;this.finalized||(this.finalized=!0,void 0!==n&&(this.finalError=n),this.task.then(function(){r.observers=void 0,r.onNoObservers=void 0}))}}]),e}();function fy(){}function dy(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function Ot(e){return e&&e._delegate?e._delegate:e}function $l(e,t){return new Promise(function(n,r){e.onsuccess=function(i){n(i.target.result)},e.onerror=function(i){var a;r("".concat(t,": ").concat(null===(a=i.target.error)||void 0===a?void 0:a.message))}})}var $A=function(){function e(t){m(this,e),this._db=t,this.objectStoreNames=this._db.objectStoreNames}return g(e,[{key:"transaction",value:function(n,r){return new WA(this._db.transaction.call(this._db,n,r))}},{key:"createObjectStore",value:function(n,r){return new zA(this._db.createObjectStore(n,r))}},{key:"close",value:function(){this._db.close()}}]),e}(),WA=function(){function e(t){var n=this;m(this,e),this._transaction=t,this.complete=new Promise(function(r,i){n._transaction.oncomplete=function(){r()},n._transaction.onerror=function(){i(n._transaction.error)},n._transaction.onabort=function(){i(n._transaction.error)}})}return g(e,[{key:"objectStore",value:function(n){return new zA(this._transaction.objectStore(n))}}]),e}(),zA=function(){function e(t){m(this,e),this._store=t}return g(e,[{key:"index",value:function(n){return new KA(this._store.index(n))}},{key:"createIndex",value:function(n,r,i){return new KA(this._store.createIndex(n,r,i))}},{key:"get",value:function(n){return $l(this._store.get(n),"Error reading from IndexedDB")}},{key:"put",value:function(n,r){return $l(this._store.put(n,r),"Error writing to IndexedDB")}},{key:"delete",value:function(n){return $l(this._store.delete(n),"Error deleting from IndexedDB")}},{key:"clear",value:function(){return $l(this._store.clear(),"Error clearing IndexedDB object store")}}]),e}(),KA=function(){function e(t){m(this,e),this._index=t}return g(e,[{key:"get",value:function(n){return $l(this._index.get(n),"Error reading from IndexedDB")}}]),e}();function QA(e,t,n){return new Promise(function(r,i){try{var a=indexedDB.open(e,t);a.onsuccess=function(s){r(new $A(s.target.result))},a.onerror=function(s){var o;i("Error opening indexedDB: ".concat(null===(o=s.target.error)||void 0===o?void 0:o.message))},a.onupgradeneeded=function(s){n(new $A(a.result),s.oldVersion,s.newVersion,new WA(a.transaction))}}catch(s){i("Error opening indexedDB: ".concat(s.message))}})}var xn=function(){function e(t,n,r){m(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return g(e,[{key:"setInstantiationMode",value:function(n){return this.instantiationMode=n,this}},{key:"setMultipleInstances",value:function(n){return this.multipleInstances=n,this}},{key:"setServiceProps",value:function(n){return this.serviceProps=n,this}},{key:"setInstanceCreatedCallback",value:function(n){return this.onInstanceCreated=n,this}}]),e}(),_s="[DEFAULT]",I$=function(){function e(t,n){m(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return g(e,[{key:"get",value:function(n){var r=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(r)){var i=new Bl;if(this.instancesDeferred.set(r,i),this.isInitialized(r)||this.shouldAutoInitialize())try{var a=this.getOrInitializeService({instanceIdentifier:r});a&&i.resolve(a)}catch(s){}}return this.instancesDeferred.get(r).promise}},{key:"getImmediate",value:function(n){var r,i=this.normalizeInstanceIdentifier(null==n?void 0:n.identifier),a=null!==(r=null==n?void 0:n.optional)&&void 0!==r&&r;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(a)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(a)return null;throw s}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(n){if(n.name!==this.name)throw Error("Mismatching Component ".concat(n.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=n,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(n))try{this.getOrInitializeService({instanceIdentifier:_s})}catch(c){}var i,r=W(this.instancesDeferred.entries());try{for(r.s();!(i=r.n()).done;){var a=Ge(i.value,2),o=a[1],u=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:u});o.resolve(l)}catch(c){}}}catch(c){r.e(c)}finally{r.f()}}}},{key:"clearInstance",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_s;this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}},{key:"delete",value:(t=b(L.mark(function r(){var i;return L.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return i=Array.from(this.instances.values()),s.next=3,Promise.all([].concat(ye(i.filter(function(o){return"INTERNAL"in o}).map(function(o){return o.INTERNAL.delete()})),ye(i.filter(function(o){return"_delete"in o}).map(function(o){return o._delete()}))));case 3:case"end":return s.stop()}},r,this)})),function(){return t.apply(this,arguments)})},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_s;return this.instances.has(n)}},{key:"getOptions",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_s;return this.instancesOptions.get(n)||{}}},{key:"initialize",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.options,i=void 0===r?{}:r,a=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(a))throw Error("".concat(this.name,"(").concat(a,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var u,s=this.getOrInitializeService({instanceIdentifier:a,options:i}),o=W(this.instancesDeferred.entries());try{for(o.s();!(u=o.n()).done;){var l=Ge(u.value,2),c=l[0],f=l[1],h=this.normalizeInstanceIdentifier(c);a===h&&f.resolve(s)}}catch(d){o.e(d)}finally{o.f()}return s}},{key:"onInit",value:function(n,r){var i,a=this.normalizeInstanceIdentifier(r),s=null!==(i=this.onInitCallbacks.get(a))&&void 0!==i?i:new Set;s.add(n),this.onInitCallbacks.set(a,s);var o=this.instances.get(a);return o&&n(o,a),function(){s.delete(n)}}},{key:"invokeOnInitCallbacks",value:function(n,r){var i=this.onInitCallbacks.get(r);if(i){var s,a=W(i);try{for(a.s();!(s=a.n()).done;){var o=s.value;try{o(n,r)}catch(u){}}}catch(u){a.e(u)}finally{a.f()}}}},{key:"getOrInitializeService",value:function(n){var r=n.instanceIdentifier,i=n.options,a=void 0===i?{}:i,s=this.instances.get(r);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:T$(r),options:a}),this.instances.set(r,s),this.instancesOptions.set(r,a),this.invokeOnInitCallbacks(s,r),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,r,s)}catch(o){}return s||null}},{key:"normalizeInstanceIdentifier",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_s;return this.component?this.component.multipleInstances?n:_s:n}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e;var t}();function T$(e){return e===_s?void 0:e}var ks,Ue,e,S$=function(){function e(t){m(this,e),this.name=t,this.providers=new Map}return g(e,[{key:"addComponent",value:function(n){var r=this.getProvider(n.name);if(r.isComponentSet())throw new Error("Component ".concat(n.name," has already been registered with ").concat(this.name));r.setComponent(n)}},{key:"addOrOverwriteComponent",value:function(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}},{key:"getProvider",value:function(n){if(this.providers.has(n))return this.providers.get(n);var r=new I$(n,this);return this.providers.set(n,r),r}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),vy=[];(e=Ue||(Ue={}))[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT";var Qe,kr,YA={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},A$=Ue.INFO,R$=(A(ks={},Ue.DEBUG,"log"),A(ks,Ue.VERBOSE,"log"),A(ks,Ue.INFO,"info"),A(ks,Ue.WARN,"warn"),A(ks,Ue.ERROR,"error"),ks),N$=function(t,n){if(!(n<t.logLevel)){var r=(new Date).toISOString(),i=R$[n];if(!i)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(n,")"));for(var a,s=arguments.length,o=new Array(s>2?s-2:0),u=2;u<s;u++)o[u-2]=arguments[u];(a=console)[i].apply(a,["[".concat(r,"]  ").concat(t.name,":")].concat(o))}},Wl=function(){function e(t){m(this,e),this.name=t,this._logLevel=A$,this._logHandler=N$,this._userLogHandler=null,vy.push(this)}return g(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(n){if(!(n in Ue))throw new TypeError('Invalid value "'.concat(n,'" assigned to `logLevel`'));this._logLevel=n}},{key:"setLogLevel",value:function(n){this._logLevel="string"==typeof n?YA[n]:n}},{key:"logHandler",get:function(){return this._logHandler},set:function(n){if("function"!=typeof n)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(n){this._userLogHandler=n}},{key:"debug",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ue.DEBUG].concat(r)),this._logHandler.apply(this,[this,Ue.DEBUG].concat(r))}},{key:"log",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ue.VERBOSE].concat(r)),this._logHandler.apply(this,[this,Ue.VERBOSE].concat(r))}},{key:"info",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ue.INFO].concat(r)),this._logHandler.apply(this,[this,Ue.INFO].concat(r))}},{key:"warn",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ue.WARN].concat(r)),this._logHandler.apply(this,[this,Ue.WARN].concat(r))}},{key:"error",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ue.ERROR].concat(r)),this._logHandler.apply(this,[this,Ue.ERROR].concat(r))}}]),e}(),M$=function(){function e(t){m(this,e),this.container=t}return g(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map(function(r){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(r)){var i=r.getImmediate();return"".concat(i.library,"/").concat(i.version)}return null}).filter(function(r){return r}).join(" ")}}]),e}(),gy="@firebase/app",my=new Wl("@firebase/app"),yy="[DEFAULT]",aW=(A(Qe={},gy,"fire-core"),A(Qe,"@firebase/app-compat","fire-core-compat"),A(Qe,"@firebase/analytics","fire-analytics"),A(Qe,"@firebase/analytics-compat","fire-analytics-compat"),A(Qe,"@firebase/app-check","fire-app-check"),A(Qe,"@firebase/app-check-compat","fire-app-check-compat"),A(Qe,"@firebase/auth","fire-auth"),A(Qe,"@firebase/auth-compat","fire-auth-compat"),A(Qe,"@firebase/database","fire-rtdb"),A(Qe,"@firebase/database-compat","fire-rtdb-compat"),A(Qe,"@firebase/functions","fire-fn"),A(Qe,"@firebase/functions-compat","fire-fn-compat"),A(Qe,"@firebase/installations","fire-iid"),A(Qe,"@firebase/installations-compat","fire-iid-compat"),A(Qe,"@firebase/messaging","fire-fcm"),A(Qe,"@firebase/messaging-compat","fire-fcm-compat"),A(Qe,"@firebase/performance","fire-perf"),A(Qe,"@firebase/performance-compat","fire-perf-compat"),A(Qe,"@firebase/remote-config","fire-rc"),A(Qe,"@firebase/remote-config-compat","fire-rc-compat"),A(Qe,"@firebase/storage","fire-gcs"),A(Qe,"@firebase/storage-compat","fire-gcs-compat"),A(Qe,"@firebase/firestore","fire-fst"),A(Qe,"@firebase/firestore-compat","fire-fst-compat"),A(Qe,"fire-js","fire-js"),A(Qe,"firebase","fire-js-all"),Qe),ws=new Map,Kh=new Map;function sW(e,t){try{e.container.addComponent(t)}catch(n){my.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Jn(e){var t=e.name;if(Kh.has(t))return my.debug("There were multiple attempts to register component ".concat(t,".")),!1;Kh.set(t,e);var r,n=W(ws.values());try{for(n.s();!(r=n.n()).done;)sW(r.value,e)}catch(a){n.e(a)}finally{n.f()}return!0}function Yr(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var oW=(A(kr={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),A(kr,"bad-app-name","Illegal App name: '{$appName}"),A(kr,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),A(kr,"app-deleted","Firebase App named '{$appName}' already deleted"),A(kr,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),A(kr,"invalid-log-argument","First argument to `onLog` must be null or a function."),A(kr,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),A(kr,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),A(kr,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),A(kr,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),kr),_a=new ya("app","Firebase",oW),uW=function(){function e(t,n,r){var i=this;m(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xn("app",function(){return i},"PUBLIC"))}return g(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(n){this._isDeleted=n}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw _a.create("app-deleted",{appName:this._name})}}]),e}(),zl="9.6.10";function Kl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yy,t=ws.get(e);if(!t)throw _a.create("no-app",{appName:e});return t}function Tn(e,t,n){var r,i=null!==(r=aW[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){var o=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&o.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&s&&o.push("and"),s&&o.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void my.warn(o.join(" "))}Jn(new xn("".concat(i,"-version"),function(){return{library:i,version:t}},"VERSION"))}var Ql="firebase-heartbeat-store",ky=null;function XA(){return ky||(ky=QA("firebase-heartbeat-database",1,function(e,t){switch(t){case 0:e.createObjectStore(Ql)}}).catch(function(e){throw _a.create("storage-open",{originalErrorMessage:e.message})})),ky}function hW(e){return wy.apply(this,arguments)}function wy(){return(wy=b(L.mark(function e(t){return L.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,XA();case 3:return i.abrupt("return",i.sent.transaction(Ql).objectStore(Ql).get(eR(t)));case 7:throw i.prev=7,i.t0=i.catch(0),_a.create("storage-get",{originalErrorMessage:i.t0.message});case 10:case"end":return i.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}function ZA(e,t){return by.apply(this,arguments)}function by(){return(by=b(L.mark(function e(t,n){var i,a;return L.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,XA();case 3:return i=o.sent.transaction(Ql,"readwrite"),a=i.objectStore(Ql),o.next=8,a.put(n,eR(t));case 8:return o.abrupt("return",i.complete);case 11:throw o.prev=11,o.t0=o.catch(0),_a.create("storage-set",{originalErrorMessage:o.t0.message});case 14:case"end":return o.stop()}},e,null,[[0,11]])}))).apply(this,arguments)}function eR(e){return"".concat(e.name,"!").concat(e.options.appId)}var vW=function(){function e(t){var n=this;m(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new mW(r),this._heartbeatsCachePromise=this._storage.read().then(function(i){return n._heartbeatsCache=i,i})}return g(e,[{key:"triggerHeartbeat",value:(t=b(L.mark(function r(){var i,a,s;return L.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=this.container.getProvider("platform-logger").getImmediate(),a=i.getPlatformInfoString(),s=tR(),null!==this._heartbeatsCache){u.next=7;break}return u.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=u.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==s&&!this._heartbeatsCache.heartbeats.some(function(l){return l.date===s})){u.next=11;break}return u.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:s,agent:a});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(function(l){var c=new Date(l.date).valueOf();return Date.now()-c<=2592e6}),u.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return u.stop()}},r,this)})),function(){return t.apply(this,arguments)})},{key:"getHeartbeatsHeader",value:function(){var t=b(L.mark(function r(){var i,a,o,u;return L.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(null!==this._heartbeatsCache){c.next=3;break}return c.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){c.next=5;break}return c.abrupt("return","");case 5:if(i=tR(),a=gW(this._heartbeatsCache.heartbeats),o=a.unsentEntries,u=$h(JSON.stringify({version:2,heartbeats:a.heartbeatsToSend})),this._heartbeatsCache.lastSentHeartbeatDate=i,!(o.length>0)){c.next=15;break}return this._heartbeatsCache.heartbeats=o,c.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:c.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return c.abrupt("return",u);case 18:case"end":return c.stop()}},r,this)}));return function(){return t.apply(this,arguments)}}()}]),e;var t}();function tR(){return(new Date).toISOString().substring(0,10)}function gW(e){var a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,n=[],r=e.slice(),i=W(e);try{var s=function(){var l=a.value,c=n.find(function(f){return f.agent===l.agent});if(c){if(c.dates.push(l.date),nR(n)>t)return c.dates.pop(),"break"}else if(n.push({agent:l.agent,dates:[l.date]}),nR(n)>t)return n.pop(),"break";r=r.slice(1)};for(i.s();!(a=i.n()).done;){var o=s();if("break"===o)break}}catch(u){i.e(u)}finally{i.f()}return{heartbeatsToSend:n,unsentEntries:r}}var we,mW=function(){function e(t){m(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return g(e,[{key:"runIndexedDBEnvironmentCheck",value:(t=b(L.mark(function r(){return L.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(Wh()){a.next=4;break}return a.abrupt("return",!1);case 4:return a.abrupt("return",HA().then(function(){return!0}).catch(function(){return!1}));case 5:case"end":return a.stop()}},r)})),function(){return t.apply(this,arguments)})},{key:"read",value:function(){var t=b(L.mark(function r(){return L.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this._canUseIndexedDBPromise;case 2:if(o.sent){o.next=7;break}return o.abrupt("return",{heartbeats:[]});case 7:return o.next=9,hW(this.app);case 9:return o.abrupt("return",o.sent||{heartbeats:[]});case 11:case"end":return o.stop()}},r,this)}));return function(){return t.apply(this,arguments)}}()},{key:"overwrite",value:function(){var t=b(L.mark(function r(i){var a,o;return L.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this._canUseIndexedDBPromise;case 2:if(l.sent){l.next=7;break}return l.abrupt("return");case 7:return l.next=9,this.read();case 9:return o=l.sent,l.abrupt("return",ZA(this.app,{lastSentHeartbeatDate:null!==(a=i.lastSentHeartbeatDate)&&void 0!==a?a:o.lastSentHeartbeatDate,heartbeats:i.heartbeats}));case 11:case"end":return l.stop()}},r,this)}));return function(r){return t.apply(this,arguments)}}()},{key:"add",value:function(){var t=b(L.mark(function r(i){var a,o;return L.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this._canUseIndexedDBPromise;case 2:if(l.sent){l.next=7;break}return l.abrupt("return");case 7:return l.next=9,this.read();case 9:return o=l.sent,l.abrupt("return",ZA(this.app,{lastSentHeartbeatDate:null!==(a=i.lastSentHeartbeatDate)&&void 0!==a?a:o.lastSentHeartbeatDate,heartbeats:[].concat(ye(o.heartbeats),ye(i.heartbeats))}));case 11:case"end":return l.stop()}},r,this)}));return function(r){return t.apply(this,arguments)}}()}]),e;var t}();function nR(e){return $h(JSON.stringify({version:2,heartbeats:e})).length}function rR(){return A({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}Jn(new xn("platform-logger",function(t){return new M$(t)},"PRIVATE")),Jn(new xn("heartbeat",function(t){return new vW(t)},"PRIVATE")),Tn(gy,"0.7.20",""),Tn(gy,"0.7.20","esm2017"),Tn("fire-js","");var _W=rR,Cy=new ya("auth","Firebase",rR()),Ey=new Wl("@firebase/auth");function Qh(e){if(Ey.logLevel<=Ue.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ey.error.apply(Ey,["Auth (".concat(zl,"): ").concat(e)].concat(n))}}function wr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Iy.apply(void 0,[e].concat(n))}function gi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Iy.apply(void 0,[e].concat(n))}function iR(e,t,n){var r=Object.assign(Object.assign({},_W()),A({},t,n));return new ya("auth","Firebase",r).create(t,{appName:e.name})}function Vo(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&wr(e,"argument-error"),iR(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Iy(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!=typeof e){var i,a=n[0],s=ye(n.slice(1));return s[0]&&(s[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(ye(s)))}return Cy.create.apply(Cy,[e].concat(n))}function X(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Iy.apply(void 0,[t].concat(r))}}function Li(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Qh(t),new Error(t)}function Vi(e,t){e||Li(t)}var aR=new Map;function Ui(e){Vi(e instanceof Function,"Expected a class definition");var t=aR.get(e);return t?(Vi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,aR.set(e,t),t)}function kW(e,t){var n=Yr(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(jl(n.getOptions(),null!=t?t:{}))return r;wr(r,"already-initialized")}return n.initialize({options:t})}function Yl(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function oR(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Jl=function(){function e(t,n){m(this,e),this.shortDelay=t,this.longDelay=n,Vi(n>t,"Short delay should be less than long delay!"),this.isMobile=UA()||BA()}return g(e,[{key:"get",value:function(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===oR()||"https:"===oR()||cy()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Ty(e,t){Vi(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var uR=function(){function e(){m(this,e)}return g(e,null,[{key:"initialize",value:function(n,r,i){this.fetchImpl=n,r&&(this.headersImpl=r),i&&(this.responseImpl=i)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),EW=(A(we={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),A(we,"MISSING_CUSTOM_TOKEN","internal-error"),A(we,"INVALID_IDENTIFIER","invalid-email"),A(we,"MISSING_CONTINUE_URI","internal-error"),A(we,"INVALID_PASSWORD","wrong-password"),A(we,"MISSING_PASSWORD","internal-error"),A(we,"EMAIL_EXISTS","email-already-in-use"),A(we,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),A(we,"INVALID_IDP_RESPONSE","invalid-credential"),A(we,"INVALID_PENDING_TOKEN","invalid-credential"),A(we,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),A(we,"MISSING_REQ_TYPE","internal-error"),A(we,"EMAIL_NOT_FOUND","user-not-found"),A(we,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),A(we,"EXPIRED_OOB_CODE","expired-action-code"),A(we,"INVALID_OOB_CODE","invalid-action-code"),A(we,"MISSING_OOB_CODE","internal-error"),A(we,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),A(we,"INVALID_ID_TOKEN","invalid-user-token"),A(we,"TOKEN_EXPIRED","user-token-expired"),A(we,"USER_NOT_FOUND","user-token-expired"),A(we,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),A(we,"INVALID_CODE","invalid-verification-code"),A(we,"INVALID_SESSION_INFO","invalid-verification-id"),A(we,"INVALID_TEMPORARY_PROOF","invalid-credential"),A(we,"MISSING_SESSION_INFO","missing-verification-id"),A(we,"SESSION_EXPIRED","code-expired"),A(we,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),A(we,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),A(we,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),A(we,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),A(we,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),A(we,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),A(we,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),A(we,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),A(we,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),A(we,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),A(we,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),we),IW=new Jl(3e4,6e4);function Ft(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Ht(e,t,n,r){return Dy.apply(this,arguments)}function Dy(){return(Dy=b(_().mark(function e(t,n,r,i){var s=arguments;return _().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",lR(t,s.length>4&&void 0!==s[4]?s[4]:{},b(_().mark(function l(){var c,f,h,d;return _().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return c={},f={},i&&("GET"===n?f=i:c={body:JSON.stringify(i)}),h=Hl(Object.assign({key:t.config.apiKey},f)).slice(1),v.next=6,t._getAdditionalHeaders();case 6:return(d=v.sent)["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode),v.abrupt("return",uR.fetch()(cR(t,t.config.apiHost,r,h),Object.assign({method:n,headers:d,referrerPolicy:"no-referrer"},c)));case 10:case"end":return v.stop()}},l)}))));case 2:case"end":return u.stop()}},e)}))).apply(this,arguments)}function lR(e,t,n){return Sy.apply(this,arguments)}function Sy(){return(Sy=b(_().mark(function e(t,n,r){var i,a,s,o,l,c,f,h,d;return _().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},EW),n),v.prev=2,a=new TW(t),v.next=6,Promise.race([r(),a.promise]);case 6:return s=v.sent,a.clearNetworkTimeout(),v.next=10,s.json();case 10:if(!("needConfirmation"in(o=v.sent))){v.next=13;break}throw Yh(t,"account-exists-with-different-credential",o);case 13:if(!s.ok||"errorMessage"in o){v.next=17;break}return v.abrupt("return",o);case 17:if(l=(s.ok?o.errorMessage:o.error.message).split(" : "),c=Ge(l,2),h=c[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==(f=c[0])){v.next=23;break}throw Yh(t,"credential-already-in-use",o);case 23:if("EMAIL_EXISTS"!==f){v.next=25;break}throw Yh(t,"email-already-in-use",o);case 25:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){v.next=30;break}throw iR(t,d,h);case 30:wr(t,d);case 31:v.next=38;break;case 33:if(v.prev=33,v.t0=v.catch(2),!(v.t0 instanceof ma)){v.next=37;break}throw v.t0;case 37:wr(t,"network-request-failed");case 38:case"end":return v.stop()}},e,null,[[2,33]])}))).apply(this,arguments)}function Bi(e,t,n,r){return Ay.apply(this,arguments)}function Ay(){return(Ay=b(_().mark(function e(t,n,r,i){var a,s,o=arguments;return _().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},l.next=3,Ht(t,n,r,i,a);case 3:return"mfaPendingCredential"in(s=l.sent)&&wr(t,"multi-factor-auth-required",{_serverResponse:s}),l.abrupt("return",s);case 6:case"end":return l.stop()}},e)}))).apply(this,arguments)}function cR(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Ty(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var TW=function(){function e(t){var n=this;m(this,e),this.auth=t,this.timer=null,this.promise=new Promise(function(r,i){n.timer=setTimeout(function(){return i(gi(n.auth,"network-request-failed"))},IW.get())})}return g(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Yh(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=gi(e,t,r);return i.customData._tokenResponse=n,i}function DW(e,t){return Ry.apply(this,arguments)}function Ry(){return(Ry=b(_().mark(function e(t,n){return _().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Ht(t,"POST","/v1/accounts:delete",n));case 1:case"end":return i.stop()}},e)}))).apply(this,arguments)}function AW(e,t){return My.apply(this,arguments)}function My(){return(My=b(_().mark(function e(t,n){return _().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Ht(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return i.stop()}},e)}))).apply(this,arguments)}function Xl(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Py(){return(Py=b(_().mark(function e(t){var n,r,i,a,s,o,u=arguments;return _().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=Ot(t),c.next=4,r.getIdToken(n);case 4:return X((a=Jh(i=c.sent))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o=null==(s="object"==typeof a.firebase?a.firebase:void 0)?void 0:s.sign_in_provider,c.abrupt("return",{claims:a,token:i,authTime:Xl(Oy(a.auth_time)),issuedAtTime:Xl(Oy(a.iat)),expirationTime:Xl(Oy(a.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null});case 10:case"end":return c.stop()}},e)}))).apply(this,arguments)}function Oy(e){return 1e3*Number(e)}function Jh(e){var n=Ge(e.split("."),3),i=n[1];if(void 0===n[0]||void 0===i||void 0===n[2])return Qh("JWT malformed, contained fewer than 3 sections"),null;try{var s=function(t){try{return uy.decodeString(t,!0)}catch(n){console.error("base64Decode failed: ",n)}return null}(i);return s?JSON.parse(s):(Qh("Failed to decode base64 JWT payload"),null)}catch(o){return Qh("Caught error parsing JWT payload as JSON",o),null}}function bs(e,t){return Fy.apply(this,arguments)}function Fy(){return(Fy=b(_().mark(function e(t,n){var i=arguments;return _().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!(i.length>2&&void 0!==i[2]&&i[2])){s.next=3;break}return s.abrupt("return",n);case 3:return s.prev=3,s.next=6,n;case 6:return s.abrupt("return",s.sent);case 9:if(s.prev=9,s.t0=s.catch(3),!(s.t0 instanceof ma&&MW(s.t0))){s.next=15;break}if(t.auth.currentUser!==t){s.next=15;break}return s.next=15,t.auth.signOut();case 15:throw s.t0;case 16:case"end":return s.stop()}},e,null,[[3,9]])}))).apply(this,arguments)}function MW(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var PW=function(){function e(t){m(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return g(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(n){var r;if(n){var i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}this.errorBackoff=3e4;var s=(null!==(r=this.user.stsTokenManager.expirationTime)&&void 0!==r?r:0)-Date.now()-3e5;return Math.max(0,s)}},{key:"schedule",value:function(){var n=this,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var i=this.getInterval(r);this.timerId=setTimeout(b(_().mark(function a(){return _().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,n.iteration();case 2:case"end":return o.stop()}},a)})),i)}}},{key:"iteration",value:(t=b(_().mark(function r(){return _().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,this.user.getIdToken(!0);case 3:a.next=9;break;case 5:return a.prev=5,a.t0=a.catch(0),a.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),a.abrupt("return");case 9:this.schedule();case 10:case"end":return a.stop()}},r,this,[[0,5]])})),function(){return t.apply(this,arguments)})}]),e;var t}(),fR=function(){function e(t,n){m(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return g(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Xl(this.lastLoginAt),this.creationTime=Xl(this.createdAt)}},{key:"_copy",value:function(n){this.createdAt=n.createdAt,this.lastLoginAt=n.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Zl(e){return xy.apply(this,arguments)}function xy(){return(xy=b(_().mark(function e(t){var n,r,i,a,s,o,u,c,f,h;return _().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return r=t.auth,p.next=3,t.getIdToken();case 3:return i=p.sent,p.next=6,bs(t,AW(r,{idToken:i}));case 6:X(null==(a=p.sent)?void 0:a.users.length,r,"internal-error"),t._notifyReloadListener(s=a.users[0]),o=(null===(n=s.providerUserInfo)||void 0===n?void 0:n.length)?xW(s.providerUserInfo):[],u=FW(t.providerData,o),c=!(t.email&&s.passwordHash||(null==u?void 0:u.length)),f=!!t.isAnonymous&&c,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new fR(s.createdAt,s.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return p.stop()}},e)}))).apply(this,arguments)}function Ly(){return(Ly=b(_().mark(function e(t){var n;return _().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=Ot(t),i.next=3,Zl(n);case 3:return i.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return i.stop()}},e)}))).apply(this,arguments)}function FW(e,t){var n=e.filter(function(r){return!t.some(function(i){return i.providerId===r.providerId})});return[].concat(ye(n),ye(t))}function xW(e){return e.map(function(t){var n=t.providerId,r=sy(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function LW(e,t){return Vy.apply(this,arguments)}function Vy(){return(Vy=b(_().mark(function e(t,n){var r;return _().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,lR(t,{},b(_().mark(function s(){var o,u,f,h;return _().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return o=Hl({grant_type:"refresh_token",refresh_token:n}).slice(1),f=cR(t,(u=t.config).tokenApiHost,"/v1/token","key=".concat(u.apiKey)),p.next=5,t._getAdditionalHeaders();case 5:return(h=p.sent)["Content-Type"]="application/x-www-form-urlencoded",p.abrupt("return",uR.fetch()(f,{method:"POST",headers:h,body:o}));case 8:case"end":return p.stop()}},s)})));case 2:return a.abrupt("return",{accessToken:(r=a.sent).access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return a.stop()}},e)}))).apply(this,arguments)}var hR=function(){function e(){m(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return g(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(n){X(n.idToken,"internal-error"),X(void 0!==n.idToken,"internal-error"),X(void 0!==n.refreshToken,"internal-error");var r="expiresIn"in n&&void 0!==n.expiresIn?Number(n.expiresIn):function(e){var t=Jh(e);return X(t,"internal-error"),X(void 0!==t.exp,"internal-error"),X(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(n.idToken);this.updateTokensAndExpiration(n.idToken,n.refreshToken,r)}},{key:"getToken",value:(t=b(_().mark(function r(i){var a,s=arguments;return _().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(a=s.length>1&&void 0!==s[1]&&s[1],X(!this.accessToken||this.refreshToken,i,"user-token-expired"),a||!this.accessToken||this.isExpired){u.next=4;break}return u.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){u.next=8;break}return u.next=7,this.refresh(i,this.refreshToken);case 7:return u.abrupt("return",this.accessToken);case 8:return u.abrupt("return",null);case 9:case"end":return u.stop()}},r,this)})),function(r){return t.apply(this,arguments)})},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var t=b(_().mark(function r(i,a){var s;return _().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,LW(i,a);case 2:this.updateTokensAndExpiration((s=f.sent).accessToken,s.refreshToken,Number(s.expiresIn));case 7:case"end":return f.stop()}},r,this)}));return function(r,i){return t.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(n,r,i){this.refreshToken=r||null,this.accessToken=n||null,this.expirationTime=Date.now()+1e3*i}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(n){this.accessToken=n.accessToken,this.refreshToken=n.refreshToken,this.expirationTime=n.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Li("not implemented")}}],[{key:"fromJSON",value:function(n,r){var i=r.refreshToken,a=r.accessToken,s=r.expirationTime,o=new e;return i&&(X("string"==typeof i,"internal-error",{appName:n}),o.refreshToken=i),a&&(X("string"==typeof a,"internal-error",{appName:n}),o.accessToken=a),s&&(X("number"==typeof s,"internal-error",{appName:n}),o.expirationTime=s),o}}]),e;var t}();function ka(e,t){X("string"==typeof e||void 0===e,"internal-error",{appName:t})}var Uy=function(){function e(t){m(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=sy(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new PW(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?ye(a.providerData):[],this.metadata=new fR(a.createdAt||void 0,a.lastLoginAt||void 0)}return g(e,[{key:"getIdToken",value:(t=b(_().mark(function r(i){var a;return _().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,bs(this,this.stsTokenManager.getToken(this.auth,i));case 2:if(X(a=o.sent,this.auth,"internal-error"),this.accessToken===a){o.next=9;break}return this.accessToken=a,o.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return o.abrupt("return",a);case 10:case"end":return o.stop()}},r,this)})),function(r){return t.apply(this,arguments)})},{key:"getIdTokenResult",value:function(n){return function(e){return Py.apply(this,arguments)}(this,n)}},{key:"reload",value:function(){return function(e){return Ly.apply(this,arguments)}(this)}},{key:"_assign",value:function(n){this!==n&&(X(this.uid===n.uid,this.auth,"internal-error"),this.displayName=n.displayName,this.photoURL=n.photoURL,this.email=n.email,this.emailVerified=n.emailVerified,this.phoneNumber=n.phoneNumber,this.isAnonymous=n.isAnonymous,this.tenantId=n.tenantId,this.providerData=n.providerData.map(function(r){return Object.assign({},r)}),this.metadata._copy(n.metadata),this.stsTokenManager._assign(n.stsTokenManager))}},{key:"_clone",value:function(n){return new e(Object.assign(Object.assign({},this),{auth:n,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(n){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=n,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(n){this.reloadListener?this.reloadListener(n):this.reloadUserInfo=n}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var t=b(_().mark(function r(i){var a,s,o=arguments;return _().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(a=o.length>1&&void 0!==o[1]&&o[1],s=!1,i.idToken&&i.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(i),s=!0),!a){l.next=6;break}return l.next=6,Zl(this);case 6:return l.next=8,this.auth._persistUserIfCurrent(this);case 8:s&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return l.stop()}},r,this)}));return function(r){return t.apply(this,arguments)}}()},{key:"delete",value:function(){var t=b(_().mark(function r(){var i;return _().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.getIdToken();case 2:return i=s.sent,s.next=5,bs(this,DW(this.auth,{idToken:i}));case 5:return this.stsTokenManager.clearRefreshToken(),s.abrupt("return",this.auth.signOut());case 7:case"end":return s.stop()}},r,this)}));return function(){return t.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(function(n){return Object.assign({},n)}),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(n,r){var i,a,s,o,u,l,c,f,h=null!==(i=r.displayName)&&void 0!==i?i:void 0,d=null!==(a=r.email)&&void 0!==a?a:void 0,p=null!==(s=r.phoneNumber)&&void 0!==s?s:void 0,v=null!==(o=r.photoURL)&&void 0!==o?o:void 0,y=null!==(u=r.tenantId)&&void 0!==u?u:void 0,k=null!==(l=r._redirectEventId)&&void 0!==l?l:void 0,w=null!==(c=r.createdAt)&&void 0!==c?c:void 0,C=null!==(f=r.lastLoginAt)&&void 0!==f?f:void 0,M=r.uid,j=r.emailVerified,z=r.isAnonymous,ee=r.providerData,V=r.stsTokenManager;X(M&&V,n,"internal-error");var De=hR.fromJSON(this.name,V);X("string"==typeof M,n,"internal-error"),ka(h,n.name),ka(d,n.name),X("boolean"==typeof j,n,"internal-error"),X("boolean"==typeof z,n,"internal-error"),ka(p,n.name),ka(v,n.name),ka(y,n.name),ka(k,n.name),ka(w,n.name),ka(C,n.name);var Ie=new e({uid:M,auth:n,email:d,emailVerified:j,displayName:h,isAnonymous:z,photoURL:v,phoneNumber:p,tenantId:y,stsTokenManager:De,createdAt:w,lastLoginAt:C});return ee&&Array.isArray(ee)&&(Ie.providerData=ee.map(function(Ye){return Object.assign({},Ye)})),k&&(Ie._redirectEventId=k),Ie}},{key:"_fromIdTokenResponse",value:function(){var t=b(_().mark(function r(i,a){var s,o,u,l=arguments;return _().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return s=l.length>2&&void 0!==l[2]&&l[2],(o=new hR).updateFromServerResponse(a),u=new e({uid:a.localId,auth:i,stsTokenManager:o,isAnonymous:s}),f.next=6,Zl(u);case 6:return f.abrupt("return",u);case 7:case"end":return f.stop()}},r)}));return function(r,i){return t.apply(this,arguments)}}()}]),e;var t}(),dR=function(){var e=function(){function t(){m(this,t),this.type="NONE",this.storage={}}return g(t,[{key:"_isAvailable",value:(n=b(_().mark(function i(){return _().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",!0);case 1:case"end":return s.stop()}},i)})),function(){return n.apply(this,arguments)})},{key:"_set",value:function(){var n=b(_().mark(function i(a,s){return _().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:this.storage[a]=s;case 1:case"end":return u.stop()}},i,this)}));return function(i,a){return n.apply(this,arguments)}}()},{key:"_get",value:function(){var n=b(_().mark(function i(a){var s;return _().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",void 0===(s=this.storage[a])?null:s);case 2:case"end":return u.stop()}},i,this)}));return function(i){return n.apply(this,arguments)}}()},{key:"_remove",value:function(){var n=b(_().mark(function i(a){return _().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:delete this.storage[a];case 1:case"end":return o.stop()}},i,this)}));return function(i){return n.apply(this,arguments)}}()},{key:"_addListener",value:function(r,i){}},{key:"_removeListener",value:function(r,i){}}]),t;var n}();return e.type="NONE",e}();function Xh(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var pR=function(){function e(t,n,r){m(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,s=i.name;this.fullUserKey=Xh(this.userKey,a.apiKey,s),this.fullPersistenceKey=Xh("persistence",a.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return g(e,[{key:"setCurrentUser",value:function(n){return this.persistence._set(this.fullUserKey,n.toJSON())}},{key:"getCurrentUser",value:(t=b(_().mark(function r(){var i;return _().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.persistence._get(this.fullUserKey);case 2:return s.abrupt("return",(i=s.sent)?Uy._fromJSON(this.auth,i):null);case 4:case"end":return s.stop()}},r,this)})),function(){return t.apply(this,arguments)})},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var t=b(_().mark(function r(i){var a;return _().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(this.persistence!==i){o.next=2;break}return o.abrupt("return");case 2:return o.next=4,this.getCurrentUser();case 4:return a=o.sent,o.next=7,this.removeCurrentUser();case 7:if(this.persistence=i,!a){o.next=10;break}return o.abrupt("return",this.setCurrentUser(a));case 10:case"end":return o.stop()}},r,this)}));return function(r){return t.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=b(_().mark(function r(i,a){var s,o,u,l,c,f,h,d,p,v,y,k=arguments;return _().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(s=k.length>2&&void 0!==k[2]?k[2]:"authUser",a.length){C.next=3;break}return C.abrupt("return",new e(Ui(dR),i,s));case 3:return C.next=5,Promise.all(a.map(function(){var M=b(_().mark(function j(z){return _().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,z._isAvailable();case 2:if(!V.sent){V.next=4;break}return V.abrupt("return",z);case 4:return V.abrupt("return",void 0);case 5:case"end":return V.stop()}},j)}));return function(j){return M.apply(this,arguments)}}()));case 5:o=C.sent.filter(function(M){return M}),u=o[0]||Ui(dR),l=Xh(s,i.config.apiKey,i.name),c=null,f=W(a),C.prev=10,f.s();case 12:if((h=f.n()).done){C.next=29;break}return d=h.value,C.prev=14,C.next=17,d._get(l);case 17:if(!(p=C.sent)){C.next=23;break}return v=Uy._fromJSON(i,p),d!==u&&(c=v),u=d,C.abrupt("break",29);case 23:C.next=27;break;case 25:C.prev=25,C.t0=C.catch(14);case 27:C.next=12;break;case 29:C.next=34;break;case 31:C.prev=31,C.t1=C.catch(10),f.e(C.t1);case 34:return C.prev=34,f.f(),C.finish(34);case 37:if(y=o.filter(function(M){return M._shouldAllowMigration}),u._shouldAllowMigration&&y.length){C.next=40;break}return C.abrupt("return",new e(u,i,s));case 40:if(u=y[0],!c){C.next=44;break}return C.next=44,u._set(l,c.toJSON());case 44:return C.next=46,Promise.all(a.map(function(){var M=b(_().mark(function j(z){return _().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(z===u){V.next=8;break}return V.prev=1,V.next=4,z._remove(l);case 4:V.next=8;break;case 6:V.prev=6,V.t0=V.catch(1);case 8:case"end":return V.stop()}},j,null,[[1,6]])}));return function(j){return M.apply(this,arguments)}}()));case 46:return C.abrupt("return",new e(u,i,s));case 47:case"end":return C.stop()}},r,null,[[10,31,34,37],[14,25]])}));return function(r,i){return t.apply(this,arguments)}}()}]),e;var t}();function vR(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(yR(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(gR(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(kR(t))return"Blackberry";if(wR(t))return"Webos";if(By(t))return"Safari";if((t.includes("chrome/")||mR(t))&&!t.includes("edge/"))return"Chrome";if(_R(t))return"Android";var r=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null==r?void 0:r.length)?r[1]:"Other"}function gR(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt();return/firefox\//i.test(e)}function By(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function mR(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt();return/crios\//i.test(e)}function yR(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt();return/iemobile/i.test(e)}function _R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt();return/android/i.test(e)}function kR(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt();return/blackberry/i.test(e)}function wR(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt();return/webos/i.test(e)}function Zh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt();return/iphone|ipad|ipod/i.test(e)}function UW(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt();return Zh(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}function BW(){return jA()&&10===document.documentMode}function bR(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt();return Zh(e)||_R(e)||wR(e)||kR(e)||/windows phone/i.test(e)||yR(e)}function CR(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":n=vR(jt());break;case"Worker":n="".concat(vR(jt()),"-").concat(e);break;default:n=e}var r=t.length?t.join(","):"FirebaseCore-web";return"".concat(n,"/","JsCore","/").concat(zl,"/").concat(r)}var HW=function(){function e(t,n,r){m(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ER(this),this.idTokenSubscription=new ER(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Cy,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return g(e,[{key:"_initializeWithPersistence",value:function(n,r){var i=this;return r&&(this._popupRedirectResolver=Ui(r)),this._initializationPromise=this.queue(b(_().mark(function a(){var s,o;return _().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!i._deleted){l.next=2;break}return l.abrupt("return");case 2:return l.next=4,pR.create(i,n);case 4:if(i.persistenceManager=l.sent,!i._deleted){l.next=7;break}return l.abrupt("return");case 7:if(!(null===(s=i._popupRedirectResolver)||void 0===s?void 0:s._shouldInitProactively)){l.next=15;break}return l.prev=8,l.next=11,i._popupRedirectResolver._initialize(i);case 11:l.next=15;break;case 13:l.prev=13,l.t0=l.catch(8);case 15:return l.next=17,i.initializeCurrentUser(r);case 17:if(i.lastNotifiedUid=(null===(o=i.currentUser)||void 0===o?void 0:o.uid)||null,!i._deleted){l.next=20;break}return l.abrupt("return");case 20:i._isInitialized=!0;case 21:case"end":return l.stop()}},a,null,[[8,13]])}))),this._initializationPromise}},{key:"_onStorageEvent",value:(t=b(_().mark(function r(){var i;return _().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!this._deleted){s.next=2;break}return s.abrupt("return");case 2:return s.next=4,this.assertedPersistence.getCurrentUser();case 4:if(i=s.sent,this.currentUser||i){s.next=7;break}return s.abrupt("return");case 7:if(!this.currentUser||!i||this.currentUser.uid!==i.uid){s.next=12;break}return this._currentUser._assign(i),s.next=11,this.currentUser.getIdToken();case 11:return s.abrupt("return");case 12:return s.next=14,this._updateCurrentUser(i);case 14:case"end":return s.stop()}},r,this)})),function(){return t.apply(this,arguments)})},{key:"initializeCurrentUser",value:function(){var t=b(_().mark(function r(i){var a,s,o,u,l;return _().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,this.assertedPersistence.getCurrentUser();case 2:if(s=f.sent,!i||!this.config.authDomain){f.next=12;break}return f.next=6,this.getOrInitRedirectPersistenceManager();case 6:return o=null===(a=this.redirectUser)||void 0===a?void 0:a._redirectEventId,u=null==s?void 0:s._redirectEventId,f.next=10,this.tryRedirectSignIn(i);case 10:l=f.sent,(!o||o===u)&&(null==l?void 0:l.user)&&(s=l.user);case 12:if(s){f.next=14;break}return f.abrupt("return",this.directlySetCurrentUser(null));case 14:if(s._redirectEventId){f.next=16;break}return f.abrupt("return",this.reloadAndSetCurrentUserOrClear(s));case 16:return X(this._popupRedirectResolver,this,"argument-error"),f.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==s._redirectEventId){f.next=21;break}return f.abrupt("return",this.directlySetCurrentUser(s));case 21:return f.abrupt("return",this.reloadAndSetCurrentUserOrClear(s));case 22:case"end":return f.stop()}},r,this)}));return function(r){return t.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var t=b(_().mark(function r(i){var a;return _().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return a=null,o.prev=1,o.next=4,this._popupRedirectResolver._completeRedirectFn(this,i,!0);case 4:a=o.sent,o.next=11;break;case 7:return o.prev=7,o.t0=o.catch(1),o.next=11,this._setRedirectUser(null);case 11:return o.abrupt("return",a);case 12:case"end":return o.stop()}},r,this,[[1,7]])}));return function(r){return t.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var t=b(_().mark(function r(i){return _().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,Zl(i);case 3:s.next=9;break;case 5:if(s.prev=5,s.t0=s.catch(0),s.t0.code==="auth/".concat("network-request-failed")){s.next=9;break}return s.abrupt("return",this.directlySetCurrentUser(null));case 9:return s.abrupt("return",this.directlySetCurrentUser(i));case 10:case"end":return s.stop()}},r,this,[[0,5]])}));return function(r){return t.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"==typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var t=b(_().mark(function r(){return _().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:this._deleted=!0;case 1:case"end":return a.stop()}},r,this)}));return function(){return t.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var t=b(_().mark(function r(i){var a;return _().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return(a=i?Ot(i):null)&&X(a.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),o.abrupt("return",this._updateCurrentUser(a&&a._clone(this)));case 3:case"end":return o.stop()}},r,this)}));return function(r){return t.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var t=b(_().mark(function r(i){var a=this;return _().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!this._deleted){o.next=2;break}return o.abrupt("return");case 2:return i&&X(this.tenantId===i.tenantId,this,"tenant-id-mismatch"),o.abrupt("return",this.queue(b(_().mark(function u(){return _().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,a.directlySetCurrentUser(i);case 2:a.notifyAuthListeners();case 3:case"end":return c.stop()}},u)}))));case 4:case"end":return o.stop()}},r,this)}));return function(r){return t.apply(this,arguments)}}()},{key:"signOut",value:function(){var t=b(_().mark(function r(){return _().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){a.next=3;break}return a.next=3,this._setRedirectUser(null);case 3:return a.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return a.stop()}},r,this)}));return function(){return t.apply(this,arguments)}}()},{key:"setPersistence",value:function(n){var r=this;return this.queue(b(_().mark(function i(){return _().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,r.assertedPersistence.setPersistence(Ui(n));case 2:case"end":return s.stop()}},i)})))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(n){this._errorFactory=new ya("auth","Firebase",n())}},{key:"onAuthStateChanged",value:function(n,r,i){return this.registerStateListener(this.authStateSubscription,n,r,i)}},{key:"onIdTokenChanged",value:function(n,r,i){return this.registerStateListener(this.idTokenSubscription,n,r,i)}},{key:"toJSON",value:function(){var n;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(n=this._currentUser)||void 0===n?void 0:n.toJSON()}}},{key:"_setRedirectUser",value:function(){var t=b(_().mark(function r(i,a){var s;return _().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.getOrInitRedirectPersistenceManager(a);case 2:return s=u.sent,u.abrupt("return",null===i?s.removeCurrentUser():s.setCurrentUser(i));case 4:case"end":return u.stop()}},r,this)}));return function(r,i){return t.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var t=b(_().mark(function r(i){var a;return _().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(this.redirectPersistenceManager){o.next=9;break}return X(a=i&&Ui(i)||this._popupRedirectResolver,this,"argument-error"),o.next=5,pR.create(this,[Ui(a._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=o.sent,o.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=o.sent;case 9:return o.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return o.stop()}},r,this)}));return function(r){return t.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var t=b(_().mark(function r(i){var a,s;return _().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!this._isInitialized){u.next=3;break}return u.next=3,this.queue(b(_().mark(function l(){return _().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:case"end":return f.stop()}},l)})));case 3:if((null===(a=this._currentUser)||void 0===a?void 0:a._redirectEventId)!==i){u.next=5;break}return u.abrupt("return",this._currentUser);case 5:if((null===(s=this.redirectUser)||void 0===s?void 0:s._redirectEventId)!==i){u.next=7;break}return u.abrupt("return",this.redirectUser);case 7:return u.abrupt("return",null);case 8:case"end":return u.stop()}},r,this)}));return function(r){return t.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var t=b(_().mark(function r(i){var a=this;return _().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(i!==this.currentUser){o.next=2;break}return o.abrupt("return",this.queue(b(_().mark(function u(){return _().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",a.directlySetCurrentUser(i));case 1:case"end":return c.stop()}},u)}))));case 2:case"end":return o.stop()}},r,this)}));return function(r){return t.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(n){n===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var n,r;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var i=null!==(r=null===(n=this.currentUser)||void 0===n?void 0:n.uid)&&void 0!==r?r:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(n,r,i,a){var s=this;if(this._deleted)return function(){};var o="function"==typeof r?r:r.next.bind(r),u=this._isInitialized?Promise.resolve():this._initializationPromise;return X(u,this,"internal-error"),u.then(function(){return o(s.currentUser)}),"function"==typeof r?n.addObserver(r,i,a):n.addObserver(r)}},{key:"directlySetCurrentUser",value:function(){var t=b(_().mark(function r(i){return _().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(this.currentUser&&this.currentUser!==i&&(this._currentUser._stopProactiveRefresh(),i&&this.isProactiveRefreshEnabled&&i._startProactiveRefresh()),this.currentUser=i,!i){s.next=7;break}return s.next=5,this.assertedPersistence.setCurrentUser(i);case 5:s.next=9;break;case 7:return s.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return s.stop()}},r,this)}));return function(r){return t.apply(this,arguments)}}()},{key:"queue",value:function(n){return this.operations=this.operations.then(n,n),this.operations}},{key:"assertedPersistence",get:function(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(n){!n||this.frameworks.includes(n)||(this.frameworks.push(n),this.frameworks.sort(),this.clientVersion=CR(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var t=b(_().mark(function r(){var i,a,s;return _().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return a=A({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(a["X-Firebase-gmpid"]=this.app.options.appId),u.next=4,null===(i=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===i?void 0:i.getHeartbeatsHeader();case 4:return(s=u.sent)&&(a["X-Firebase-Client"]=s),u.abrupt("return",a);case 7:case"end":return u.stop()}},r,this)}));return function(){return t.apply(this,arguments)}}()}]),e;var t}();function br(e){return Ot(e)}var ER=function(){function e(t){var n=this;m(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new y$(e,void 0);return n.subscribe.bind(n)}(function(r){return n.observer=r})}return g(e,[{key:"next",get:function(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}(),jy=function(){function e(t,n){m(this,e),this.providerId=t,this.signInMethod=n}return g(e,[{key:"toJSON",value:function(){return Li("not implemented")}},{key:"_getIdTokenResponse",value:function(n){return Li("not implemented")}},{key:"_linkToIdToken",value:function(n,r){return Li("not implemented")}},{key:"_getReauthenticationResolver",value:function(n){return Li("not implemented")}}]),e}();function SR(e,t){return Gy.apply(this,arguments)}function Gy(){return(Gy=b(_().mark(function e(t,n){return _().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Ht(t,"POST","/v1/accounts:update",n));case 1:case"end":return i.stop()}},e)}))).apply(this,arguments)}function WW(e,t){return $y.apply(this,arguments)}function $y(){return($y=b(_().mark(function e(t,n){return _().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Bi(t,"POST","/v1/accounts:signInWithPassword",Ft(t,n)));case 1:case"end":return i.stop()}},e)}))).apply(this,arguments)}function ed(e,t){return Wy.apply(this,arguments)}function Wy(){return(Wy=b(_().mark(function e(t,n){return _().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Ht(t,"POST","/v1/accounts:sendOobCode",Ft(t,n)));case 1:case"end":return i.stop()}},e)}))).apply(this,arguments)}function KW(e,t){return Ky.apply(this,arguments)}function Ky(){return(Ky=b(_().mark(function e(t,n){return _().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",ed(t,n));case 1:case"end":return i.stop()}},e)}))).apply(this,arguments)}function QW(e,t){return Qy.apply(this,arguments)}function Qy(){return(Qy=b(_().mark(function e(t,n){return _().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",ed(t,n));case 1:case"end":return i.stop()}},e)}))).apply(this,arguments)}function JW(e,t){return Jy.apply(this,arguments)}function Jy(){return(Jy=b(_().mark(function e(t,n){return _().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Bi(t,"POST","/v1/accounts:signInWithEmailLink",Ft(t,n)));case 1:case"end":return i.stop()}},e)}))).apply(this,arguments)}function XW(e,t){return Xy.apply(this,arguments)}function Xy(){return(Xy=b(_().mark(function e(t,n){return _().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Bi(t,"POST","/v1/accounts:signInWithEmailLink",Ft(t,n)));case 1:case"end":return i.stop()}},e)}))).apply(this,arguments)}var AR=function(e){D(n,e);var r,t=S(n);function n(r,i,a){var s,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return m(this,n),(s=t.call(this,"password",a))._email=r,s._password=i,s._tenantId=o,s}return g(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:(r=b(_().mark(function a(s){return _().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:u.t0=this.signInMethod,u.next="password"===u.t0?3:"emailLink"===u.t0?4:5;break;case 3:return u.abrupt("return",WW(s,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return u.abrupt("return",JW(s,{email:this._email,oobCode:this._password}));case 5:wr(s,"internal-error");case 6:case"end":return u.stop()}},a,this)})),function(a){return r.apply(this,arguments)})},{key:"_linkToIdToken",value:function(){var r=b(_().mark(function a(s,o){return _().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:l.t0=this.signInMethod,l.next="password"===l.t0?3:"emailLink"===l.t0?4:5;break;case 3:return l.abrupt("return",SR(s,{idToken:o,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return l.abrupt("return",XW(s,{idToken:o,email:this._email,oobCode:this._password}));case 5:wr(s,"internal-error");case 6:case"end":return l.stop()}},a,this)}));return function(a,s){return r.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(i){return this._getIdTokenResponse(i)}}],[{key:"_fromEmailAndPassword",value:function(i,a){return new n(i,a,"password")}},{key:"_fromEmailAndCode",value:function(i,a){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(i,a,"emailLink",s)}},{key:"fromJSON",value:function(i){var a="string"==typeof i?JSON.parse(i):i;if((null==a?void 0:a.email)&&(null==a?void 0:a.password)){if("password"===a.signInMethod)return this._fromEmailAndPassword(a.email,a.password);if("emailLink"===a.signInMethod)return this._fromEmailAndCode(a.email,a.password,a.tenantId)}return null}}]),n}(jy);function Uo(e,t){return Zy.apply(this,arguments)}function Zy(){return(Zy=b(_().mark(function e(t,n){return _().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Bi(t,"POST","/v1/accounts:signInWithIdp",Ft(t,n)));case 1:case"end":return i.stop()}},e)}))).apply(this,arguments)}var e_=function(e){D(n,e);var t=S(n);function n(){var r;return m(this,n),(r=t.apply(this,arguments)).pendingToken=null,r}return g(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(i){return Uo(i,this.buildRequest())}},{key:"_linkToIdToken",value:function(i,a){var s=this.buildRequest();return s.idToken=a,Uo(i,s)}},{key:"_getReauthenticationResolver",value:function(i){var a=this.buildRequest();return a.autoCreate=!1,Uo(i,a)}},{key:"buildRequest",value:function(){var i={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)i.pendingToken=this.pendingToken;else{var a={};this.idToken&&(a.id_token=this.idToken),this.accessToken&&(a.access_token=this.accessToken),this.secret&&(a.oauth_token_secret=this.secret),a.providerId=this.providerId,this.nonce&&!this.pendingToken&&(a.nonce=this.nonce),i.postBody=Hl(a)}return i}}],[{key:"_fromParams",value:function(i){var a=new n(i.providerId,i.signInMethod);return i.idToken||i.accessToken?(i.idToken&&(a.idToken=i.idToken),i.accessToken&&(a.accessToken=i.accessToken),i.nonce&&!i.pendingToken&&(a.nonce=i.nonce),i.pendingToken&&(a.pendingToken=i.pendingToken)):i.oauthToken&&i.oauthTokenSecret?(a.accessToken=i.oauthToken,a.secret=i.oauthTokenSecret):wr("argument-error"),a}},{key:"fromJSON",value:function(i){var a="string"==typeof i?JSON.parse(i):i,s=a.providerId,o=a.signInMethod,u=sy(a,["providerId","signInMethod"]);if(!s||!o)return null;var l=new n(s,o);return l.idToken=u.idToken||void 0,l.accessToken=u.accessToken||void 0,l.secret=u.secret,l.nonce=u.nonce,l.pendingToken=u.pendingToken||null,l}}]),n}(jy);A({},"USER_NOT_FOUND","user-not-found");var a_=function(){function e(t){m(this,e);var n,r,i,a,s,o,u=Gl(ql(t)),l=null!==(n=u.apiKey)&&void 0!==n?n:null,c=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);X(l&&c&&f,"argument-error"),this.apiKey=l,this.operation=f,this.code=c,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(s=u.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=u.tenantId)&&void 0!==o?o:null}return g(e,null,[{key:"parseLink",value:function(n){var r=function(e){var t=Gl(ql(e)).link,n=t?Gl(ql(t)).deep_link_id:null,r=Gl(ql(e)).deep_link_id;return(r?Gl(ql(r)).link:null)||r||n||t||e}(n);try{return new e(r)}catch(i){return null}}}]),e}(),RR=function(){var e=function(){function t(){m(this,t),this.providerId=t.PROVIDER_ID}return g(t,null,[{key:"credential",value:function(r,i){return AR._fromEmailAndPassword(r,i)}},{key:"credentialWithLink",value:function(r,i){var a=a_.parseLink(i);return X(a,"argument-error"),AR._fromEmailAndCode(r,a.code,a.tenantId)}}]),t}();return e.PROVIDER_ID="password",e.EMAIL_PASSWORD_SIGN_IN_METHOD="password",e.EMAIL_LINK_SIGN_IN_METHOD="emailLink",e}(),wa=function(){function e(t){m(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return g(e,[{key:"setDefaultLanguage",value:function(n){this.defaultLanguageCode=n}},{key:"setCustomParameters",value:function(n){return this.customParameters=n,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),s_=function(e){D(n,e);var t=S(n);function n(){var r;return m(this,n),(r=t.apply(this,arguments)).scopes=[],r}return g(n,[{key:"addScope",value:function(i){return this.scopes.includes(i)||this.scopes.push(i),this}},{key:"getScopes",value:function(){return ye(this.scopes)}}]),n}(wa),iz=function(e){D(n,e);var t=S(n);function n(){return m(this,n),t.apply(this,arguments)}return g(n,[{key:"credential",value:function(i){return this._credential(Object.assign(Object.assign({},i),{nonce:i.rawNonce}))}},{key:"_credential",value:function(i){return X(i.idToken||i.accessToken,"argument-error"),e_._fromParams(Object.assign(Object.assign({},i),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(i){var a="string"==typeof i?JSON.parse(i):i;return X("providerId"in a&&"signInMethod"in a,"argument-error"),e_._fromParams(a)}},{key:"credentialFromResult",value:function(i){return n.oauthCredentialFromTaggedObject(i)}},{key:"credentialFromError",value:function(i){return n.oauthCredentialFromTaggedObject(i.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(i){var a=i._tokenResponse;if(!a)return null;var s=a.oauthIdToken,o=a.oauthAccessToken,l=a.pendingToken,c=a.nonce,f=a.providerId;if(!o&&!a.oauthTokenSecret&&!s&&!l||!f)return null;try{return new n(f)._credential({idToken:s,accessToken:o,nonce:c,pendingToken:l})}catch(h){return null}}}]),n}(s_),az=function(){var e=function(t){D(r,t);var n=S(r);function r(){var i;return m(this,r),(i=n.call(this,"google.com")).addScope("profile"),i}return g(r,null,[{key:"credential",value:function(a,s){return e_._fromParams({providerId:r.PROVIDER_ID,signInMethod:r.GOOGLE_SIGN_IN_METHOD,idToken:a,accessToken:s})}},{key:"credentialFromResult",value:function(a){return r.credentialFromTaggedObject(a)}},{key:"credentialFromError",value:function(a){return r.credentialFromTaggedObject(a.customData||{})}},{key:"credentialFromTaggedObject",value:function(a){var s=a._tokenResponse;if(!s)return null;var o=s.oauthIdToken,u=s.oauthAccessToken;if(!o&&!u)return null;try{return r.credential(o,u)}catch(l){return null}}}]),r}(s_);return e.GOOGLE_SIGN_IN_METHOD="google.com",e.PROVIDER_ID="google.com",e}();function NR(e,t){return o_.apply(this,arguments)}function o_(){return(o_=b(_().mark(function e(t,n){return _().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Bi(t,"POST","/v1/accounts:signUp",Ft(t,n)));case 1:case"end":return i.stop()}},e)}))).apply(this,arguments)}var Cs=function(){function e(t){m(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return g(e,null,[{key:"_fromIdTokenResponse",value:(t=b(_().mark(function r(i,a,s){var o,u,l,c,f=arguments;return _().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return o=f.length>3&&void 0!==f[3]&&f[3],d.next=3,Uy._fromIdTokenResponse(i,s,o);case 3:return u=d.sent,l=MR(s),c=new e({user:u,providerId:l,_tokenResponse:s,operationType:a}),d.abrupt("return",c);case 7:case"end":return d.stop()}},r)})),function(r,i,a){return t.apply(this,arguments)})},{key:"_forOperation",value:function(){var t=b(_().mark(function r(i,a,s){var o;return _().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,i._updateTokensIfNecessary(s,!0);case 2:return o=MR(s),l.abrupt("return",new e({user:i,providerId:o,_tokenResponse:s,operationType:a}));case 4:case"end":return l.stop()}},r)}));return function(r,i,a){return t.apply(this,arguments)}}()}]),e;var t}();function MR(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var sz=function(e){D(n,e);var t=S(n);function n(r,i,a,s){var o,u;return m(this,n),(o=t.call(this,i.code,i.message)).operationType=a,o.user=s,Object.setPrototypeOf(lt(o),n.prototype),o.customData={appName:r.name,tenantId:null!==(u=r.tenantId)&&void 0!==u?u:void 0,_serverResponse:i.customData._serverResponse,operationType:a},o}return g(n,null,[{key:"_fromErrorAndOperation",value:function(i,a,s,o){return new n(i,a,s,o)}}]),n}(ma);function PR(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(function(a){throw a.code==="auth/".concat("multi-factor-auth-required")?sz._fromErrorAndOperation(e,a,t,r):a})}function c_(e,t){return f_.apply(this,arguments)}function f_(){return(f_=b(_().mark(function e(t,n){var r,a=arguments;return _().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],o.t0=bs,o.t1=t,o.t2=n,o.t3=t.auth,o.next=7,t.getIdToken();case 7:return o.t4=o.sent,o.t5=o.t2._linkToIdToken.call(o.t2,o.t3,o.t4),o.t6=r,o.next=12,(0,o.t0)(o.t1,o.t5,o.t6);case 12:return o.abrupt("return",Cs._forOperation(t,"link",o.sent));case 14:case"end":return o.stop()}},e)}))).apply(this,arguments)}function d_(){return(d_=b(_().mark(function e(t,n){var r,i,a,s,o,l=arguments;return _().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],i=t.auth,a="reauthenticate",f.prev=3,f.next=6,bs(t,PR(i,a,n,t),r);case 6:return X((s=f.sent).idToken,i,"internal-error"),X(o=Jh(s.idToken),i,"internal-error"),X(t.uid===o.sub,i,"user-mismatch"),f.abrupt("return",Cs._forOperation(t,a,s));case 15:throw f.prev=15,f.t0=f.catch(3),(null==f.t0?void 0:f.t0.code)==="auth/".concat("user-not-found")&&wr(i,"user-mismatch"),f.t0;case 19:case"end":return f.stop()}},e,null,[[3,15]])}))).apply(this,arguments)}function xR(e,t){return p_.apply(this,arguments)}function p_(){return(p_=b(_().mark(function e(t,n){var r,i,a,s,o=arguments;return _().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return r=o.length>2&&void 0!==o[2]&&o[2],i="signIn",l.next=4,PR(t,i,n);case 4:return a=l.sent,l.next=7,Cs._fromIdTokenResponse(t,i,a);case 7:if(s=l.sent,r){l.next=11;break}return l.next=11,t._updateCurrentUser(s.user);case 11:return l.abrupt("return",s);case 12:case"end":return l.stop()}},e)}))).apply(this,arguments)}function v_(e,t){return g_.apply(this,arguments)}function g_(){return(g_=b(_().mark(function e(t,n){return _().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",xR(br(t),n));case 1:case"end":return i.stop()}},e)}))).apply(this,arguments)}function nd(e,t,n){var r;X((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),X(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(X(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(X(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function fz(e,t,n){return w_.apply(this,arguments)}function w_(){return(w_=b(_().mark(function e(t,n,r){var i,a;return _().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return i=Ot(t),a={requestType:"PASSWORD_RESET",email:n},r&&nd(i,a,r),o.next=5,KW(i,a);case 5:case"end":return o.stop()}},e)}))).apply(this,arguments)}function T_(){return(T_=b(_().mark(function e(t,n,r){var i,a,s;return _().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return i=br(t),u.next=3,NR(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=u.sent,u.next=6,Cs._fromIdTokenResponse(i,"signIn",a);case 6:return s=u.sent,u.next=9,i._updateCurrentUser(s.user);case 9:return u.abrupt("return",s);case 10:case"end":return u.stop()}},e)}))).apply(this,arguments)}function D_(){return(D_=b(_().mark(function e(t,n,r){var i,a;return _().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return i=Ot(t),a={requestType:"EMAIL_SIGNIN",email:n},X(r.handleCodeInApp,i,"argument-error"),r&&nd(i,a,r),o.next=6,QW(i,a);case 6:case"end":return o.stop()}},e)}))).apply(this,arguments)}function S_(){return(S_=b(_().mark(function e(t,n,r){var i,a;return _().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return i=Ot(t),X((a=RR.credentialWithLink(n,r||Yl()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),o.abrupt("return",v_(i,a));case 4:case"end":return o.stop()}},e)}))).apply(this,arguments)}new WeakMap;var rd="__sak",VR=function(){function e(t,n){m(this,e),this.storageRetriever=t,this.type=n}return g(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(rd,"1"),this.storage.removeItem(rd),Promise.resolve(!0)):Promise.resolve(!1)}catch(n){return Promise.resolve(!1)}}},{key:"_set",value:function(n,r){return this.storage.setItem(n,JSON.stringify(r)),Promise.resolve()}},{key:"_get",value:function(n){var r=this.storage.getItem(n);return Promise.resolve(r?JSON.parse(r):null)}},{key:"_remove",value:function(n){return this.storage.removeItem(n),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}(),Oz=function(){var e=function(t){D(r,t);var i,n=S(r);function r(){var i;return m(this,r),(i=n.call(this,function(){return window.localStorage},"LOCAL")).boundEventHandler=function(a,s){return i.onStorageEvent(a,s)},i.listeners={},i.localCache={},i.pollTimer=null,i.safariLocalStorageNotSynced=function(){var e=jt();return By(e)||Zh(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),i.fallbackToPolling=bR(),i._shouldAllowMigration=!0,i}return g(r,[{key:"forAllChangedKeys",value:function(a){for(var s=0,o=Object.keys(this.listeners);s<o.length;s++){var u=o[s],l=this.storage.getItem(u),c=this.localCache[u];l!==c&&a(u,c,l)}}},{key:"onStorageEvent",value:function(a){var s=this,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(a.key){var u=a.key;if(o?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var l=this.storage.getItem(u);if(a.newValue!==l)null!==a.newValue?this.storage.setItem(u,a.newValue):this.storage.removeItem(u);else if(this.localCache[u]===a.newValue&&!o)return}var c=function(){var d=s.storage.getItem(u);!o&&s.localCache[u]===d||s.notifyListeners(u,d)},f=this.storage.getItem(u);BW()&&f!==a.newValue&&a.newValue!==a.oldValue?setTimeout(c,10):c()}else this.forAllChangedKeys(function(h,d,p){s.notifyListeners(h,p)})}},{key:"notifyListeners",value:function(a,s){this.localCache[a]=s;var o=this.listeners[a];if(o)for(var u=0,l=Array.from(o);u<l.length;u++)(0,l[u])(s&&JSON.parse(s))}},{key:"startPolling",value:function(){var a=this;this.stopPolling(),this.pollTimer=setInterval(function(){a.forAllChangedKeys(function(s,o,u){a.onStorageEvent(new StorageEvent("storage",{key:s,oldValue:o,newValue:u}),!0)})},1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(a,s){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[a]||(this.listeners[a]=new Set,this.localCache[a]=this.storage.getItem(a)),this.listeners[a].add(s)}},{key:"_removeListener",value:function(a,s){this.listeners[a]&&(this.listeners[a].delete(s),0===this.listeners[a].size&&delete this.listeners[a]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:(i=b(_().mark(function s(o,u){return _().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,ue(oe(r.prototype),"_set",this).call(this,o,u);case 2:this.localCache[o]=JSON.stringify(u);case 3:case"end":return c.stop()}},s,this)})),function(s,o){return i.apply(this,arguments)})},{key:"_get",value:function(){var i=b(_().mark(function s(o){var u;return _().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,ue(oe(r.prototype),"_get",this).call(this,o);case 2:return u=c.sent,this.localCache[o]=JSON.stringify(u),c.abrupt("return",u);case 5:case"end":return c.stop()}},s,this)}));return function(s){return i.apply(this,arguments)}}()},{key:"_remove",value:function(){var i=b(_().mark(function s(o){return _().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,ue(oe(r.prototype),"_remove",this).call(this,o);case 2:delete this.localCache[o];case 3:case"end":return l.stop()}},s,this)}));return function(s){return i.apply(this,arguments)}}()}]),r}(VR);return e.type="LOCAL",e}(),UR=function(){var e=function(t){D(r,t);var n=S(r);function r(){return m(this,r),n.call(this,function(){return window.sessionStorage},"SESSION")}return g(r,[{key:"_addListener",value:function(a,s){}},{key:"_removeListener",value:function(a,s){}}]),r}(VR);return e.type="SESSION",e}();function xz(e){return Promise.all(e.map(function(){var t=b(_().mark(function n(r){return _().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,r;case 3:return s.abrupt("return",{fulfilled:!0,value:s.sent});case 7:return s.prev=7,s.t0=s.catch(0),s.abrupt("return",{fulfilled:!1,reason:s.t0});case 10:case"end":return s.stop()}},n,null,[[0,7]])}));return function(n){return t.apply(this,arguments)}}()))}var Lz=function(){var e=function(){function t(n){m(this,t),this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return g(t,[{key:"isListeningto",value:function(r){return this.eventTarget===r}},{key:"handleEvent",value:(n=b(_().mark(function i(a){var s,o,u,l,c,f,h;return _().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(u=(o=(s=a).data).eventId,c=o.data,null==(f=this.handlersMap[l=o.eventType])?void 0:f.size){v.next=5;break}return v.abrupt("return");case 5:return s.ports[0].postMessage({status:"ack",eventId:u,eventType:l}),h=Array.from(f).map(function(){var y=b(_().mark(function k(w){return _().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.abrupt("return",w(s.origin,c));case 1:case"end":return M.stop()}},k)}));return function(k){return y.apply(this,arguments)}}()),v.next=9,xz(h);case 9:s.ports[0].postMessage({status:"done",eventId:u,eventType:l,response:v.sent});case 11:case"end":return v.stop()}},i,this)})),function(i){return n.apply(this,arguments)})},{key:"_subscribe",value:function(r,i){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[r]||(this.handlersMap[r]=new Set),this.handlersMap[r].add(i)}},{key:"_unsubscribe",value:function(r,i){this.handlersMap[r]&&i&&this.handlersMap[r].delete(i),(!i||0===this.handlersMap[r].size)&&delete this.handlersMap[r],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(r){var i=this.receivers.find(function(s){return s.isListeningto(r)});if(i)return i;var a=new t(r);return this.receivers.push(a),a}}]),t;var n}();return e.receivers=[],e}();function id(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}var Vz=function(){function e(t){m(this,e),this.target=t,this.handlers=new Set}return g(e,[{key:"removeMessageHandler",value:function(n){n.messageChannel&&(n.messageChannel.port1.removeEventListener("message",n.onMessage),n.messageChannel.port1.close()),this.handlers.delete(n)}},{key:"_send",value:(t=b(_().mark(function r(i,a){var o,u,l,c,s=this,f=arguments;return _().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(o=f.length>2&&void 0!==f[2]?f[2]:50,u="undefined"!=typeof MessageChannel?new MessageChannel:null){d.next=4;break}throw new Error("connection_unavailable");case 4:return d.abrupt("return",new Promise(function(p,v){var y=id("",20);u.port1.start();var k=setTimeout(function(){v(new Error("unsupported_event"))},o);s.handlers.add(c={messageChannel:u,onMessage:function(C){var M=C;if(M.data.eventId===y)switch(M.data.status){case"ack":clearTimeout(k),l=setTimeout(function(){v(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),p(M.data.response);break;default:clearTimeout(k),clearTimeout(l),v(new Error("invalid_response"))}}}),u.port1.addEventListener("message",c.onMessage),s.target.postMessage({eventType:i,eventId:y,data:a},[u.port2])}).finally(function(){c&&s.removeMessageHandler(c)}));case 5:case"end":return d.stop()}},r)})),function(r,i){return t.apply(this,arguments)})}]),e;var t}();function mi(){return window}function Uz(e){mi().location.href=e}function BR(){return void 0!==mi().WorkerGlobalScope&&"function"==typeof mi().importScripts}function Bz(){return U_.apply(this,arguments)}function U_(){return(U_=b(_().mark(function e(){return _().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(null==navigator?void 0:navigator.serviceWorker){r.next=2;break}return r.abrupt("return",null);case 2:return r.prev=2,r.next=5,navigator.serviceWorker.ready;case 5:return r.abrupt("return",r.sent.active);case 9:return r.prev=9,r.t0=r.catch(2),r.abrupt("return",null);case 12:case"end":return r.stop()}},e,null,[[2,9]])}))).apply(this,arguments)}function jz(){var e;return(null===(e=null==navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var jR="firebaseLocalStorageDb",ad="firebaseLocalStorage",HR="fbase_key",ec=function(){function e(t){m(this,e),this.request=t}return g(e,[{key:"toPromise",value:function(){var n=this;return new Promise(function(r,i){n.request.addEventListener("success",function(){r(n.request.result)}),n.request.addEventListener("error",function(){i(n.request.error)})})}}]),e}();function sd(e,t){return e.transaction([ad],t?"readwrite":"readonly").objectStore(ad)}function qz(){var e=indexedDB.deleteDatabase(jR);return new ec(e).toPromise()}function B_(){var e=indexedDB.open(jR,1);return new Promise(function(t,n){e.addEventListener("error",function(){n(e.error)}),e.addEventListener("upgradeneeded",function(){var r=e.result;try{r.createObjectStore(ad,{keyPath:HR})}catch(i){n(i)}}),e.addEventListener("success",b(_().mark(function r(){var i;return _().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if((i=e.result).objectStoreNames.contains(ad)){s.next=12;break}return i.close(),s.next=5,qz();case 5:return s.t0=t,s.next=8,B_();case 8:s.t1=s.sent,(0,s.t0)(s.t1),s.next=13;break;case 12:t(i);case 13:case"end":return s.stop()}},r)})))})}function GR(e,t,n){return j_.apply(this,arguments)}function j_(){return(j_=b(_().mark(function e(t,n,r){var i,a;return _().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return a=sd(t,!0).put((A(i={},HR,n),A(i,"value",r),i)),o.abrupt("return",new ec(a).toPromise());case 2:case"end":return o.stop()}},e)}))).apply(this,arguments)}function $z(e,t){return H_.apply(this,arguments)}function H_(){return(H_=b(_().mark(function e(t,n){var r,i;return _().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return r=sd(t,!1).get(n),s.next=3,new ec(r).toPromise();case 3:return s.abrupt("return",void 0===(i=s.sent)?null:i.value);case 5:case"end":return s.stop()}},e)}))).apply(this,arguments)}function qR(e,t){var n=sd(e,!0).delete(t);return new ec(n).toPromise()}var Qz=function(){var e=function(){function t(){m(this,t),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(function(){},function(){})}return g(t,[{key:"_openDb",value:(n=b(_().mark(function i(){return _().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!this.db){s.next=2;break}return s.abrupt("return",this.db);case 2:return s.next=4,B_();case 4:return this.db=s.sent,s.abrupt("return",this.db);case 6:case"end":return s.stop()}},i,this)})),function(){return n.apply(this,arguments)})},{key:"_withRetries",value:function(){var n=b(_().mark(function i(a){var s,o;return _().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:s=0;case 1:return l.prev=2,l.next=5,this._openDb();case 5:return o=l.sent,l.next=8,a(o);case 8:return l.abrupt("return",l.sent);case 11:if(l.prev=11,l.t0=l.catch(2),!(s++>3)){l.next=15;break}throw l.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:l.next=1;break;case 18:case"end":return l.stop()}},i,this,[[2,11]])}));return function(i){return n.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var n=b(_().mark(function i(){return _().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",BR()?this.initializeReceiver():this.initializeSender());case 1:case"end":return s.stop()}},i,this)}));return function(){return n.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var n=b(_().mark(function i(){var a=this;return _().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:this.receiver=Lz._getInstance(BR()?self:null),this.receiver._subscribe("keyChanged",function(){var u=b(_().mark(function l(c,f){return _().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,a._poll();case 2:return p.abrupt("return",{keyProcessed:p.sent.includes(f.key)});case 4:case"end":return p.stop()}},l)}));return function(l,c){return u.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var u=b(_().mark(function l(c,f){return _().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",["keyChanged"]);case 1:case"end":return d.stop()}},l)}));return function(l,c){return u.apply(this,arguments)}}());case 3:case"end":return o.stop()}},i,this)}));return function(){return n.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var n=b(_().mark(function i(){var a,s,o;return _().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,Bz();case 2:if(this.activeServiceWorker=l.sent,this.activeServiceWorker){l.next=5;break}return l.abrupt("return");case 5:return this.sender=new Vz(this.activeServiceWorker),l.next=8,this.sender._send("ping",{},800);case 8:if(o=l.sent){l.next=11;break}return l.abrupt("return");case 11:(null===(a=o[0])||void 0===a?void 0:a.fulfilled)&&(null===(s=o[0])||void 0===s?void 0:s.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return l.stop()}},i,this)}));return function(){return n.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var n=b(_().mark(function i(a){return _().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(this.sender&&this.activeServiceWorker&&jz()===this.activeServiceWorker){o.next=2;break}return o.abrupt("return");case 2:return o.prev=2,o.next=5,this.sender._send("keyChanged",{key:a},this.serviceWorkerReceiverAvailable?800:50);case 5:o.next=9;break;case 7:o.prev=7,o.t0=o.catch(2);case 9:case"end":return o.stop()}},i,this,[[2,7]])}));return function(i){return n.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var n=b(_().mark(function i(){var a;return _().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,indexedDB){o.next=3;break}return o.abrupt("return",!1);case 3:return o.next=5,B_();case 5:return a=o.sent,o.next=8,GR(a,rd,"1");case 8:return o.next=10,qR(a,rd);case 10:return o.abrupt("return",!0);case 13:o.prev=13,o.t0=o.catch(0);case 15:return o.abrupt("return",!1);case 16:case"end":return o.stop()}},i,null,[[0,13]])}));return function(){return n.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var n=b(_().mark(function i(a){return _().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this.pendingWrites++,o.prev=1,o.next=4,a();case 4:return o.prev=4,this.pendingWrites--,o.finish(4);case 7:case"end":return o.stop()}},i,this,[[1,,4,7]])}));return function(i){return n.apply(this,arguments)}}()},{key:"_set",value:function(){var n=b(_().mark(function i(a,s){var o=this;return _().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",this._withPendingWrite(b(_().mark(function c(){return _().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,o._withRetries(function(d){return GR(d,a,s)});case 2:return o.localCache[a]=s,h.abrupt("return",o.notifyServiceWorker(a));case 4:case"end":return h.stop()}},c)}))));case 1:case"end":return l.stop()}},i,this)}));return function(i,a){return n.apply(this,arguments)}}()},{key:"_get",value:function(){var n=b(_().mark(function i(a){var s;return _().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this._withRetries(function(l){return $z(l,a)});case 2:return this.localCache[a]=s=u.sent,u.abrupt("return",s);case 5:case"end":return u.stop()}},i,this)}));return function(i){return n.apply(this,arguments)}}()},{key:"_remove",value:function(){var n=b(_().mark(function i(a){var s=this;return _().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",this._withPendingWrite(b(_().mark(function l(){return _().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,s._withRetries(function(h){return qR(h,a)});case 2:return delete s.localCache[a],f.abrupt("return",s.notifyServiceWorker(a));case 4:case"end":return f.stop()}},l)}))));case 1:case"end":return u.stop()}},i,this)}));return function(i){return n.apply(this,arguments)}}()},{key:"_poll",value:function(){var n=b(_().mark(function i(){var a,s,o,u,l,c,f,h,d,p,v;return _().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,this._withRetries(function(w){var C=sd(w,!1).getAll();return new ec(C).toPromise()});case 2:if(a=k.sent){k.next=5;break}return k.abrupt("return",[]);case 5:if(0===this.pendingWrites){k.next=7;break}return k.abrupt("return",[]);case 7:s=[],o=new Set,u=W(a);try{for(u.s();!(l=u.n()).done;)h=(c=l.value).value,o.add(f=c.fbase_key),JSON.stringify(this.localCache[f])!==JSON.stringify(h)&&(this.notifyListeners(f,h),s.push(f))}catch(w){u.e(w)}finally{u.f()}for(d=0,p=Object.keys(this.localCache);d<p.length;d++)this.localCache[v=p[d]]&&!o.has(v)&&(this.notifyListeners(v,null),s.push(v));return k.abrupt("return",s);case 13:case"end":return k.stop()}},i,this)}));return function(){return n.apply(this,arguments)}}()},{key:"notifyListeners",value:function(r,i){this.localCache[r]=i;var a=this.listeners[r];if(a)for(var s=0,o=Array.from(a);s<o.length;s++)(0,o[s])(i)}},{key:"startPolling",value:function(){var r=this;this.stopPolling(),this.pollTimer=setInterval(b(_().mark(function i(){return _().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",r._poll());case 1:case"end":return s.stop()}},i)})),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(r,i){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[r]||(this.listeners[r]=new Set,this._get(r)),this.listeners[r].add(i)}},{key:"_removeListener",value:function(r,i){this.listeners[r]&&(this.listeners[r].delete(i),0===this.listeners[r].size&&delete this.listeners[r]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),t;var n}();return e.type="LOCAL",e}();function $R(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}function Es(e,t){return t?Ui(t):(X(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}$R("rcb"),new Jl(3e4,6e4);var J_=function(e){D(n,e);var t=S(n);function n(r){var i;return m(this,n),(i=t.call(this,"custom","custom")).params=r,i}return g(n,[{key:"_getIdTokenResponse",value:function(i){return Uo(i,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(i,a){return Uo(i,this._buildIdpRequest(a))}},{key:"_getReauthenticationResolver",value:function(i){return Uo(i,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(i){var a={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return i&&(a.idToken=i),a}}]),n}(jy);function eK(e){return xR(e.auth,new J_(e),e.bypassAuthState)}function tK(e){var n=e.user;return X(n,e.auth,"internal-error"),function(e,t){return d_.apply(this,arguments)}(n,new J_(e),e.bypassAuthState)}function nK(e){return X_.apply(this,arguments)}function X_(){return(X_=b(_().mark(function e(t){var r;return _().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return X(r=t.user,t.auth,"internal-error"),a.abrupt("return",c_(r,new J_(t),t.bypassAuthState));case 3:case"end":return a.stop()}},e)}))).apply(this,arguments)}var WR=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];m(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return g(e,[{key:"execute",value:function(){var n=this;return new Promise(function(){var r=b(_().mark(function i(a,s){return _().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return n.pendingPromise={resolve:a,reject:s},u.prev=1,u.next=4,n.resolver._initialize(n.auth);case 4:return n.eventManager=u.sent,u.next=7,n.onExecution();case 7:n.eventManager.registerConsumer(n),u.next=13;break;case 10:u.prev=10,u.t0=u.catch(1),n.reject(u.t0);case 13:case"end":return u.stop()}},i,null,[[1,10]])}));return function(i,a){return r.apply(this,arguments)}}())}},{key:"onAuthEvent",value:(t=b(_().mark(function r(i){var a,s,o,u,l,c,f;return _().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(a=i.urlResponse,s=i.sessionId,o=i.postBody,u=i.tenantId,c=i.type,!(l=i.error)){d.next=4;break}return this.reject(l),d.abrupt("return");case 4:return f={auth:this.auth,requestUri:a,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState},d.prev=5,d.t0=this,d.next=9,this.getIdpTask(c)(f);case 9:d.t1=d.sent,d.t0.resolve.call(d.t0,d.t1),d.next=16;break;case 13:d.prev=13,d.t2=d.catch(5),this.reject(d.t2);case 16:case"end":return d.stop()}},r,this,[[5,13]])})),function(r){return t.apply(this,arguments)})},{key:"onError",value:function(n){this.reject(n)}},{key:"getIdpTask",value:function(n){switch(n){case"signInViaPopup":case"signInViaRedirect":return eK;case"linkViaPopup":case"linkViaRedirect":return nK;case"reauthViaPopup":case"reauthViaRedirect":return tK;default:wr(this.auth,"internal-error")}}},{key:"resolve",value:function(n){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(n),this.unregisterAndCleanUp()}},{key:"reject",value:function(n){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(n),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e;var t}(),rK=new Jl(2e3,1e4);function zR(e,t,n){return Z_.apply(this,arguments)}function Z_(){return(Z_=b(_().mark(function e(t,n,r){var i,a,s;return _().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return i=br(t),Vo(t,n,wa),a=Es(i,r),s=new nk(i,"signInViaPopup",n,a),u.abrupt("return",s.executeNotNull());case 5:case"end":return u.stop()}},e)}))).apply(this,arguments)}var nk=function(){var e=function(t){D(r,t);var i,n=S(r);function r(i,a,s,o,u){var l;return m(this,r),(l=n.call(this,i,a,o,u)).provider=s,l.authWindow=null,l.pollId=null,r.currentPopupAction&&r.currentPopupAction.cancel(),r.currentPopupAction=lt(l),l}return g(r,[{key:"executeNotNull",value:(i=b(_().mark(function s(){var o;return _().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.execute();case 2:return X(o=l.sent,this.auth,"internal-error"),l.abrupt("return",o);case 5:case"end":return l.stop()}},s,this)})),function(){return i.apply(this,arguments)})},{key:"onExecution",value:function(){var i=b(_().mark(function s(){var u,o=this;return _().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return Vi(1===this.filter.length,"Popup operations only handle one event"),u=id(),c.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],u);case 4:this.authWindow=c.sent,this.authWindow.associatedEvent=u,this.resolver._originValidation(this.auth).catch(function(f){o.reject(f)}),this.resolver._isIframeWebStorageSupported(this.auth,function(f){f||o.reject(gi(o.auth,"web-storage-unsupported"))}),this.pollUserCancellation();case 9:case"end":return c.stop()}},s,this)}));return function(){return i.apply(this,arguments)}}()},{key:"eventId",get:function(){var a;return(null===(a=this.authWindow)||void 0===a?void 0:a.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(gi(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,r.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var a=this;!function o(){var u,l;a.pollId=(null===(l=null===(u=a.authWindow)||void 0===u?void 0:u.window)||void 0===l?void 0:l.closed)?window.setTimeout(function(){a.pollId=null,a.reject(gi(a.auth,"popup-closed-by-user"))},2e3):window.setTimeout(o,rK.get())}()}}]),r}(WR);return e.currentPopupAction=null,e}(),od=new Map,aK=function(e){D(n,e);var r,t=S(n);function n(r,i){var a,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return m(this,n),(a=t.call(this,r,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s)).eventId=null,a}return g(n,[{key:"execute",value:(r=b(_().mark(function a(){var s,u;return _().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(s=od.get(this.auth._key())){c.next=21;break}return c.prev=2,c.next=5,sK(this.resolver,this.auth);case 5:if(!c.sent){c.next=12;break}return c.next=9,ue(oe(n.prototype),"execute",this).call(this);case 9:c.t0=c.sent,c.next=13;break;case 12:c.t0=null;case 13:u=c.t0,s=function(){return Promise.resolve(u)},c.next=20;break;case 17:c.prev=17,c.t1=c.catch(2),s=function(){return Promise.reject(c.t1)};case 20:od.set(this.auth._key(),s);case 21:return this.bypassAuthState||od.set(this.auth._key(),function(){return Promise.resolve(null)}),c.abrupt("return",s());case 23:case"end":return c.stop()}},a,this,[[2,17]])})),function(){return r.apply(this,arguments)})},{key:"onAuthEvent",value:function(){var r=b(_().mark(function a(s){var o;return _().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if("signInViaRedirect"!==s.type){l.next=4;break}return l.abrupt("return",ue(oe(n.prototype),"onAuthEvent",this).call(this,s));case 4:if("unknown"!==s.type){l.next=7;break}return this.resolve(null),l.abrupt("return");case 7:if(!s.eventId){l.next=17;break}return l.next=10,this.auth._redirectUserForId(s.eventId);case 10:if(!(o=l.sent)){l.next=16;break}return this.user=o,l.abrupt("return",ue(oe(n.prototype),"onAuthEvent",this).call(this,s));case 16:this.resolve(null);case 17:case"end":return l.stop()}},a,this)}));return function(a){return r.apply(this,arguments)}}()},{key:"onExecution",value:function(){var r=b(_().mark(function a(){return _().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:case"end":return o.stop()}},a)}));return function(){return r.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(WR);function sK(e,t){return rk.apply(this,arguments)}function rk(){return(rk=b(_().mark(function e(t,n){var r,i,a;return _().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return r=QR(n),i=KR(t),o.next=4,i._isAvailable();case 4:if(o.sent){o.next=6;break}return o.abrupt("return",!1);case 6:return o.next=8,i._get(r);case 8:return o.t0=o.sent,a="true"===o.t0,o.next=12,i._remove(r);case 12:return o.abrupt("return",a);case 13:case"end":return o.stop()}},e)}))).apply(this,arguments)}function KR(e){return Ui(e._redirectPersistence)}function QR(e){return Xh("pendingRedirect",e.config.apiKey,e.name)}function YR(e,t){return ck.apply(this,arguments)}function ck(){return(ck=b(_().mark(function e(t,n){var r,i,a,s,o,u=arguments;return _().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=br(t),a=Es(i,n),s=new aK(i,a,r),c.next=6,s.execute();case 6:if(!(o=c.sent)||r){c.next=13;break}return delete o.user._redirectEventId,c.next=11,i._persistUserIfCurrent(o.user);case 11:return c.next=13,i._setRedirectUser(null,n);case 13:return c.abrupt("return",o);case 14:case"end":return c.stop()}},e)}))).apply(this,arguments)}var fK=function(){function e(t){m(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return g(e,[{key:"registerConsumer",value:function(n){this.consumers.add(n),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,n)&&(this.sendToConsumer(this.queuedRedirectEvent,n),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(n){this.consumers.delete(n)}},{key:"onEvent",value:function(n){var r=this;if(this.hasEventBeenHandled(n))return!1;var i=!1;return this.consumers.forEach(function(a){r.isEventForConsumer(n,a)&&(i=!0,r.sendToConsumer(n,a),r.saveEventToCache(n))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZR(e);default:return!1}}(n)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=n,i=!0)),i}},{key:"sendToConsumer",value:function(n,r){var i;if(n.error&&!ZR(n)){var a=(null===(i=n.error.code)||void 0===i?void 0:i.split("auth/")[1])||"internal-error";r.onError(gi(this.auth,a))}else r.onAuthEvent(n)}},{key:"isEventForConsumer",value:function(n,r){var i=null===r.eventId||!!n.eventId&&n.eventId===r.eventId;return r.filter.includes(n.type)&&i}},{key:"hasEventBeenHandled",value:function(n){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(XR(n))}},{key:"saveEventToCache",value:function(n){this.cachedEventUids.add(XR(n)),this.lastProcessedEventTime=Date.now()}}]),e}();function XR(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(function(t){return t}).join("-")}function ZR(e){var n=e.error;return"unknown"===e.type&&(null==n?void 0:n.code)==="auth/".concat("no-auth-event")}function dK(e){return hk.apply(this,arguments)}function hk(){return(hk=b(_().mark(function e(t){var r=arguments;return _().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Ht(t,"GET","/v1/projects",r.length>1&&void 0!==r[1]?r[1]:{}));case 2:case"end":return a.stop()}},e)}))).apply(this,arguments)}var pK=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vK=/^https?/;function dk(){return(dk=b(_().mark(function e(t){var i,a,s;return _().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!t.config.emulator){u.next=2;break}return u.abrupt("return");case 2:return u.next=4,dK(t);case 4:i=W(u.sent.authorizedDomains),u.prev=7,i.s();case 9:if((a=i.n()).done){u.next=20;break}if(s=a.value,u.prev=11,!mK(s)){u.next=14;break}return u.abrupt("return");case 14:u.next=18;break;case 16:u.prev=16,u.t0=u.catch(11);case 18:u.next=9;break;case 20:u.next=25;break;case 22:u.prev=22,u.t1=u.catch(7),i.e(u.t1);case 25:return u.prev=25,i.f(),u.finish(25);case 28:wr(t,"unauthorized-domain");case 29:case"end":return u.stop()}},e,null,[[7,22,25,28],[11,16]])}))).apply(this,arguments)}function mK(e){var t=Yl(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!vK.test(r))return!1;if(pK.test(e))return i===e;var s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}var yK=new Jl(3e4,6e4);function eN(){var e=mi().___jsl;if(null==e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=ye(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var ud=null;function kK(e){return ud=ud||function(e){return new Promise(function(t,n){var r,i,a;function s(){eN(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){eN(),n(gi(e,"network-request-failed"))},timeout:yK.get()})}if(null===(i=null===(r=mi().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=mi().gapi)||void 0===a?void 0:a.load)){var o=$R("iframefcb");return mi()[o]=function(){gapi.load?s():n(gi(e,"network-request-failed"))},function(e){return new Promise(function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(i){var a=gi("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})}("https://apis.google.com/js/api.js?onload=".concat(o)).catch(function(u){return n(u)})}s()}}).catch(function(t){throw ud=null,t})}(e)}var wK=new Jl(5e3,15e3),EK={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IK=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TK(e){var t=e.config;X(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Ty(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:zl},i=IK.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Hl(r).slice(1))}function DK(e){return pk.apply(this,arguments)}function pk(){return(pk=b(_().mark(function e(t){var n,r;return _().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,kK(t);case 2:return n=a.sent,X(r=mi().gapi,t,"internal-error"),a.abrupt("return",n.open({where:document.body,url:TK(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EK,dontclear:!0},function(s){return new Promise(function(){var o=b(_().mark(function u(l,c){var f,h,d;return _().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return d=function(){mi().clearTimeout(h),l(s)},v.next=3,s.restyle({setHideOnLeave:!1});case 3:f=gi(t,"network-request-failed"),h=mi().setTimeout(function(){c(f)},wK.get()),s.ping(d).then(d,function(){c(f)});case 6:case"end":return v.stop()}},u)}));return function(u,l){return o.apply(this,arguments)}}())}));case 6:case"end":return a.stop()}},e)}))).apply(this,arguments)}var SK={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MK="http://localhost",tN=function(){function e(t){m(this,e),this.window=t,this.associatedEvent=null}return g(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(n){}}}]),e}();function PK(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),o="",u=Object.assign(Object.assign({},SK),{width:r.toString(),height:i.toString(),top:a,left:s}),l=jt().toLowerCase();n&&(o=mR(l)?"_blank":n),gR(l)&&(t=t||MK,u.scrollbars="yes");var c=Object.entries(u).reduce(function(h,d){var p=Ge(d,2),v=p[0],y=p[1];return"".concat(h).concat(v,"=").concat(y,",")},"");if(UW(l)&&"_self"!==o)return OK(t||"",o),new tN(null);var f=window.open(t||"",o,c);X(f,e,"popup-blocked");try{f.focus()}catch(h){}return new tN(f)}function OK(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}function nN(e,t,n,r,i,a){X(e.config.authDomain,e,"auth-domain-config-required"),X(e.config.apiKey,e,"invalid-api-key");var s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:zl,eventId:i};if(t instanceof wa){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(var o=0,u=Object.entries(a||{});o<u.length;o++){var l=Ge(u[o],2);s[l[0]]=l[1]}}if(t instanceof s_){var h=t.getScopes().filter(function(k){return""!==k});h.length>0&&(s.scopes=h.join(","))}e.tenantId&&(s.tid=e.tenantId);for(var d=s,p=0,v=Object.keys(d);p<v.length;p++){var y=v[p];void 0===d[y]&&delete d[y]}return"".concat(function(e){var t=e.config;return t.emulator?Ty(t,"emulator/auth/handler"):"https://".concat(t.authDomain,"/").concat("__/auth/handler")}(e),"?").concat(Hl(d).slice(1))}var vk="webStorageSupport",UK=function(){function e(){m(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UR,this._completeRedirectFn=YR}return g(e,[{key:"_openPopup",value:(t=b(_().mark(function r(i,a,s,o){var u,l;return _().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return Vi(null===(u=this.eventManagers[i._key()])||void 0===u?void 0:u.manager,"_initialize() not called before _openPopup()"),l=nN(i,a,s,Yl(),o),f.abrupt("return",PK(i,l,id()));case 3:case"end":return f.stop()}},r,this)})),function(r,i,a,s){return t.apply(this,arguments)})},{key:"_openRedirect",value:function(){var t=b(_().mark(function r(i,a,s,o){return _().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this._originValidation(i);case 2:return Uz(nN(i,a,s,Yl(),o)),l.abrupt("return",new Promise(function(){}));case 4:case"end":return l.stop()}},r,this)}));return function(r,i,a,s){return t.apply(this,arguments)}}()},{key:"_initialize",value:function(n){var r=this,i=n._key();if(this.eventManagers[i]){var a=this.eventManagers[i],s=a.manager,o=a.promise;return s?Promise.resolve(s):(Vi(o,"If manager is not set, promise should be"),o)}var u=this.initAndGetManager(n);return this.eventManagers[i]={promise:u},u.catch(function(){delete r.eventManagers[i]}),u}},{key:"initAndGetManager",value:function(){var t=b(_().mark(function r(i){var a,s;return _().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,DK(i);case 2:return a=u.sent,s=new fK(i),a.register("authEvent",function(l){return X(null==l?void 0:l.authEvent,i,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[i._key()]={manager:s},this.iframes[i._key()]=a,u.abrupt("return",s);case 8:case"end":return u.stop()}},r,this)}));return function(r){return t.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(n,r){this.iframes[n._key()].send(vk,{type:vk},function(a){var s,o=null===(s=null==a?void 0:a[0])||void 0===s?void 0:s[vk];void 0!==o&&r(!!o),wr(n,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(n){var r=n._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=function(e){return dk.apply(this,arguments)}(n)),this.originValidationPromises[r]}},{key:"_shouldInitProactively",get:function(){return bR()||By()||Zh()}}]),e;var t}(),rN="@firebase/auth",iN="0.19.11",BK=function(){function e(t){m(this,e),this.auth=t,this.internalListeners=new Map}return g(e,[{key:"getUid",value:function(){var n;return this.assertAuthConfigured(),(null===(n=this.auth.currentUser)||void 0===n?void 0:n.uid)||null}},{key:"getToken",value:(t=b(_().mark(function r(i){return _().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this.assertAuthConfigured(),o.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){o.next=5;break}return o.abrupt("return",null);case 5:return o.next=7,this.auth.currentUser.getIdToken(i);case 7:return o.abrupt("return",{accessToken:o.sent});case 9:case"end":return o.stop()}},r,this)})),function(r){return t.apply(this,arguments)})},{key:"addAuthTokenListener",value:function(n){if(this.assertAuthConfigured(),!this.internalListeners.has(n)){var r=this.auth.onIdTokenChanged(function(i){var a;n((null===(a=i)||void 0===a?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(n,r),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(n){this.assertAuthConfigured();var r=this.internalListeners.get(n);!r||(this.internalListeners.delete(n),r(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e;var t}();!function(e){Jn(new xn("auth",function(t,n){var r=n.options,i=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),s=i.options,o=s.apiKey,u=s.authDomain;return function(l,c){X(o&&!o.includes(":"),"invalid-api-key",{appName:l.name}),X(!(null==u?void 0:u.includes(":")),"argument-error",{appName:l.name});var f={apiKey:o,authDomain:u,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CR(e)},h=new HW(l,c,f);return function(e,t){var n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ui);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(h,r),h}(i,a)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(t,n,r){t.getProvider("auth-internal").initialize()})),Jn(new xn("auth-internal",function(t){var n=br(t.getProvider("auth").getImmediate());return new BK(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Tn(rN,iN,void 0),Tn(rN,iN,"esm2017")}("Browser");var ba,aN="@firebase/installations",gk="0.5.7",oN="w:".concat(gk),uN="FIS_v2",KK=(A(ba={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),A(ba,"not-registered","Firebase Installation is not registered."),A(ba,"installation-not-found","Firebase Installation not found."),A(ba,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),A(ba,"app-offline","Could not process request. Application offline."),A(ba,"delete-pending-registration","Can't delete installation while there is a pending registration request."),ba),ji=new ya("installations","Installations",KK);function lN(e){return e instanceof ma&&e.code.includes("request-failed")}function mk(e){var t=e.projectId;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function cN(e){return{token:e.token,requestStatus:2,expiresIn:QK(e.expiresIn),creationTime:Date.now()}}function yk(e,t){return _k.apply(this,arguments)}function _k(){return(_k=b(L.mark(function e(t,n){var i;return L.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,n.json();case 2:return s.abrupt("return",ji.create("request-failed",{requestName:t,serverCode:(i=s.sent.error).code,serverMessage:i.message,serverStatus:i.status}));case 5:case"end":return s.stop()}},e)}))).apply(this,arguments)}function fN(e){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey})}function hN(e,t){var n=t.refreshToken,r=fN(e);return r.append("Authorization",function(e){return"".concat(uN," ").concat(e)}(n)),r}function kk(e){return wk.apply(this,arguments)}function wk(){return(wk=b(L.mark(function e(t){var n;return L.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t();case 2:if(!((n=i.sent).status>=500&&n.status<600)){i.next=5;break}return i.abrupt("return",t());case 5:return i.abrupt("return",n);case 6:case"end":return i.stop()}},e)}))).apply(this,arguments)}function QK(e){return Number(e.replace("s","000"))}function JK(e,t){return bk.apply(this,arguments)}function bk(){return(bk=b(L.mark(function e(t,n){var r,i,a,s,o,u,l,f,h,d,p;return L.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(i=t.heartbeatServiceProvider,a=n.fid,s=mk(r=t.appConfig),o=fN(r),!(u=i.getImmediate({optional:!0}))){y.next=10;break}return y.next=8,u.getHeartbeatsHeader();case 8:(l=y.sent)&&o.append("x-firebase-client",l);case 10:return f={method:"POST",headers:o,body:JSON.stringify({fid:a,authVersion:uN,appId:r.appId,sdkVersion:oN})},y.next=14,kk(function(){return fetch(s,f)});case 14:if(!(h=y.sent).ok){y.next=23;break}return y.next=18,h.json();case 18:return p={fid:(d=y.sent).fid||a,registrationStatus:2,refreshToken:d.refreshToken,authToken:cN(d.authToken)},y.abrupt("return",p);case 23:return y.next=25,yk("Create Installation",h);case 25:throw y.sent;case 26:case"end":return y.stop()}},e)}))).apply(this,arguments)}function dN(e){return new Promise(function(t){setTimeout(t,e)})}var ZK=/^[cdef][\w-]{21}$/;function e9(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var n=function(e){return function(e){return btoa(String.fromCharCode.apply(String,ye(e))).replace(/\+/g,"-").replace(/\//g,"_")}(e).substr(0,22)}(e);return ZK.test(n)?n:""}catch(r){return""}}function Bo(e){return"".concat(e.appName,"!").concat(e.appId)}var jo=new Map;function pN(e,t){var n=Bo(e);vN(n,t),function(e,t){var n=(!Is&&"BroadcastChannel"in self&&((Is=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){vN(e.data.key,e.data.fid)}),Is);n&&n.postMessage({key:e,fid:t}),0===jo.size&&Is&&(Is.close(),Is=null)}(n,t)}function vN(e,t){var n=jo.get(e);if(n){var i,r=W(n);try{for(r.s();!(i=r.n()).done;)(0,i.value)(t)}catch(s){r.e(s)}finally{r.f()}}}var Is=null;var Ts="firebase-installations-store",Ek=null;function Ik(){return Ek||(Ek=QA("firebase-installations-database",1,function(e,t){switch(t){case 0:e.createObjectStore(Ts)}})),Ek}function ld(e,t){return Tk.apply(this,arguments)}function Tk(){return(Tk=b(L.mark(function e(t,n){var r,a,s,o;return L.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return r=Bo(t),l.next=3,Ik();case 3:return a=l.sent.transaction(Ts,"readwrite"),s=a.objectStore(Ts),l.next=8,s.get(r);case 8:return o=l.sent,l.next=11,s.put(n,r);case 11:return l.next=13,a.complete;case 13:return(!o||o.fid!==n.fid)&&pN(t,n.fid),l.abrupt("return",n);case 15:case"end":return l.stop()}},e)}))).apply(this,arguments)}function Dk(e){return Sk.apply(this,arguments)}function Sk(){return(Sk=b(L.mark(function e(t){var n,i;return L.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return n=Bo(t),s.next=3,Ik();case 3:return i=s.sent.transaction(Ts,"readwrite"),s.next=7,i.objectStore(Ts).delete(n);case 7:return s.next=9,i.complete;case 9:case"end":return s.stop()}},e)}))).apply(this,arguments)}function tc(e,t){return Ak.apply(this,arguments)}function Ak(){return(Ak=b(L.mark(function e(t,n){var r,a,s,o,u;return L.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return r=Bo(t),c.next=3,Ik();case 3:return a=c.sent.transaction(Ts,"readwrite"),s=a.objectStore(Ts),c.next=8,s.get(r);case 8:if(void 0!==(u=n(o=c.sent))){c.next=15;break}return c.next=13,s.delete(r);case 13:c.next=17;break;case 15:return c.next=17,s.put(u,r);case 17:return c.next=19,a.complete;case 19:return u&&(!o||o.fid!==u.fid)&&pN(t,u.fid),c.abrupt("return",u);case 21:case"end":return c.stop()}},e)}))).apply(this,arguments)}function Rk(e){return Nk.apply(this,arguments)}function Nk(){return(Nk=b(L.mark(function e(t){var n,r;return L.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,tc(t.appConfig,function(s){var o=o9(s),u=u9(t,o);return n=u.registrationPromise,u.installationEntry});case 2:if(""!==(r=a.sent).fid){a.next=8;break}return a.next=6,n;case 6:return a.t0=a.sent,a.abrupt("return",{installationEntry:a.t0});case 8:return a.abrupt("return",{installationEntry:r,registrationPromise:n});case 9:case"end":return a.stop()}},e)}))).apply(this,arguments)}function o9(e){return _N(e||{fid:e9(),registrationStatus:0})}function u9(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(ji.create("app-offline"))};var r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:r,registrationPromise:function(e,t){return Mk.apply(this,arguments)}(e,r)}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:c9(e)}:{installationEntry:t}}function Mk(){return(Mk=b(L.mark(function e(t,n){return L.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,JK(t,n);case 3:return a.abrupt("return",ld(t.appConfig,a.sent));case 7:if(a.prev=7,a.t0=a.catch(0),!lN(a.t0)||409!==a.t0.customData.serverCode){a.next=14;break}return a.next=12,Dk(t.appConfig);case 12:a.next=16;break;case 14:return a.next=16,ld(t.appConfig,{fid:n.fid,registrationStatus:0});case 16:throw a.t0;case 17:case"end":return a.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}function c9(e){return Pk.apply(this,arguments)}function Pk(){return(Pk=b(L.mark(function e(t){var n,r,i,a;return L.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,yN(t.appConfig);case 2:n=o.sent;case 3:if(1!==n.registrationStatus){o.next=11;break}return o.next=6,dN(100);case 6:return o.next=8,yN(t.appConfig);case 8:n=o.sent,o.next=3;break;case 11:if(0!==n.registrationStatus){o.next=22;break}return o.next=14,Rk(t);case 14:if(i=(r=o.sent).installationEntry,!(a=r.registrationPromise)){o.next=21;break}return o.abrupt("return",a);case 21:return o.abrupt("return",i);case 22:return o.abrupt("return",n);case 23:case"end":return o.stop()}},e)}))).apply(this,arguments)}function yN(e){return tc(e,function(t){if(!t)throw ji.create("installation-not-found");return _N(t)})}function _N(e){return function(e){return 1===e.registrationStatus&&e.registrationTime+1e4<Date.now()}(e)?{fid:e.fid,registrationStatus:0}:e}function h9(e,t){return Ok.apply(this,arguments)}function Ok(){return(Ok=b(L.mark(function e(t,n){var r,i,a,s,o,u,c,f,d;return L.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(i=t.heartbeatServiceProvider,a=d9(r=t.appConfig,n),s=hN(r,n),!(o=i.getImmediate({optional:!0}))){v.next=9;break}return v.next=7,o.getHeartbeatsHeader();case 7:(u=v.sent)&&s.append("x-firebase-client",u);case 9:return c={method:"POST",headers:s,body:JSON.stringify({installation:{sdkVersion:oN,appId:r.appId}})},v.next=13,kk(function(){return fetch(a,c)});case 13:if(!(f=v.sent).ok){v.next=22;break}return v.next=17,f.json();case 17:return d=cN(v.sent),v.abrupt("return",d);case 22:return v.next=24,yk("Generate Auth Token",f);case 24:throw v.sent;case 25:case"end":return v.stop()}},e)}))).apply(this,arguments)}function d9(e,t){var n=t.fid;return"".concat(mk(e),"/").concat(n,"/authTokens:generate")}function Fk(e){return xk.apply(this,arguments)}function xk(){return(xk=b(L.mark(function e(t){var n,r,i,s=arguments;return L.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],u.next=3,tc(t.appConfig,function(l){if(!wN(l))throw ji.create("not-registered");var c=l.authToken;if(!n&&g9(c))return l;if(1===c.requestStatus)return r=p9(t,n),l;if(!navigator.onLine)throw ji.create("app-offline");var f=y9(l);return r=v9(t,f),f});case 3:if(i=u.sent,!r){u.next=10;break}return u.next=7,r;case 7:u.t0=u.sent,u.next=11;break;case 10:u.t0=i.authToken;case 11:return u.abrupt("return",u.t0);case 13:case"end":return u.stop()}},e)}))).apply(this,arguments)}function p9(e,t){return Lk.apply(this,arguments)}function Lk(){return(Lk=b(L.mark(function e(t,n){var r,i;return L.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,kN(t.appConfig);case 2:r=s.sent;case 3:if(1!==r.authToken.requestStatus){s.next=11;break}return s.next=6,dN(100);case 6:return s.next=8,kN(t.appConfig);case 8:r=s.sent,s.next=3;break;case 11:if(0!==(i=r.authToken).requestStatus){s.next=16;break}return s.abrupt("return",Fk(t,n));case 16:return s.abrupt("return",i);case 17:case"end":return s.stop()}},e)}))).apply(this,arguments)}function kN(e){return tc(e,function(t){if(!wN(t))throw ji.create("not-registered");return function(e){return 1===e.requestStatus&&e.requestTime+1e4<Date.now()}(t.authToken)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}function v9(e,t){return Vk.apply(this,arguments)}function Vk(){return(Vk=b(L.mark(function e(t,n){var r,i,a;return L.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,h9(t,n);case 3:return r=o.sent,i=Object.assign(Object.assign({},n),{authToken:r}),o.next=7,ld(t.appConfig,i);case 7:return o.abrupt("return",r);case 10:if(o.prev=10,o.t0=o.catch(0),!lN(o.t0)||401!==o.t0.customData.serverCode&&404!==o.t0.customData.serverCode){o.next=17;break}return o.next=15,Dk(t.appConfig);case 15:o.next=20;break;case 17:return a=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),o.next=20,ld(t.appConfig,a);case 20:throw o.t0;case 21:case"end":return o.stop()}},e,null,[[0,10]])}))).apply(this,arguments)}function wN(e){return void 0!==e&&2===e.registrationStatus}function g9(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(e)}function y9(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function Uk(){return(Uk=b(L.mark(function e(t){var n,r,i,a;return L.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return n=t,o.next=3,Rk(n);case 3:return i=(r=o.sent).installationEntry,(a=r.registrationPromise)?a.catch(console.error):Fk(n).catch(console.error),o.abrupt("return",i.fid);case 8:case"end":return o.stop()}},e)}))).apply(this,arguments)}function Bk(){return(Bk=b(L.mark(function e(t){var n,r,a=arguments;return L.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],r=t,o.next=4,b9(r);case 4:return o.next=6,Fk(r,n);case 6:return o.abrupt("return",o.sent.token);case 8:case"end":return o.stop()}},e)}))).apply(this,arguments)}function b9(e){return jk.apply(this,arguments)}function jk(){return(jk=b(L.mark(function e(t){var r;return L.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Rk(t);case 2:if(!(r=a.sent.registrationPromise)){a.next=7;break}return a.next=7,r;case 7:case"end":return a.stop()}},e)}))).apply(this,arguments)}function qk(e){return ji.create("missing-app-config-values",{valueName:e})}var Cr,bN="installations";Jn(new xn(bN,function(t){var n=t.getProvider("app").getImmediate(),r=function(e){if(!e||!e.options)throw qk("App Configuration");if(!e.name)throw qk("App Name");for(var n=0,r=["projectId","apiKey","appId"];n<r.length;n++){var i=r[n];if(!e.options[i])throw qk(i)}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(n);return{app:n,appConfig:r,heartbeatServiceProvider:Yr(n,"heartbeat"),_delete:function(){return Promise.resolve()}}},"PUBLIC")),Jn(new xn("installations-internal",function(t){var r=Yr(t.getProvider("app").getImmediate(),bN).getImmediate();return{getId:function(){return function(e){return Uk.apply(this,arguments)}(r)},getToken:function(s){return function(e){return Bk.apply(this,arguments)}(r,s)}}},"PRIVATE")),Tn(aN,gk),Tn(aN,gk,"esm2017");var cd="analytics",R9="firebase_id",M9=6e4,P9="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",CN="https://www.googletagmanager.com/gtag/js",Yt=new Wl("@firebase/analytics");function EN(e){return Promise.all(e.map(function(t){return t.catch(function(n){return n})}))}function O9(e,t){var n=document.createElement("script");n.src="".concat(CN,"?l=").concat(e,"&id=").concat(t),n.async=!0,document.head.appendChild(n)}function x9(e,t,n,r,i,a){return $k.apply(this,arguments)}function $k(){return($k=b(L.mark(function e(t,n,r,i,a,s){var o,l;return L.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(o=i[a],f.prev=1,!o){f.next=7;break}return f.next=5,n[o];case 5:f.next=14;break;case 7:return f.next=9,EN(r);case 9:if(!(l=f.sent.find(function(h){return h.measurementId===a}))){f.next=14;break}return f.next=14,n[l.appId];case 14:f.next=19;break;case 16:f.prev=16,f.t0=f.catch(1),Yt.error(f.t0);case 19:t("config",a,s);case 20:case"end":return f.stop()}},e,null,[[1,16]])}))).apply(this,arguments)}function L9(e,t,n,r,i){return Wk.apply(this,arguments)}function Wk(){return(Wk=b(L.mark(function e(t,n,r,i,a){var s,o,u,l,c,f;return L.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(p.prev=0,s=[],!a||!a.send_to){p.next=26;break}return o=a.send_to,Array.isArray(o)||(o=[o]),p.next=7,EN(r);case 7:u=p.sent,l=W(o),p.prev=9,f=function(){var y=c.value,k=u.find(function(C){return C.measurementId===y}),w=k&&n[k.appId];if(!w)return s=[],"break";s.push(w)},l.s();case 12:if((c=l.n()).done){p.next=18;break}if("break"!==f()){p.next=16;break}return p.abrupt("break",18);case 16:p.next=12;break;case 18:p.next=23;break;case 20:p.prev=20,p.t0=p.catch(9),l.e(p.t0);case 23:return p.prev=23,l.f(),p.finish(23);case 26:return 0===s.length&&(s=Object.values(n)),p.next=29,Promise.all(s);case 29:t("event",i,a||{}),p.next=35;break;case 32:p.prev=32,p.t1=p.catch(0),Yt.error(p.t1);case 35:case"end":return p.stop()}},e,null,[[0,32],[9,20,23,26]])}))).apply(this,arguments)}function B9(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(CN))return r}return null}var j9=(A(Cr={},"already-exists","A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId."),A(Cr,"already-initialized","initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance."),A(Cr,"already-initialized-settings","Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect."),A(Cr,"interop-component-reg-failed","Firebase Analytics Interop Component failed to instantiate: {$reason}"),A(Cr,"invalid-analytics-context","Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),A(Cr,"indexeddb-unavailable","IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),A(Cr,"fetch-throttle","The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}."),A(Cr,"config-fetch-failed","Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}"),A(Cr,"no-api-key",'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.'),A(Cr,"no-app-id",'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'),Cr),Xn=new ya("analytics","Analytics",j9),IN=new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;m(this,e),this.throttleMetadata=t,this.intervalMillis=n}return g(e,[{key:"getThrottleMetadata",value:function(n){return this.throttleMetadata[n]}},{key:"setThrottleMetadata",value:function(n,r){this.throttleMetadata[n]=r}},{key:"deleteThrottleMetadata",value:function(n){delete this.throttleMetadata[n]}}]),e}());function $9(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function W9(e){return zk.apply(this,arguments)}function zk(){return(zk=b(L.mark(function e(t){var n,r,a,s,o,u,l;return L.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return r=t.appId,a={method:"GET",headers:$9(t.apiKey)},s=P9.replace("{app-id}",r),f.next=5,fetch(s,a);case 5:if(200===(o=f.sent).status||304===o.status){f.next=18;break}return u="",f.prev=8,f.next=11,o.json();case 11:(null===(n=(l=f.sent).error)||void 0===n?void 0:n.message)&&(u=l.error.message),f.next=17;break;case 15:f.prev=15,f.t0=f.catch(8);case 17:throw Xn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:u});case 18:return f.abrupt("return",o.json());case 19:case"end":return f.stop()}},e,null,[[8,15]])}))).apply(this,arguments)}function z9(e){return Kk.apply(this,arguments)}function Kk(){return(Kk=b(L.mark(function e(t){var n,r,i,a,s,o,u,l,c=arguments;return L.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(n=c.length>1&&void 0!==c[1]?c[1]:IN,r=c.length>2?c[2]:void 0,s=(i=t.options).apiKey,o=i.measurementId,a=i.appId){h.next=5;break}throw Xn.create("no-app-id");case 5:if(s){h.next=9;break}if(!o){h.next=8;break}return h.abrupt("return",{measurementId:o,appId:a});case 8:throw Xn.create("no-api-key");case 9:return u=n.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new Y9,setTimeout(b(L.mark(function d(){return L.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:l.abort();case 1:case"end":return v.stop()}},d)})),void 0!==r?r:M9),h.abrupt("return",TN({appId:a,apiKey:s,measurementId:o},u,l,n));case 13:case"end":return h.stop()}},e)}))).apply(this,arguments)}function TN(e,t,n){return Qk.apply(this,arguments)}function Qk(){return(Qk=b(L.mark(function e(t,n,r){var i,a,s,o,u,l,c,f,h=arguments;return L.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return i=n.throttleEndTimeMillis,a=n.backoffCount,s=h.length>3&&void 0!==h[3]?h[3]:IN,o=t.appId,u=t.measurementId,p.prev=3,p.next=6,K9(r,i);case 6:p.next=14;break;case 8:if(p.prev=8,p.t0=p.catch(3),!u){p.next=13;break}return Yt.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(u)+' provided in the "measurementId" field in the local Firebase config. ['.concat(p.t0.message,"]")),p.abrupt("return",{appId:o,measurementId:u});case 13:throw p.t0;case 14:return p.prev=14,p.next=17,W9(t);case 17:return l=p.sent,s.deleteThrottleMetadata(o),p.abrupt("return",l);case 22:if(p.prev=22,p.t1=p.catch(14),Q9(p.t1)){p.next=32;break}if(s.deleteThrottleMetadata(o),!u){p.next=31;break}return Yt.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(u)+' provided in the "measurementId" field in the local Firebase config. ['.concat(p.t1.message,"]")),p.abrupt("return",{appId:o,measurementId:u});case 31:throw p.t1;case 32:return c=503===Number(p.t1.customData.httpStatus)?dy(a,s.intervalMillis,30):dy(a,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+c,backoffCount:a+1},s.setThrottleMetadata(o,f),Yt.debug("Calling attemptFetch again in ".concat(c," millis")),p.abrupt("return",TN(t,f,r,s));case 37:case"end":return p.stop()}},e,null,[[3,8],[14,22]])}))).apply(this,arguments)}function K9(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener(function(){clearTimeout(a),r(Xn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function Q9(e){if(!(e instanceof ma&&e.customData))return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}var Y9=function(){function e(){m(this,e),this.listeners=[]}return g(e,[{key:"addEventListener",value:function(n){this.listeners.push(n)}},{key:"abort",value:function(){this.listeners.forEach(function(n){return n()})}}]),e}();function J9(){return Yk.apply(this,arguments)}function Yk(){return(Yk=b(L.mark(function e(){return L.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(Wh()){n.next=5;break}return Yt.warn(Xn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),n.abrupt("return",!1);case 5:return n.prev=5,n.next=8,HA();case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(5),Yt.warn(Xn.create("indexeddb-unavailable",{errorInfo:n.t0}).message),n.abrupt("return",!1);case 14:return n.abrupt("return",!0);case 15:case"end":return n.stop()}},e,null,[[5,10]])}))).apply(this,arguments)}function Jk(){return(Jk=b(L.mark(function e(t,n,r,i,a,s,o){var u,l,c,h,d,p,v;return L.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return(l=z9(t)).then(function(w){r[w.measurementId]=w.appId,t.options.measurementId&&w.measurementId!==t.options.measurementId&&Yt.warn("The measurement ID in the local Firebase config (".concat(t.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(w.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(w){return Yt.error(w)}),n.push(l),c=J9().then(function(w){if(w)return i.getId()}),k.next=6,Promise.all([l,c]);case 6:return h=Ge(k.sent,2),d=h[0],p=h[1],B9()||O9(s,d.measurementId),a("js",new Date),(v=null!==(u=null==o?void 0:o.config)&&void 0!==u?u:{}).origin="firebase",v.update=!0,null!=p&&(v[R9]=p),a("config",d.measurementId,v),k.abrupt("return",d.measurementId);case 18:case"end":return k.stop()}},e)}))).apply(this,arguments)}var RN,nc,Z9=function(){function e(t){m(this,e),this.app=t}return g(e,[{key:"_delete",value:function(){return delete Hi[this.app.options.appId],Promise.resolve()}}]),e}(),Hi={},DN=[],SN={},fd="dataLayer",Xk=!1;function tQ(e,t,n){!function(){var e=[];if(cy()&&e.push("This is a browser extension environment."),!("undefined"==typeof navigator||!navigator.cookieEnabled)||e.push("Cookies are not available."),e.length>0){var t=e.map(function(r,i){return"(".concat(i+1,") ").concat(r)}).join(" "),n=Xn.create("invalid-analytics-context",{errorInfo:t});Yt.warn(n.message)}}();var r=e.options.appId;if(!r)throw Xn.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Xn.create("no-api-key");Yt.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Hi[r])throw Xn.create("already-exists",{id:r});if(!Xk){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(fd);var i=function(e,t,n,r,i){var a=function(){for(var o=arguments.length,u=new Array(o),l=0;l<o;l++)u[l]=arguments[l];window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(a=window[i]),window[i]=function(e,t,n,r){function a(){return(a=b(L.mark(function s(o,u,l){return L.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(f.prev=0,"event"!==o){f.next=6;break}return f.next=4,L9(e,t,n,u,l);case 4:f.next=12;break;case 6:if("config"!==o){f.next=11;break}return f.next=9,x9(e,t,n,r,u,l);case 9:f.next=12;break;case 11:e("set",u);case 12:f.next=17;break;case 14:f.prev=14,f.t0=f.catch(0),Yt.error(f.t0);case 17:case"end":return f.stop()}},s,null,[[0,14]])}))).apply(this,arguments)}return function(s,o,u){return a.apply(this,arguments)}}(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}(Hi,DN,SN,fd,"gtag");nc=i.wrappedGtag,RN=i.gtagCore,Xk=!0}return Hi[r]=function(e,t,n,r,i,a,s){return Jk.apply(this,arguments)}(e,DN,SN,t,RN,fd,n),new Z9(e)}function Zk(){return(Zk=b(L.mark(function e(t,n,r,i,a){var s,o;return L.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!a||!a.global){l.next=5;break}return t("event",r,i),l.abrupt("return");case 5:return l.next=7,n;case 7:s=l.sent,o=Object.assign(Object.assign({},i),{send_to:s}),t("event",r,o);case 10:case"end":return l.stop()}},e)}))).apply(this,arguments)}function tw(){return(tw=b(L.mark(function e(t,n,r,i){return L.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!i||!i.global){o.next=5;break}return t("set",{user_id:r}),o.abrupt("return",Promise.resolve());case 5:return o.next=7,n;case 7:t("config",o.sent,{update:!0,user_id:r});case 9:case"end":return o.stop()}},e)}))).apply(this,arguments)}function nw(){return(nw=b(L.mark(function e(t,n,r,i){var a,s,o,u;return L.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(!i||!i.global){f.next=7;break}for(a={},s=0,o=Object.keys(r);s<o.length;s++)a["user_properties.".concat(u=o[s])]=r[u];return t("set",a),f.abrupt("return",Promise.resolve());case 7:return f.next=9,n;case 9:t("config",f.sent,{update:!0,user_properties:r});case 11:case"end":return f.stop()}},e)}))).apply(this,arguments)}function iw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kl(),t=Yr(e=Ot(e),cd);return t.isInitialized()?t.getImmediate():NN(e)}function NN(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Yr(e,cd);if(n.isInitialized()){var r=n.getImmediate();if(jl(t,n.getOptions()))return r;throw Xn.create("already-initialized")}var i=n.initialize({options:t});return i}function Ho(e,t,n,r){e=Ot(e),function(e,t,n,r,i){return Zk.apply(this,arguments)}(nc,Hi[e.app.options.appId],t,n,r).catch(function(i){return Yt.error(i)})}var MN="@firebase/analytics";Jn(new xn(cd,function(t,n){var r=n.options;return tQ(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),r)},"PUBLIC")),Jn(new xn("analytics-internal",function(t){try{var n=t.getProvider(cd).getImmediate();return{logEvent:function(i,a,s){return Ho(n,i,a,s)}}}catch(r){throw Xn.create("interop-component-reg-failed",{reason:r})}},"PRIVATE")),Tn(MN,"0.7.7"),Tn(MN,"0.7.7","esm2017");var Z,cQ="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Gi={},sw=sw||{},de=cQ||self;function hd(){}function ow(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function rc(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var uw="closure_uid_"+(1e9*Math.random()>>>0),hQ=0;function dQ(e,t,n){return e.call.apply(e.bind,arguments)}function pQ(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function Jt(e,t,n){return(Jt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?dQ:pQ).apply(null,arguments)}function dd(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Xt(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(r,i,a){for(var s=Array(arguments.length-2),o=2;o<arguments.length;o++)s[o-2]=arguments[o];return t.prototype[i].apply(r,s)}}function Ca(){this.s=this.s,this.o=this.o}var gQ={};Ca.prototype.s=!1,Ca.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,uw)&&e[uw]||(e[uw]=++hQ)}(this);delete gQ[e]}},Ca.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var ON=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},FN=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function xN(e){return Array.prototype.concat.apply([],arguments)}function lw(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function pd(e){return/^[\s\xa0]*$/.test(e)}var Sn,LN=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Dn(e,t){return-1!=e.indexOf(t)}function cw(e,t){return e<t?-1:e>t?1:0}e:{var VN=de.navigator;if(VN){var UN=VN.userAgent;if(UN){Sn=UN;break e}}Sn=""}function fw(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function BN(e){var t={};for(var n in e)t[n]=e[n];return t}var jN="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function HN(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<jN.length;a++)n=jN[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function hw(e){return hw[" "](e),e}hw[" "]=hd;var vd,_Q=Dn(Sn,"Opera"),Go=Dn(Sn,"Trident")||Dn(Sn,"MSIE"),GN=Dn(Sn,"Edge"),dw=GN||Go,qN=Dn(Sn,"Gecko")&&!(Dn(Sn.toLowerCase(),"webkit")&&!Dn(Sn,"Edge"))&&!(Dn(Sn,"Trident")||Dn(Sn,"MSIE"))&&!Dn(Sn,"Edge"),kQ=Dn(Sn.toLowerCase(),"webkit")&&!Dn(Sn,"Edge");function $N(){var e=de.document;return e?e.documentMode:void 0}e:{var pw="",vw=function(){var e=Sn;return qN?/rv:([^\);]+)(\)|;)/.exec(e):GN?/Edge\/([\d\.]+)/.exec(e):Go?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):kQ?/WebKit\/(\S+)/.exec(e):_Q?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(vw&&(pw=vw?vw[1]:""),Go){var gw=$N();if(null!=gw&&gw>parseFloat(pw)){vd=String(gw);break e}}vd=pw}var wQ={};function bQ(){return t=wQ,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){for(var e=0,t=LN(String(vd)).split("."),n=LN("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",s=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=cw(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||cw(0==a[2].length,0==s[2].length)||cw(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}();var t}var CQ=de.document&&Go&&($N()||parseInt(vd,10))||void 0,EQ=function(){if(!de.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{de.addEventListener("test",hd,t),de.removeEventListener("test",hd,t)}catch(n){}return e}();function ln(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function ic(e,t){if(ln.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(qN){e:{try{hw(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:IQ[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ic.Z.h.call(this)}}ln.prototype.h=function(){this.defaultPrevented=!0},Xt(ic,ln);var IQ={2:"touch",3:"pen",4:"mouse"};ic.prototype.h=function(){ic.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ac="closure_listenable_"+(1e6*Math.random()|0),TQ=0;function DQ(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++TQ,this.ca=this.fa=!1}function gd(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function md(e){this.src=e,this.g={},this.h=0}function yw(e,t){var n=t.type;if(n in e.g){var a,r=e.g[n],i=ON(r,t);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(gd(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function _w(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}md.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var s=_w(e,t,r,i);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new DQ(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var kw="closure_lm_"+(1e6*Math.random()|0),ww={};function zN(e,t,n,r,i){if(r&&r.once)return QN(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)zN(e,t[a],n,r,i);return null}return n=Iw(n),e&&e[ac]?e.N(t,n,rc(r)?!!r.capture:!!r,i):KN(e,t,n,!1,r,i)}function KN(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var s=rc(i)?!!i.capture:!!i,o=Cw(e);if(o||(e[kw]=o=new md(e)),(n=o.add(t,n,r,s,a)).proxy)return n;if(r=function(){var t=AQ;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)EQ||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(JN(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function QN(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)QN(e,t[a],n,r,i);return null}return n=Iw(n),e&&e[ac]?e.O(t,n,rc(r)?!!r.capture:!!r,i):KN(e,t,n,!0,r,i)}function YN(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)YN(e,t[a],n,r,i);else r=rc(r)?!!r.capture:!!r,n=Iw(n),e&&e[ac]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=_w(a=e.g[t],n,r,i))&&(gd(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--))):e&&(e=Cw(e))&&(t=e.g[t.toString()],e=-1,t&&(e=_w(t,n,r,i)),(n=-1<e?t[e]:null)&&bw(n))}function bw(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[ac])yw(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(JN(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Cw(t))?(yw(n,e),0==n.h&&(n.src=null,t[kw]=null)):gd(e)}}}function JN(e){return e in ww?ww[e]:ww[e]="on"+e}function AQ(e,t){if(e.ca)e=!0;else{t=new ic(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&bw(e),e=n.call(r,t)}return e}function Cw(e){return(e=e[kw])instanceof md?e:null}var Ew="__closure_events_fn_"+(1e9*Math.random()>>>0);function Iw(e){return"function"==typeof e?e:(e[Ew]||(e[Ew]=function(t){return e.handleEvent(t)}),e[Ew])}function Gt(){Ca.call(this),this.i=new md(this),this.P=this,this.I=null}function Zt(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new ln(t,e);else if(t instanceof ln)t.target=t.target||e;else{var i=t;HN(t=new ln(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var s=t.g=n[a];i=yd(s,r,!0,t)&&i}if(i=yd(s=t.g=e,r,!0,t)&&i,i=yd(s,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=yd(s=t.g=n[a],r,!1,t)&&i}function yd(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var s=t[a];if(s&&!s.ca&&s.capture==n){var o=s.listener,u=s.ia||s.src;s.fa&&yw(e.i,s),i=!1!==o.call(u,r)&&i}}return i&&!r.defaultPrevented}Xt(Gt,Ca),Gt.prototype[ac]=!0,Gt.prototype.removeEventListener=function(e,t,n,r){YN(this,e,t,n,r)},Gt.prototype.M=function(){if(Gt.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)gd(n[r]);delete e.g[t],e.h--}}this.I=null},Gt.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Gt.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Tw=de.JSON.stringify;function RQ(){var e=ZN,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Sw,NQ=function(){function e(){m(this,e),this.h=this.g=null}return g(e,[{key:"add",value:function(n,r){var i=XN.get();i.set(n,r),this.h?this.h.next=i:this.g=i,this.h=i}}]),e}(),XN=new(function(){function e(t,n){m(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return g(e,[{key:"get",value:function(){var n;return 0<this.h?(this.h--,this.g=(n=this.g).next,n.next=null):n=this.i(),n}}]),e}())(function(){return new MQ},function(e){return e.reset()}),MQ=function(){function e(){m(this,e),this.next=this.g=this.h=null}return g(e,[{key:"set",value:function(n,r){this.h=n,this.g=r,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function PQ(e){de.setTimeout(function(){throw e},0)}function Dw(e,t){Sw||function(){var e=de.Promise.resolve(void 0);Sw=function(){e.then(FQ)}}(),Aw||(Sw(),Aw=!0),ZN.add(e,t)}var Aw=!1,ZN=new NQ;function FQ(){for(var e;e=RQ();){try{e.h.call(e.g)}catch(n){PQ(n)}var t=XN;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Aw=!1}function _d(e,t){Gt.call(this),this.h=e||1,this.g=t||de,this.j=Jt(this.kb,this),this.l=Date.now()}function Rw(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Nw(e,t,n){if("function"==typeof e)n&&(e=Jt(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Jt(e.handleEvent,e)}return 2147483647<Number(t)?-1:de.setTimeout(e,t||0)}function eM(e){e.g=Nw(function(){e.g=null,e.i&&(e.i=!1,eM(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Xt(_d,Gt),(Z=_d.prototype).da=!1,Z.S=null,Z.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Zt(this,"tick"),this.da&&(Rw(this),this.start()))}},Z.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Z.M=function(){_d.Z.M.call(this),Rw(this),delete this.g};var xQ=function(e){D(n,e);var t=S(n);function n(r,i){var a;return m(this,n),(a=t.call(this)).m=r,a.j=i,a.h=null,a.i=!1,a.g=null,a}return g(n,[{key:"l",value:function(i){this.h=arguments,this.g?this.i=!0:eM(this)}},{key:"M",value:function(){ue(oe(n.prototype),"M",this).call(this),this.g&&(de.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Ca);function sc(e){Ca.call(this),this.h=e,this.g={}}Xt(sc,Ca);var tM=[];function nM(e,t,n,r){Array.isArray(n)||(n&&(tM[0]=n.toString()),n=tM);for(var i=0;i<n.length;i++){var a=zN(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function rM(e){fw(e.g,function(t,n){this.g.hasOwnProperty(n)&&bw(t)},e),e.g={}}function kd(){this.g=!0}function qo(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var s=1;s<i.length;s++)i[s]=""}}}return Tw(n)}catch(o){return t}}(e,n)+(r?" "+r:"")})}sc.prototype.M=function(){sc.Z.M.call(this),rM(this)},sc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},kd.prototype.Aa=function(){this.g=!1},kd.prototype.info=function(){};var Ds={},iM=null;function wd(){return iM=iM||new Gt}function aM(e){ln.call(this,Ds.Ma,e)}function oc(e){var t=wd();Zt(t,new aM(t,e))}function sM(e,t){ln.call(this,Ds.STAT_EVENT,e),this.stat=t}function An(e){var t=wd();Zt(t,new sM(t,e))}function oM(e,t){ln.call(this,Ds.Na,e),this.size=t}function uc(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return de.setTimeout(function(){e()},t)}Ds.Ma="serverreachability",Xt(aM,ln),Ds.STAT_EVENT="statevent",Xt(sM,ln),Ds.Na="timingevent",Xt(oM,ln);var bd={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},uM={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Mw(){}function cM(){}Mw.prototype.h=null;var Fw,lc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Pw(){ln.call(this,"d")}function Ow(){ln.call(this,"c")}function Cd(){}function cc(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new sc(this),this.P=jQ,this.W=new _d(e=dw?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new fM}function fM(){this.i=null,this.g="",this.h=!1}Xt(Pw,ln),Xt(Ow,ln),Xt(Cd,Mw),Cd.prototype.g=function(){return new XMLHttpRequest},Cd.prototype.i=function(){return{}},Fw=new Cd;var jQ=45e3,xw={},Ed={};function Lw(e,t,n){e.K=1,e.v=Ad(qi(t)),e.s=n,e.U=!0,hM(e,null)}function hM(e,t){e.F=Date.now(),fc(e),e.A=qi(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),wM(n.h,"t",r),e.C=0,n=e.l.H,e.h=new fM,e.g=qM(e.l,n?t:null,!e.s),0<e.O&&(e.L=new xQ(Jt(e.Ia,e,e.g),e.O)),nM(e.V,e.g,"readystatechange",e.gb),t=e.H?BN(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),oc(1),function(e,t,n,r,i,a){e.info(function(){if(e.g)if(a)for(var s="",o=a.split("&"),u=0;u<o.length;u++){var l=o[u].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");s=2<=f.length&&"type"==f[1]?s+(c+"=")+l+"&":s+(c+"=redacted&")}}else s=null;else s=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s})}(e.j,e.u,e.A,e.m,e.X,e.s)}function dM(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function pM(e,t,n){for(var i,r=!0;!e.I&&e.C<n.length;){if((i=HQ(e,n))==Ed){4==t&&(e.o=4,An(14),r=!1),qo(e.j,e.m,null,"[Incomplete Response]");break}if(i==xw){e.o=4,An(15),qo(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}qo(e.j,e.m,i,null),Vw(e,i)}dM(e)&&i!=Ed&&i!=xw&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,An(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Qw(t),t.L=!0,An(11))):(qo(e.j,e.m,n,"[Invalid Chunked Response]"),Ss(e),hc(e))}function HQ(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ed:(n=Number(t.substring(n,r)),isNaN(n)?xw:(r+=1)+n>t.length?Ed:(t=t.substr(r,n),e.C=r+n,t))}function fc(e){e.Y=Date.now()+e.P,vM(e,e.P)}function vM(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=uc(Jt(e.eb,e),t)}function Id(e){e.B&&(de.clearTimeout(e.B),e.B=null)}function hc(e){0==e.l.G||e.I||BM(e.l,e)}function Ss(e){Id(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Rw(e.W),rM(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Vw(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||jw(n.i,e)))if(n.I=e.N,!e.J&&jw(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(y){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(n.u)n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=uc(Jt(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<e.F))break e;Fd(n),Pd(n)}Kw(n),An(18)}if(1>=EM(n.i)&&n.ka){try{n.ka()}catch(y){}n.ka=void 0}}else Ns(n,11)}else if((e.J||n.g==e)&&Fd(n),!pd(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var s=a[3];null!=s&&(n.ma=s,n.h.info("VER="+n.ma));var o=a[4];null!=o&&(n.za=o,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var f=r.i;!f.g&&(Dn(c,"spdy")||Dn(c,"quic")||Dn(c,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Hw(f,f.h),f.h=null))}if(r.D){var h=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,ht(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=GM(r,r.H?r.la:null,r.W),d.J){IM(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Id(p),fc(p)),r.g=d}else VM(r);0<n.l.length&&Od(n)}else"stop"!=a[0]&&"close"!=a[0]||Ns(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Ns(n,7):Ww(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}oc(4)}catch(y){}}function Uw(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ow(e)||"string"==typeof e)FN(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(ow(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(ow(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function $o(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof $o)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Bw(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];As(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)As(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function As(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Z=cc.prototype).setTimeout=function(e){this.P=e},Z.gb=function(e){e=e.target;var t=this.L;t&&3==$i(e)?t.l():this.Ia(e)},Z.Ia=function(e){try{if(e==this.g)e:{var t=$i(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||dw||this.g&&(this.h.h||this.g.ga()||PM(this.g)))){this.I||4!=t||7==n||oc(8==n||0>=r?3:2),Id(this);var i=this.g.ba();this.N=i;t:if(dM(this)){var a=PM(this.g);e="";var s=a.length,o=4==$i(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ss(this),hc(this);var u="";break t}this.h.i=new de.TextDecoder}for(n=0;n<s;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:o&&n==s-1});a.splice(0,s),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+s})}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pd(l)){var f=l;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,An(12),Ss(this),hc(this);break e}qo(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Vw(this,i)}this.U?(pM(this,t,u),dw&&this.i&&3==t&&(nM(this.V,this.W,"tick",this.fb),this.W.start())):(qo(this.j,this.m,u,null),Vw(this,u)),4==t&&Ss(this),this.i&&!this.I&&(4==t?BM(this.l,this):(this.i=!1,fc(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,An(12)):(this.o=0,An(13)),Ss(this),hc(this)}}}catch(h){}},Z.fb=function(){if(this.g){var e=$i(this.g),t=this.g.ga();this.C<t.length&&(Id(this),pM(this,e,t),this.i&&4!=e&&fc(this))}},Z.cancel=function(){this.I=!0,Ss(this)},Z.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(oc(3),An(17)),Ss(this),this.o=2,hc(this)):vM(this,this.Y-e)},(Z=$o.prototype).R=function(){Bw(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Z.T=function(){return Bw(this),this.g.concat()},Z.get=function(e,t){return As(this.h,e)?this.h[e]:t},Z.set=function(e,t){As(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Z.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var gM=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Rs(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Rs){this.g=void 0!==t?t:e.g,Td(this,e.j),this.s=e.s,Dd(this,e.i),Sd(this,e.m),this.l=e.l,t=e.h;var n=new vc;n.i=t.i,t.g&&(n.g=new $o(t.g),n.h=t.h),mM(this,n),this.o=e.o}else e&&(n=String(e).match(gM))?(this.g=!!t,Td(this,n[1]||"",!0),this.s=dc(n[2]||""),Dd(this,n[3]||"",!0),Sd(this,n[4]),this.l=dc(n[5]||"",!0),mM(this,n[6]||"",!0),this.o=dc(n[7]||"")):(this.g=!!t,this.h=new vc(null,this.g))}function qi(e){return new Rs(e)}function Td(e,t,n){e.j=n?dc(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Dd(e,t,n){e.i=n?dc(t,!0):t}function Sd(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function mM(e,t,n){t instanceof vc?(e.h=t,function(e,t){t&&!e.j&&(Ea(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(_M(this,r),wM(this,i,n))},e)),e.j=t}(e.h,e.g)):(n||(t=pc(t,YQ)),e.h=new vc(t,e.g))}function ht(e,t,n){e.h.set(t,n)}function Ad(e){return ht(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function dc(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function pc(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,zQ),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function zQ(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Rs.prototype.toString=function(){var e=[],t=this.j;t&&e.push(pc(t,yM,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(pc(t,yM,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(pc(n,"/"==n.charAt(0)?QQ:KQ,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",pc(n,JQ)),e.join("")};var yM=/[#\/\?@]/g,KQ=/[#\?:]/g,QQ=/[#\?]/g,YQ=/[#\?@]/g,JQ=/#/g;function vc(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ea(e){e.g||(e.g=new $o,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function _M(e,t){Ea(e),t=Wo(e,t),As(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,As((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Bw(e)))}function kM(e,t){return Ea(e),t=Wo(e,t),As(e.g.h,t)}function wM(e,t,n){_M(e,t),0<n.length&&(e.i=null,e.g.set(Wo(e,t),lw(n)),e.h+=n.length)}function Wo(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Z=vc.prototype).add=function(e,t){Ea(this),this.i=null,e=Wo(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Z.forEach=function(e,t){Ea(this),this.g.forEach(function(n,r){FN(n,function(i){e.call(t,i,r,this)},this)},this)},Z.T=function(){Ea(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Z.R=function(e){Ea(this);var t=[];if("string"==typeof e)kM(this,e)&&(t=xN(t,this.g.get(Wo(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=xN(t,e[n])}return t},Z.set=function(e,t){return Ea(this),this.i=null,kM(this,e=Wo(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Z.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Z.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var s=i;""!==r[a]&&(s+="="+encodeURIComponent(String(r[a]))),e.push(s)}}return this.i=e.join("&")};var ZQ=g(function e(t,n){m(this,e),this.h=t,this.g=n});function bM(e){this.l=e||eY,e=de.PerformanceNavigationTiming?0<(e=de.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(de.g&&de.g.Ea&&de.g.Ea()&&de.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var eY=10;function CM(e){return!!e.h||!!e.g&&e.g.size>=e.j}function EM(e){return e.h?1:e.g?e.g.size:0}function jw(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Hw(e,t){e.g?e.g.add(t):e.h=t}function IM(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function TM(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r,t=e.i,n=W(e.g.values());try{for(n.s();!(r=n.n()).done;)t=t.concat(r.value.D)}catch(a){n.e(a)}finally{n.f()}return t}return lw(e.i)}function Gw(){}function tY(){this.g=new Gw}function nY(e,t,n){var r=n||"";try{Uw(e,function(i,a){var s=i;rc(i)&&(s=Tw(i)),t.push(r+a+"="+encodeURIComponent(s))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Rd(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function gc(e){this.l=e.$b||null,this.j=e.ib||!1}function Nd(e,t){Gt.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=qw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}bM.prototype.cancel=function(){if(this.i=TM(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var t,e=W(this.g.values());try{for(e.s();!(t=e.n()).done;)t.value.cancel()}catch(r){e.e(r)}finally{e.f()}this.g.clear()}},Gw.prototype.stringify=function(e){return de.JSON.stringify(e,void 0)},Gw.prototype.parse=function(e){return de.JSON.parse(e,void 0)},Xt(gc,Mw),gc.prototype.g=function(){return new Nd(this.l,this.j)},gc.prototype.i=function(e){return function(){return e}}({}),Xt(Nd,Gt);var qw=0;function DM(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function mc(e){e.readyState=4,e.l=null,e.j=null,e.A=null,yc(e)}function yc(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Z=Nd.prototype).open=function(e,t){if(this.readyState!=qw)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,yc(this)},Z.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||de).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Z.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,mc(this)),this.readyState=qw},Z.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,yc(this)),this.g&&(this.readyState=3,yc(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==de.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;DM(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Z.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?mc(this):yc(this),3==this.readyState&&DM(this)}},Z.Ua=function(e){this.g&&(this.response=this.responseText=e,mc(this))},Z.Ta=function(e){this.g&&(this.response=e,mc(this))},Z.ha=function(){this.g&&mc(this)},Z.setRequestHeader=function(e,t){this.v.append(e,t)},Z.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Z.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Nd.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var iY=de.JSON.parse;function St(e){Gt.call(this),this.headers=new $o,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=SM,this.K=this.L=!1}Xt(St,Gt);var SM="",aY=/^https?$/i,sY=["POST","PUT"];function uY(e){return"content-type"==e.toLowerCase()}function AM(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,RM(e),Md(e)}function RM(e){e.D||(e.D=!0,Zt(e,"complete"),Zt(e,"error"))}function NM(e){if(e.h&&void 0!==sw&&(!e.C[1]||4!=$i(e)||2!=e.ba()))if(e.v&&4==$i(e))Nw(e.Fa,0,e);else if(Zt(e,"readystatechange"),4==$i(e)){e.h=!1;try{var r,t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}if(!(r=n)){var i;if(i=0===t){var a=String(e.H).match(gM)[1]||null;if(!a&&de.self&&de.self.location){var s=de.self.location.protocol;a=s.substr(0,s.length-1)}i=!aY.test(a?a.toLowerCase():"")}r=i}if(r)Zt(e,"complete"),Zt(e,"success");else{e.m=6;try{var o=2<$i(e)?e.g.statusText:""}catch(u){o=""}e.j=o+" ["+e.ba()+"]",RM(e)}}finally{Md(e)}}}function Md(e,t){if(e.g){MM(e);var n=e.g,r=e.C[0]?hd:null;e.g=null,e.C=null,t||Zt(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function MM(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(de.clearTimeout(e.A),e.A=null)}function $i(e){return e.g?e.g.readyState:0}function PM(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case SM:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function $w(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return fw(e,function(n,r){t+=r,t+=":",t+=n,t+="\r\n"}),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):ht(e,t,n))}function _c(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function OM(e){this.za=0,this.l=[],this.h=new kd,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=_c("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=_c("baseRetryDelayMs",5e3,e),this.$a=_c("retryDelaySeedMs",1e4,e),this.Ya=_c("forwardChannelMaxRetries",2,e),this.ra=_c("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new bM(e&&e.concurrentRequestLimit),this.Ca=new tY,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Ww(e){if(FM(e),3==e.G){var t=e.V++,n=qi(e.F);ht(n,"SID",e.J),ht(n,"RID",t),ht(n,"TYPE","terminate"),kc(e,n),(t=new cc(e,e.h,t,void 0)).K=2,t.v=Ad(qi(n)),n=!1,de.navigator&&de.navigator.sendBeacon&&(n=de.navigator.sendBeacon(t.v.toString(),"")),!n&&de.Image&&((new Image).src=t.v,n=!0),n||(t.g=qM(t.l,null),t.g.ea(t.v)),t.F=Date.now(),fc(t)}HM(e)}function Pd(e){e.g&&(Qw(e),e.g.cancel(),e.g=null)}function FM(e){Pd(e),e.u&&(de.clearTimeout(e.u),e.u=null),Fd(e),e.i.cancel(),e.m&&("number"==typeof e.m&&de.clearTimeout(e.m),e.m=null)}function zw(e,t){e.l.push(new ZQ(e.Za++,t)),3==e.G&&Od(e)}function Od(e){CM(e.i)||e.m||(e.m=!0,Dw(e.Ha,e),e.C=0)}function xM(e,t){var n;n=t?t.m:e.V++;var r=qi(e.F);ht(r,"SID",e.J),ht(r,"RID",n),ht(r,"AID",e.U),kc(e,r),e.o&&e.s&&$w(r,e.o,e.s),n=new cc(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=LM(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Hw(e.i,n),Lw(n,r,t)}function kc(e,t){e.j&&Uw({},function(n,r){ht(t,r,n)})}function LM(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Jt(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var s=["count="+n];-1==a?0<n?s.push("ofs="+(a=i[0].h)):a=0:s.push("ofs="+a);for(var o=!0,u=0;u<n;u++){var l=i[u].h,c=i[u].g;if(0>(l-=a))a=Math.max(0,i[u].h-100),o=!1;else try{nY(c,s,"req"+l+"_")}catch(f){r&&r(c)}}if(o){r=s.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function VM(e){e.g||e.u||(e.Y=1,Dw(e.Ga,e),e.A=0)}function Kw(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=uc(Jt(e.Ga,e),jM(e,e.A)),e.A++,0))}function Qw(e){null!=e.B&&(de.clearTimeout(e.B),e.B=null)}function UM(e){e.g=new cc(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=qi(e.oa);ht(t,"RID","rpc"),ht(t,"SID",e.J),ht(t,"CI",e.N?"0":"1"),ht(t,"AID",e.U),kc(e,t),ht(t,"TYPE","xmlhttp"),e.o&&e.s&&$w(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Ad(qi(t)),n.s=null,n.U=!0,hM(n,e)}function Fd(e){null!=e.v&&(de.clearTimeout(e.v),e.v=null)}function BM(e,t){var n=null;if(e.g==t){Fd(e),Qw(e),e.g=null;var r=2}else{if(!jw(e.i,t))return;n=t.D,IM(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Zt(r=wd(),new oM(r,n,t,i)),Od(e)}else VM(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(EM(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=uc(Jt(e.Ha,e,t),jM(e,e.C)),e.C++,0)))}(e,t)||2==r&&Kw(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Ns(e,5);break;case 4:Ns(e,10);break;case 3:Ns(e,6);break;default:Ns(e,2)}}function jM(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Ns(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Jt(e.jb,e);n||(n=new Rs("//www.google.com/images/cleardot.gif"),de.location&&"http"==de.location.protocol||Td(n,"https"),Ad(n)),function(e,t){var n=new kd;if(de.Image){var r=new Image;r.onload=dd(Rd,n,r,"TestLoadImage: loaded",!0,t),r.onerror=dd(Rd,n,r,"TestLoadImage: error",!1,t),r.onabort=dd(Rd,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=dd(Rd,n,r,"TestLoadImage: timeout",!1,t),de.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else An(2);e.G=0,e.j&&e.j.va(t),HM(e),FM(e)}function HM(e){e.G=0,e.I=-1,e.j&&((0!=TM(e.i).length||0!=e.l.length)&&(e.i.i.length=0,lw(e.l),e.l.length=0),e.j.ua())}function GM(e,t,n){var r=function(e){return e instanceof Rs?qi(e):new Rs(e,void 0)}(n);if(""!=r.i)t&&Dd(r,t+"."+r.i),Sd(r,r.m);else{var i=de.location;r=function(e,t,n,r){var i=new Rs(null,void 0);return e&&Td(i,e),t&&Dd(i,t),n&&Sd(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&fw(e.aa,function(a,s){ht(r,s,a)}),n=e.sa,(t=e.D)&&n&&ht(r,t,n),ht(r,"VER",e.ma),kc(e,r),r}function qM(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new St(n&&e.Ba&&!e.qa?new gc({ib:!0}):e.qa)).L=e.H,t}function $M(){}function xd(){if(Go&&!(10<=Number(CQ)))throw Error("Environmental error: no available transport.")}function Zn(e,t){Gt.call(this),this.g=new OM(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!pd(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!pd(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new zo(this)}function WM(e){Pw.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function zM(){Ow.call(this),this.status=1}function zo(e){this.g=e}(Z=St.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Fw.g(),this.C=function(e){return e.h||(e.h=e.i())}(this.u?this.u:Fw),this.g.onreadystatechange=Jt(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void AM(this,a)}e=n||"";var i=new $o(this.headers);r&&Uw(r,function(a,s){i.set(s,a)}),r=function(e){e:{for(var t=uY,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=de.FormData&&e instanceof de.FormData,!(0<=ON(sY,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(a,s){this.g.setRequestHeader(s,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{MM(this),0<this.B&&((this.K=function(e){return Go&&bQ()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Jt(this.pa,this)):this.A=Nw(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){AM(this,a)}},Z.pa=function(){void 0!==sw&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Zt(this,"timeout"),this.abort(8))},Z.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Zt(this,"complete"),Zt(this,"abort"),Md(this))},Z.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Md(this,!0)),St.Z.M.call(this)},Z.Fa=function(){this.s||(this.F||this.v||this.l?NM(this):this.cb())},Z.cb=function(){NM(this)},Z.ba=function(){try{return 2<$i(this)?this.g.status:-1}catch(e){return-1}},Z.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},Z.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),iY(t)}},Z.Da=function(){return this.m},Z.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Z=OM.prototype).ma=8,Z.G=1,Z.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Z.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new cc(this,this.h,e,void 0),n=this.s;if(this.P&&(n?HN(n=BN(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"==typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=LM(this,t,r),ht(i=qi(this.F),"RID",e),ht(i,"CVER",22),this.D&&ht(i,"X-HTTP-Session-Id",this.D),kc(this,i),this.o&&n&&$w(i,this.o,n),Hw(this.i,t),this.Ra&&ht(i,"TYPE","init"),this.ja?(ht(i,"$req",r),ht(i,"SID","null"),t.$=!0,Lw(t,i,null)):Lw(t,i,r),this.G=2}}else 3==this.G&&(e?xM(this,e):0==this.l.length||CM(this.i)||xM(this))},Z.Ga=function(){if(this.u=null,UM(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=uc(Jt(this.bb,this),e)}},Z.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,An(10),Pd(this),UM(this))},Z.ab=function(){null!=this.v&&(this.v=null,Pd(this),Kw(this),An(19))},Z.jb=function(e){e?(this.h.info("Successfully pinged google.com"),An(2)):(this.h.info("Failed to ping google.com"),An(1))},(Z=$M.prototype).xa=function(){},Z.wa=function(){},Z.va=function(){},Z.ua=function(){},Z.Oa=function(){},xd.prototype.g=function(e,t){return new Zn(e,t)},Xt(Zn,Gt),Zn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Dw(Jt(e.hb,e,t))),An(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=GM(e,null,e.W),Od(e)},Zn.prototype.close=function(){Ww(this.g)},Zn.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,zw(this.g,t)}else this.v?((t={}).__data__=Tw(e),zw(this.g,t)):zw(this.g,e)},Zn.prototype.M=function(){this.g.j=null,delete this.j,Ww(this.g),delete this.g,Zn.Z.M.call(this)},Xt(WM,Pw),Xt(zM,Ow),Xt(zo,$M),zo.prototype.xa=function(){Zt(this.g,"a")},zo.prototype.wa=function(e){Zt(this.g,new WM(e))},zo.prototype.va=function(e){Zt(this.g,new zM(e))},zo.prototype.ua=function(){Zt(this.g,"b")},xd.prototype.createWebChannel=xd.prototype.g,Zn.prototype.send=Zn.prototype.u,Zn.prototype.open=Zn.prototype.m,Zn.prototype.close=Zn.prototype.close,bd.NO_ERROR=0,bd.TIMEOUT=8,bd.HTTP_ERROR=6,uM.COMPLETE="complete",cM.EventType=lc,lc.OPEN="a",lc.CLOSE="b",lc.ERROR="c",lc.MESSAGE="d",Gt.prototype.listen=Gt.prototype.N,St.prototype.listenOnce=St.prototype.O,St.prototype.getLastError=St.prototype.La,St.prototype.getLastErrorCode=St.prototype.Da,St.prototype.getStatus=St.prototype.ba,St.prototype.getResponseJson=St.prototype.Qa,St.prototype.getResponseText=St.prototype.ga,St.prototype.send=St.prototype.ea;var fY=Gi.createWebChannelTransport=function(){return new xd},hY=Gi.getStatEventTarget=function(){return wd()},Yw=Gi.ErrorCode=bd,dY=Gi.EventType=uM,pY=Gi.Event=Ds,KM=Gi.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},vY=Gi.FetchXmlHttpFactory=gc,Ld=Gi.WebChannel=cM,gY=Gi.XhrIo=St,QM="@firebase/firestore",cn=function(){function e(t){m(this,e),this.uid=t}return g(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(n){return n.uid===this.uid}}]),e}();cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");var Ko="9.6.10",Jr=new Wl("@firebase/firestore");function YM(){return Jr.logLevel}function te(e){if(Jr.logLevel<=Ue.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Jw);Jr.debug.apply(Jr,["Firestore (".concat(Ko,"): ").concat(e)].concat(ye(i)))}}function Ia(e){if(Jr.logLevel<=Ue.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Jw);Jr.error.apply(Jr,["Firestore (".concat(Ko,"): ").concat(e)].concat(ye(i)))}}function Vd(e){if(Jr.logLevel<=Ue.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Jw);Jr.warn.apply(Jr,["Firestore (".concat(Ko,"): ").concat(e)].concat(ye(i)))}}function Jw(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(n){return e}}function ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Ko,") INTERNAL ASSERTION FAILED: ")+e;throw Ia(t),new Error(t)}function He(e,t){e||ae()}function K(e,t){return e}var R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},$=function(e){D(n,e);var t=S(n);function n(r,i){var a;return m(this,n),(a=t.call(this,r,i)).code=r,a.message=i,a.toString=function(){return"".concat(a.name,": [code=").concat(a.code,"]: ").concat(a.message)},a}return g(n)}(ma),Rn=g(function e(){var t=this;m(this,e),this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}),JM=g(function e(t,n){m(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))}),mY=function(){function e(){m(this,e)}return g(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(n,r){n.enqueueRetryable(function(){return r(cn.UNAUTHENTICATED)})}},{key:"shutdown",value:function(){}}]),e}(),_Y=function(){function e(t){m(this,e),this.t=t,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return g(e,[{key:"start",value:function(n,r){var i=this,a=this.i,s=function(f){return i.i!==a?(a=i.i,r(f)):Promise.resolve()},o=new Rn;this.o=function(){i.i++,i.currentUser=i.u(),o.resolve(),o=new Rn,n.enqueueRetryable(function(){return s(i.currentUser)})};var u=function(){var f=o;n.enqueueRetryable(b(_().mark(function h(){return _().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,f.promise;case 2:return p.next=4,s(i.currentUser);case 4:case"end":return p.stop()}},h)})))},l=function(f){te("FirebaseAuthCredentialsProvider","Auth detected"),i.auth=f,i.auth.addAuthTokenListener(i.o),u()};this.t.onInit(function(c){return l(c)}),setTimeout(function(){if(!i.auth){var c=i.t.getImmediate({optional:!0});c?l(c):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Rn)}},0),u()}},{key:"getToken",value:function(){var n=this,r=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(function(a){return n.i!==r?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),n.getToken()):a?(He("string"==typeof a.accessToken),new JM(a.accessToken,n.currentUser)):null}):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var n=this.auth&&this.auth.getUid();return He(null===n||"string"==typeof n),new cn(n)}}]),e}(),kY=g(function e(t,n,r){m(this,e),this.type="FirstParty",this.user=cn.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}),wY=function(){function e(t,n,r){m(this,e),this.h=t,this.l=n,this.m=r}return g(e,[{key:"getToken",value:function(){return Promise.resolve(new kY(this.h,this.l,this.m))}},{key:"start",value:function(n,r){n.enqueueRetryable(function(){return r(cn.FIRST_PARTY)})}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),bY=g(function e(t){m(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}),CY=function(){function e(t){m(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return g(e,[{key:"start",value:function(n,r){var i=this;this.o=function(o){n.enqueueRetryable(function(){return function(u){null!=u.error&&te("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(u.error.message));var l=u.token!==i.p;return i.p=u.token,te("FirebaseAppCheckTokenProvider","Received ".concat(l?"new":"existing"," token.")),l?r(u.token):Promise.resolve()}(o)})};var s=function(u){te("FirebaseAppCheckTokenProvider","AppCheck detected"),i.appCheck=u,i.appCheck.addTokenListener(i.o)};this.g.onInit(function(o){return s(o)}),setTimeout(function(){if(!i.appCheck){var o=i.g.getImmediate({optional:!0});o?s(o):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}},{key:"getToken",value:function(){var n=this,r=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(r).then(function(i){return i?(He("string"==typeof i.token),n.p=i.token,new bY(i.token)):null}):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Xw=function(){function e(t,n){var r=this;m(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(i){return r.I(i)},this.T=function(i){return n.writeSequenceNumber(i)})}return g(e,[{key:"I",value:function(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}},{key:"next",value:function(){var n=++this.previousValue;return this.T&&this.T(n),n}}]),e}();function EY(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Xw.A=-1;var XM=function(){function e(){m(this,e)}return g(e,null,[{key:"R",value:function(){for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/n.length)*n.length,i="";i.length<20;)for(var a=EY(40),s=0;s<a.length;++s)i.length<20&&a[s]<r&&(i+=n.charAt(a[s]%n.length));return i}}]),e}();function Be(e,t){return e<t?-1:e>t?1:0}function wc(e,t,n){return e.length===t.length&&e.every(function(r,i){return n(r,t[i])})}var Nn=function(){function e(t,n){if(m(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new $(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new $(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new $(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return g(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(n){return this.seconds===n.seconds?Be(this.nanoseconds,n.nanoseconds):Be(this.seconds,n.seconds)}},{key:"isEqual",value:function(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(n){return e.fromMillis(n.getTime())}},{key:"fromMillis",value:function(n){var r=Math.floor(n/1e3);return new e(r,Math.floor(1e6*(n-1e3*r)))}}]),e}(),be=function(){function e(t){m(this,e),this.timestamp=t}return g(e,[{key:"compareTo",value:function(n){return this.timestamp._compareTo(n.timestamp)}},{key:"isEqual",value:function(n){return this.timestamp.isEqual(n.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(n){return new e(n)}},{key:"min",value:function(){return new e(new Nn(0,0))}},{key:"max",value:function(){return new e(new Nn(253402300799,999999999))}}]),e}();function ZM(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ms(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}var tP=function(){function e(t,n,r){m(this,e),void 0===n?n=0:n>t.length&&ae(),void 0===r?r=t.length-n:r>t.length-n&&ae(),this.segments=t,this.offset=n,this.len=r}return g(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(n){return 0===e.comparator(this,n)}},{key:"child",value:function(n){var r=this.segments.slice(this.offset,this.limit());return n instanceof e?n.forEach(function(i){r.push(i)}):r.push(n),this.construct(r)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(n){return this.segments[this.offset+n]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(n){if(n.length<this.length)return!1;for(var r=0;r<this.length;r++)if(this.get(r)!==n.get(r))return!1;return!0}},{key:"isImmediateParentOf",value:function(n){if(this.length+1!==n.length)return!1;for(var r=0;r<this.length;r++)if(this.get(r)!==n.get(r))return!1;return!0}},{key:"forEach",value:function(n){for(var r=this.offset,i=this.limit();r<i;r++)n(this.segments[r])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(n,r){for(var i=Math.min(n.length,r.length),a=0;a<i;a++){var s=n.get(a),o=r.get(a);if(s<o)return-1;if(s>o)return 1}return n.length<r.length?-1:n.length>r.length?1:0}}]),e}(),ze=function(e){D(n,e);var t=S(n);function n(){return m(this,n),t.apply(this,arguments)}return g(n,[{key:"construct",value:function(i,a,s){return new n(i,a,s)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var i=[],a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];for(var u=0,l=s;u<l.length;u++){var c=l[u];if(c.indexOf("//")>=0)throw new $(R.INVALID_ARGUMENT,"Invalid segment (".concat(c,"). Paths must not contain // in them."));i.push.apply(i,ye(c.split("/").filter(function(f){return f.length>0})))}return new n(i)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(tP),IY=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ta=function(e){D(n,e);var t=S(n);function n(){return m(this,n),t.apply(this,arguments)}return g(n,[{key:"construct",value:function(i,a,s){return new n(i,a,s)}},{key:"canonicalString",value:function(){return this.toArray().map(function(i){return i=i.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(i)||(i="`"+i+"`"),i}).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(i){return IY.test(i)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(i){for(var a=[],s="",o=0,u=function(){if(0===s.length)throw new $(R.INVALID_ARGUMENT,"Invalid field path (".concat(i,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));a.push(s),s=""},l=!1;o<i.length;){var c=i[o];if("\\"===c){if(o+1===i.length)throw new $(R.INVALID_ARGUMENT,"Path has trailing escape character: "+i);var f=i[o+1];if("\\"!==f&&"."!==f&&"`"!==f)throw new $(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+i);s+=f,o+=2}else"`"===c?(l=!l,o++):"."!==c||l?(s+=c,o++):(u(),o++)}if(u(),l)throw new $(R.INVALID_ARGUMENT,"Unterminated ` in path: "+i);return new n(a)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(tP),Ln=function(){var e=function(t){function n(r){m(this,n),this.binaryString=r}return g(n,[{key:Symbol.iterator,value:function(){var i=this,a=0;return{next:function(){return a<i.binaryString.length?{value:i.binaryString.charCodeAt(a++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return btoa(this.binaryString)}},{key:"toUint8Array",value:function(){return function(i){for(var a=new Uint8Array(i.length),s=0;s<i.length;s++)a[s]=i.charCodeAt(s);return a}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(i){return Be(this.binaryString,i.binaryString)}},{key:"isEqual",value:function(i){return this.binaryString===i.binaryString}}],[{key:"fromBase64String",value:function(i){return new n(atob(i))}},{key:"fromUint8Array",value:function(i){return new n(function(s){for(var o="",u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o}(i))}}]),n}();return e.EMPTY_BYTE_STRING=new e(""),e}(),TY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Da(e){if(He(!!e),"string"==typeof e){var t=0,n=TY.exec(e);if(He(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:At(e.seconds),nanos:At(e.nanos)}}function At(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Yo(e){return"string"==typeof e?Ln.fromBase64String(e):Ln.fromUint8Array(e)}function Zw(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function nP(e){var t=e.mapValue.fields.__previous_value__;return Zw(t)?nP(t):t}function bc(e){var t=Da(e.mapValue.fields.__local_write_time__.timestampValue);return new Nn(t.seconds,t.nanos)}var DY=g(function e(t,n,r,i,a,s,o,u){m(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=u}),eb=function(){function e(t,n){m(this,e),this.projectId=t,this.database=n||"(default)"}return g(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(n){return n instanceof e&&n.projectId===this.projectId&&n.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Jo(e){return null==e}function Ud(e){return 0===e&&1/e==-1/0}var re=function(){function e(t){m(this,e),this.path=t}return g(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(n){return null!==n&&0===ze.comparator(this.path,n.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(n){return new e(ze.fromString(n))}},{key:"fromName",value:function(n){return new e(ze.fromString(n).popFirst(5))}},{key:"empty",value:function(){return new e(ze.emptyPath())}},{key:"comparator",value:function(n,r){return ze.comparator(n.path,r.path)}},{key:"isDocumentKey",value:function(n){return n.length%2==0}},{key:"fromSegments",value:function(n){return new e(new ze(n.slice()))}}]),e}();function Ps(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Zw(e)?4:function(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}(e)?9:10:ae()}function yi(e,t){if(e===t)return!0;var i,n=Ps(e);if(n!==Ps(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return bc(e).isEqual(bc(t));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var a=Da(r.timestampValue),s=Da(i.timestampValue);return a.seconds===s.seconds&&a.nanos===s.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return i=t,Yo(e.bytesValue).isEqual(Yo(i.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return At(r.geoPointValue.latitude)===At(i.geoPointValue.latitude)&&At(r.geoPointValue.longitude)===At(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return At(r.integerValue)===At(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var a=At(r.doubleValue),s=At(i.doubleValue);return a===s?Ud(a)===Ud(s):isNaN(a)&&isNaN(s)}return!1}(e,t);case 9:return wc(e.arrayValue.values||[],t.arrayValue.values||[],yi);case 10:return function(r,i){var a=r.mapValue.fields||{},s=i.mapValue.fields||{};if(ZM(a)!==ZM(s))return!1;for(var o in a)if(a.hasOwnProperty(o)&&(void 0===s[o]||!yi(a[o],s[o])))return!1;return!0}(e,t);default:return ae()}}function Cc(e,t){return void 0!==(e.values||[]).find(function(n){return yi(n,t)})}function Sa(e,t){if(e===t)return 0;var i,a,s,o,n=Ps(e),r=Ps(t);if(n!==r)return Be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Be(e.booleanValue,t.booleanValue);case 2:return a=t,(s=At((i=e).integerValue||i.doubleValue))<(o=At(a.integerValue||a.doubleValue))?-1:s>o?1:s===o?0:isNaN(s)?isNaN(o)?0:-1:1;case 3:return rP(e.timestampValue,t.timestampValue);case 4:return rP(bc(e),bc(t));case 5:return Be(e.stringValue,t.stringValue);case 6:return function(i,a){var s=Yo(i),o=Yo(a);return s.compareTo(o)}(e.bytesValue,t.bytesValue);case 7:return function(i,a){for(var s=i.split("/"),o=a.split("/"),u=0;u<s.length&&u<o.length;u++){var l=Be(s[u],o[u]);if(0!==l)return l}return Be(s.length,o.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,a){var s=Be(At(i.latitude),At(a.latitude));return 0!==s?s:Be(At(i.longitude),At(a.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,a){for(var s=i.values||[],o=a.values||[],u=0;u<s.length&&u<o.length;++u){var l=Sa(s[u],o[u]);if(l)return l}return Be(s.length,o.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,a){var s=i.fields||{},o=Object.keys(s),u=a.fields||{},l=Object.keys(u);o.sort(),l.sort();for(var c=0;c<o.length&&c<l.length;++c){var f=Be(o[c],l[c]);if(0!==f)return f;var h=Sa(s[o[c]],u[l[c]]);if(0!==h)return h}return Be(o.length,l.length)}(e.mapValue,t.mapValue);default:throw ae()}}function rP(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Be(e,t);var n=Da(e),r=Da(t),i=Be(n.seconds,r.seconds);return 0!==i?i:Be(n.nanos,r.nanos)}function Xo(e){return tb(e)}function tb(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(i=Da(e.timestampValue),"time(".concat(i.seconds,",").concat(i.nanos,")")):"stringValue"in e?e.stringValue:"bytesValue"in e?Yo(e.bytesValue).toBase64():"referenceValue"in e?re.fromName(e.referenceValue).toString():"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(r){var o,i="[",a=!0,s=W(r.values||[]);try{for(s.s();!(o=s.n()).done;)a?a=!1:i+=",",i+=tb(o.value)}catch(l){s.e(l)}finally{s.f()}return i+"]"}(e.arrayValue):"mapValue"in e?function(r){var u,a="{",s=!0,o=W(Object.keys(r.fields||{}).sort());try{for(o.s();!(u=o.n()).done;){var l=u.value;s?s=!1:a+=",",a+="".concat(l,":").concat(tb(r.fields[l]))}}catch(c){o.e(c)}finally{o.f()}return a+"}"}(e.mapValue):ae();var i,t}function nb(e){return!!e&&"integerValue"in e}function rb(e){return!!e&&"arrayValue"in e}function iP(e){return!!e&&"nullValue"in e}function aP(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function jd(e){return!!e&&"mapValue"in e}function Ec(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Ms(e.mapValue.fields,function(i,a){return t.mapValue.fields[i]=Ec(a)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ec(e.arrayValue.values[r]);return n}return Object.assign({},e)}var er=function(){function e(t){m(this,e),this.value=t}return g(e,[{key:"field",value:function(n){if(n.isEmpty())return this.value;for(var r=this.value,i=0;i<n.length-1;++i)if(!jd(r=(r.mapValue.fields||{})[n.get(i)]))return null;return(r=(r.mapValue.fields||{})[n.lastSegment()])||null}},{key:"set",value:function(n,r){this.getFieldsMap(n.popLast())[n.lastSegment()]=Ec(r)}},{key:"setAll",value:function(n){var r=this,i=Ta.emptyPath(),a={},s=[];n.forEach(function(u,l){if(!i.isImmediateParentOf(l)){var c=r.getFieldsMap(i);r.applyChanges(c,a,s),a={},s=[],i=l.popLast()}u?a[l.lastSegment()]=Ec(u):s.push(l.lastSegment())});var o=this.getFieldsMap(i);this.applyChanges(o,a,s)}},{key:"delete",value:function(n){var r=this.field(n.popLast());jd(r)&&r.mapValue.fields&&delete r.mapValue.fields[n.lastSegment()]}},{key:"isEqual",value:function(n){return yi(this.value,n.value)}},{key:"getFieldsMap",value:function(n){var r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(var i=0;i<n.length;++i){var a=r.mapValue.fields[n.get(i)];jd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[n.get(i)]=a),r=a}return r.mapValue.fields}},{key:"applyChanges",value:function(n,r,i){Ms(r,function(u,l){return n[u]=l});var s,a=W(i);try{for(a.s();!(s=a.n()).done;)delete n[s.value]}catch(u){a.e(u)}finally{a.f()}}},{key:"clone",value:function(){return new e(Ec(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}(),Vn=function(){function e(t,n,r,i,a,s){m(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=s}return g(e,[{key:"convertToFoundDocument",value:function(n,r){return this.version=n,this.documentType=1,this.data=r,this.documentState=0,this}},{key:"convertToNoDocument",value:function(n){return this.version=n,this.documentType=2,this.data=er.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(n){return this.version=n,this.documentType=3,this.data=er.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(n){return this.readTime=n,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(n){return n instanceof e&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(n){return new e(n,0,be.min(),be.min(),er.empty(),0)}},{key:"newFoundDocument",value:function(n,r,i){return new e(n,1,r,be.min(),i,0)}},{key:"newNoDocument",value:function(n,r){return new e(n,2,r,be.min(),er.empty(),0)}},{key:"newUnknownDocument",value:function(n,r){return new e(n,3,r,be.min(),er.empty(),2)}}]),e}();function NY(e){return new sb(e.readTime,e.key,-1)}g(function e(t,n,r,i){m(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}).UNKNOWN_ID=-1;var sb=function(){function e(t,n,r){m(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return g(e,null,[{key:"min",value:function(){return new e(be.min(),re.empty(),-1)}},{key:"max",value:function(){return new e(be.max(),re.empty(),-1)}}]),e}();function MY(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n||0!==(n=re.comparator(e.documentKey,t.documentKey))?n:Be(e.largestBatchId,t.largestBatchId)}var PY=g(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;m(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.P=null});function uP(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new PY(e,t,n,r,i,a,s)}function Hd(e){var t=K(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return(i=r).field.canonicalString()+i.op.toString()+Xo(i.value);var i}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return(i=r).field.canonicalString()+i.dir;var i}).join(","),Jo(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(function(r){return Xo(r)}).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(function(r){return Xo(r)}).join(",")),t.P=n}return t.P}function ob(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!HY(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if((i=e.filters[r]).op!==(a=t.filters[r]).op||!i.field.isEqual(a.field)||!yi(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!fP(e.startAt,t.startAt)&&fP(e.endAt,t.endAt)}function Gd(e){return re.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var tr=function(e){D(n,e);var t=S(n);function n(r,i,a){var s;return m(this,n),(s=t.call(this)).field=r,s.op=i,s.value=a,s}return g(n,[{key:"matches",value:function(i){var a=i.data.field(this.field);return"!="===this.op?null!==a&&this.v(Sa(a,this.value)):null!==a&&Ps(this.value)===Ps(a)&&this.v(Sa(a,this.value))}},{key:"v",value:function(i){switch(this.op){case"<":return i<0;case"<=":return i<=0;case"==":return 0===i;case"!=":return 0!==i;case">":return i>0;case">=":return i>=0;default:return ae()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(i,a,s){return i.isKeyField()?"in"===a||"not-in"===a?this.V(i,a,s):new FY(i,a,s):"array-contains"===a?new VY(i,s):"in"===a?new UY(i,s):"not-in"===a?new BY(i,s):"array-contains-any"===a?new jY(i,s):new n(i,a,s)}},{key:"V",value:function(i,a,s){return"in"===a?new xY(i,s):new LY(i,s)}}]),n}(function(){return g(function e(){m(this,e)})}()),FY=function(e){D(n,e);var t=S(n);function n(r,i,a){var s;return m(this,n),(s=t.call(this,r,i,a)).key=re.fromName(a.referenceValue),s}return g(n,[{key:"matches",value:function(i){var a=re.comparator(i.key,this.key);return this.v(a)}}]),n}(tr),xY=function(e){D(n,e);var t=S(n);function n(r,i){var a;return m(this,n),(a=t.call(this,r,"in",i)).keys=lP(0,i),a}return g(n,[{key:"matches",value:function(i){return this.keys.some(function(a){return a.isEqual(i.key)})}}]),n}(tr),LY=function(e){D(n,e);var t=S(n);function n(r,i){var a;return m(this,n),(a=t.call(this,r,"not-in",i)).keys=lP(0,i),a}return g(n,[{key:"matches",value:function(i){return!this.keys.some(function(a){return a.isEqual(i.key)})}}]),n}(tr);function lP(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(r){return re.fromName(r.referenceValue)})}var VY=function(e){D(n,e);var t=S(n);function n(r,i){return m(this,n),t.call(this,r,"array-contains",i)}return g(n,[{key:"matches",value:function(i){var a=i.data.field(this.field);return rb(a)&&Cc(a.arrayValue,this.value)}}]),n}(tr),UY=function(e){D(n,e);var t=S(n);function n(r,i){return m(this,n),t.call(this,r,"in",i)}return g(n,[{key:"matches",value:function(i){var a=i.data.field(this.field);return null!==a&&Cc(this.value.arrayValue,a)}}]),n}(tr),BY=function(e){D(n,e);var t=S(n);function n(r,i){return m(this,n),t.call(this,r,"not-in",i)}return g(n,[{key:"matches",value:function(i){if(Cc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var a=i.data.field(this.field);return null!==a&&!Cc(this.value.arrayValue,a)}}]),n}(tr),jY=function(e){D(n,e);var t=S(n);function n(r,i){return m(this,n),t.call(this,r,"array-contains-any",i)}return g(n,[{key:"matches",value:function(i){var a=this,s=i.data.field(this.field);return!(!rb(s)||!s.arrayValue.values)&&s.arrayValue.values.some(function(o){return Cc(a.value.arrayValue,o)})}}]),n}(tr),Zo=g(function e(t,n){m(this,e),this.position=t,this.inclusive=n}),Ic=g(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";m(this,e),this.field=t,this.dir=n});function HY(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function cP(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],s=e.position[i];if(r=a.field.isKeyField()?re.comparator(re.fromName(s.referenceValue),n.key):Sa(s,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function fP(e,t){if(null===e)return null===t;if(null===t||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!yi(e.position[n],t.position[n]))return!1;return!0}var Tc=g(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;m(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=u,this.D=null,this.C=null});function eu(e){return new Tc(e)}function qd(e){return!Jo(e.limit)&&"F"===e.limitType}function $d(e){return!Jo(e.limit)&&"L"===e.limitType}function tu(e){var t=K(e);if(null===t.D){t.D=[];var n=function(e){var n,t=W(e.filters);try{for(t.s();!(n=t.n()).done;){var r=n.value;if(r.S())return r.field}}catch(i){t.e(i)}finally{t.f()}return null}(t),r=function(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new Ic(n)),t.D.push(new Ic(Ta.keyField(),"asc"));else{var s,i=!1,a=W(t.explicitOrderBy);try{for(a.s();!(s=a.n()).done;){var o=s.value;t.D.push(o),o.field.isKeyField()&&(i=!0)}}catch(l){a.e(l)}finally{a.f()}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new Ic(Ta.keyField(),u))}}}return t.D}function Er(e){var t=K(e);if(!t.C)if("F"===t.limitType)t.C=uP(t.path,t.collectionGroup,tu(t),t.filters,t.limit,t.startAt,t.endAt);else{var i,n=[],r=W(tu(t));try{for(r.s();!(i=r.n()).done;){var a=i.value;n.push(new Ic(a.field,"desc"===a.dir?"asc":"desc"))}}catch(l){r.e(l)}finally{r.f()}var o=t.endAt?new Zo(t.endAt.position,!t.endAt.inclusive):null,u=t.startAt?new Zo(t.startAt.position,!t.startAt.inclusive):null;t.C=uP(t.path,t.collectionGroup,n,t.filters,t.limit,o,u)}return t.C}function Dc(e,t){return ob(Er(e),Er(t))&&e.limitType===t.limitType}function dP(e){return"".concat(Hd(Er(e)),"|lt:").concat(e.limitType)}function lb(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(function(n){return"".concat((r=n).field.canonicalString()," ").concat(r.op," ").concat(Xo(r.value));var r}).join(", "),"]")),Jo(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(function(n){return"".concat((r=n).field.canonicalString()," (").concat(r.dir,")");var r}).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(function(n){return Xo(n)}).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(function(n){return Xo(n)}).join(",")),"Target(".concat(t,")")}(Er(e)),"; limitType=").concat(e.limitType,")")}function cb(e,t){return t.isFoundDocument()&&(i=(r=t).key.path,null!==(n=e).collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):re.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i))&&function(n,r){var a,i=W(n.explicitOrderBy);try{for(i.s();!(a=i.n()).done;){var s=a.value;if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1}}catch(o){i.e(o)}finally{i.f()}return!0}(e,t)&&function(n,r){var a,i=W(n.filters);try{for(i.s();!(a=i.n()).done;)if(!a.value.matches(r))return!1}catch(o){i.e(o)}finally{i.f()}return!0}(e,t)&&function(n,r){return!(n.startAt&&!function(i,a,s){var o=cP(i,a,s);return i.inclusive?o<=0:o<0}(n.startAt,tu(n),r)||n.endAt&&!function(i,a,s){var o=cP(i,a,s);return i.inclusive?o>=0:o>0}(n.endAt,tu(n),r))}(e,t);var n,r,i}function vP(e){return function(t,n){var a,r=!1,i=W(tu(e));try{for(i.s();!(a=i.n()).done;){var s=a.value,o=WY(s,t,n);if(0!==o)return o;r=r||s.field.isKeyField()}}catch(u){i.e(u)}finally{i.f()}return 0}}function WY(e,t,n){var i,s,o,u,r=e.field.isKeyField()?re.comparator(t.key,n.key):(s=n,o=t.data.field(i=e.field),u=s.data.field(i),null!==o&&null!==u?Sa(o,u):ae());switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ae()}}var Wd=g(function e(){m(this,e),this._=void 0});function KY(e,t,n){return e instanceof Sc?(a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(r=n).seconds,nanos:r.nanoseconds}}}},(i=t)&&(a.fields.__previous_value__=i),{mapValue:a}):e instanceof nu?_P(e,t):e instanceof ru?kP(e,t):function(r,i){var a=function(e,t){return e instanceof Ac?nb(n=t)||(r=n)&&"doubleValue"in r?t:{integerValue:0}:null;var r,n}(r,i),s=wP(a)+wP(r.k);return nb(a)&&nb(r.k)?function(e){return{integerValue:""+e}}(s):function(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ud(t)?"-0":t}}(r.M,s)}(e,t);var r,i,a}function QY(e,t,n){return e instanceof nu?_P(e,t):e instanceof ru?kP(e,t):n}var Sc=function(e){D(n,e);var t=S(n);function n(){return m(this,n),t.apply(this,arguments)}return g(n)}(Wd),nu=function(e){D(n,e);var t=S(n);function n(r){var i;return m(this,n),(i=t.call(this)).elements=r,i}return g(n)}(Wd);function _P(e,t){var i,n=bP(t),r=W(e.elements);try{var a=function(){var o=i.value;n.some(function(u){return yi(u,o)})||n.push(o)};for(r.s();!(i=r.n()).done;)a()}catch(s){r.e(s)}finally{r.f()}return{arrayValue:{values:n}}}var ru=function(e){D(n,e);var t=S(n);function n(r){var i;return m(this,n),(i=t.call(this)).elements=r,i}return g(n)}(Wd);function kP(e,t){var i,n=bP(t),r=W(e.elements);try{var a=function(){var o=i.value;n=n.filter(function(u){return!yi(u,o)})};for(r.s();!(i=r.n()).done;)a()}catch(s){r.e(s)}finally{r.f()}return{arrayValue:{values:n}}}var Ac=function(e){D(n,e);var t=S(n);function n(r,i){var a;return m(this,n),(a=t.call(this)).M=r,a.k=i,a}return g(n)}(Wd);function wP(e){return At(e.integerValue||e.doubleValue)}function bP(e){return rb(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function zd(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var CP=g(function e(){m(this,e)});function ZY(e,t,n){var r,i,a,s,o;e instanceof Kd?(i=t,a=n,s=(r=e).value.clone(),o=DP(r.fieldTransforms,i,a.transformResults),s.setAll(o),i.convertToFoundDocument(a.version,s).setHasCommittedMutations()):e instanceof Rc?function(r,i,a){if(zd(r.precondition,i)){var s=DP(r.fieldTransforms,i,a.transformResults),o=i.data;o.setAll(TP(r)),o.setAll(s),i.convertToFoundDocument(a.version,o).setHasCommittedMutations()}else i.convertToUnknownDocument(a.version)}(e,t,n):function(r,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,n)}function fb(e,t,n){var i;e instanceof Kd?function(r,i,a){if(zd(r.precondition,i)){var s=r.value.clone(),o=SP(r.fieldTransforms,a,i);s.setAll(o),i.convertToFoundDocument(IP(i),s).setHasLocalMutations()}}(e,t,n):e instanceof Rc?function(r,i,a){if(zd(r.precondition,i)){var s=SP(r.fieldTransforms,a,i),o=i.data;o.setAll(TP(r)),o.setAll(s),i.convertToFoundDocument(IP(i),o).setHasLocalMutations()}}(e,t,n):zd(e.precondition,i=t)&&i.convertToNoDocument(be.min())}function EP(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(n=e.fieldTransforms)&&void 0===r||n&&r&&wc(n,r,function(i,a){return function(e,t){return e.field.isEqual(t.field)&&(r=t.transform,(n=e.transform)instanceof nu&&r instanceof nu||n instanceof ru&&r instanceof ru?wc(n.elements,r.elements,yi):n instanceof Ac&&r instanceof Ac?yi(n.k,r.k):n instanceof Sc&&r instanceof Sc);var n,r}(i,a)})))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask));var n,r}function IP(e){return e.isFoundDocument()?e.version:be.min()}var Kd=function(e){D(n,e);var t=S(n);function n(r,i,a){var s,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return m(this,n),(s=t.call(this)).key=r,s.value=i,s.precondition=a,s.fieldTransforms=o,s.type=0,s}return g(n)}(CP),Rc=function(e){D(n,e);var t=S(n);function n(r,i,a,s){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return m(this,n),(o=t.call(this)).key=r,o.data=i,o.fieldMask=a,o.precondition=s,o.fieldTransforms=u,o.type=1,o}return g(n)}(CP);function TP(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function DP(e,t,n){var r=new Map;He(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],s=a.transform,o=t.data.field(a.field);r.set(a.field,QY(s,o,n[i]))}return r}function SP(e,t,n){var a,r=new Map,i=W(e);try{for(i.s();!(a=i.n()).done;){var s=a.value,o=s.transform,u=n.data.field(s.field);r.set(s.field,KY(o,u,t))}}catch(l){i.e(l)}finally{i.f()}return r}var Rt,Pe,tJ=g(function e(t){m(this,e),this.count=t});function RP(e){if(void 0===e)return Ia("GRPC error has no .code"),R.UNKNOWN;switch(e){case Rt.OK:return R.OK;case Rt.CANCELLED:return R.CANCELLED;case Rt.UNKNOWN:return R.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return R.INTERNAL;case Rt.UNAVAILABLE:return R.UNAVAILABLE;case Rt.UNAUTHENTICATED:return R.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case Rt.NOT_FOUND:return R.NOT_FOUND;case Rt.ALREADY_EXISTS:return R.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return R.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case Rt.ABORTED:return R.ABORTED;case Rt.OUT_OF_RANGE:return R.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return R.UNIMPLEMENTED;case Rt.DATA_LOSS:return R.DATA_LOSS;default:return ae()}}(Pe=Rt||(Rt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";var iu=function(){function e(t,n){m(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return g(e,[{key:"get",value:function(n){var r=this.mapKeyFn(n),i=this.inner[r];if(void 0!==i){var s,a=W(i);try{for(a.s();!(s=a.n()).done;){var o=Ge(s.value,2),l=o[1];if(this.equalsFn(o[0],n))return l}}catch(c){a.e(c)}finally{a.f()}}}},{key:"has",value:function(n){return void 0!==this.get(n)}},{key:"set",value:function(n,r){var i=this.mapKeyFn(n),a=this.inner[i];if(void 0===a)return this.inner[i]=[[n,r]],void this.innerSize++;for(var s=0;s<a.length;s++)if(this.equalsFn(a[s][0],n))return void(a[s]=[n,r]);a.push([n,r]),this.innerSize++}},{key:"delete",value:function(n){var r=this.mapKeyFn(n),i=this.inner[r];if(void 0===i)return!1;for(var a=0;a<i.length;a++)if(this.equalsFn(i[a][0],n))return 1===i.length?delete this.inner[r]:i.splice(a,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(n){Ms(this.inner,function(r,i){var s,a=W(i);try{for(a.s();!(s=a.n()).done;){var o=Ge(s.value,2);n(o[0],o[1])}}catch(c){a.e(c)}finally{a.f()}})}},{key:"isEmpty",value:function(){return function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),fn=function(){function e(t,n){m(this,e),this.comparator=t,this.root=n||Aa.EMPTY}return g(e,[{key:"insert",value:function(n,r){return new e(this.comparator,this.root.insert(n,r,this.comparator).copy(null,null,Aa.BLACK,null,null))}},{key:"remove",value:function(n){return new e(this.comparator,this.root.remove(n,this.comparator).copy(null,null,Aa.BLACK,null,null))}},{key:"get",value:function(n){for(var r=this.root;!r.isEmpty();){var i=this.comparator(n,r.key);if(0===i)return r.value;i<0?r=r.left:i>0&&(r=r.right)}return null}},{key:"indexOf",value:function(n){for(var r=0,i=this.root;!i.isEmpty();){var a=this.comparator(n,i.key);if(0===a)return r+i.left.size;a<0?i=i.left:(r+=i.left.size+1,i=i.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(n){return this.root.inorderTraversal(n)}},{key:"forEach",value:function(n){this.inorderTraversal(function(r,i){return n(r,i),!1})}},{key:"toString",value:function(){var n=[];return this.inorderTraversal(function(r,i){return n.push("".concat(r,":").concat(i)),!1}),"{".concat(n.join(", "),"}")}},{key:"reverseTraversal",value:function(n){return this.root.reverseTraversal(n)}},{key:"getIterator",value:function(){return new Qd(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(n){return new Qd(this.root,n,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Qd(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(n){return new Qd(this.root,n,this.comparator,!0)}}]),e}(),Qd=function(){function e(t,n,r,i){m(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return g(e,[{key:"getNext",value:function(){var n=this.nodeStack.pop(),r={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return r}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}]),e}(),Aa=function(){function e(t,n,r,i,a){m(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return g(e,[{key:"copy",value:function(n,r,i,a,s){return new e(null!=n?n:this.key,null!=r?r:this.value,null!=i?i:this.color,null!=a?a:this.left,null!=s?s:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}},{key:"reverseTraversal",value:function(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(n,r,i){var a=this,s=i(n,a.key);return(a=s<0?a.copy(null,null,null,a.left.insert(n,r,i),null):0===s?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(n,r,i))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),(n=n.copy(null,null,null,n.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(n,r){var i,a=this;if(r(n,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(n,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===r(n,a.key)){if(a.right.isEmpty())return e.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(n,r))}return a.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}},{key:"moveRedLeft",value:function(){var n=this.colorFlip();return n.right.left.isRed()&&(n=(n=(n=n.copy(null,null,null,null,n.right.rotateRight())).rotateLeft()).colorFlip()),n}},{key:"moveRedRight",value:function(){var n=this.colorFlip();return n.left.left.isRed()&&(n=(n=n.rotateRight()).colorFlip()),n}},{key:"rotateLeft",value:function(){var n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}},{key:"rotateRight",value:function(){var n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}},{key:"colorFlip",value:function(){var n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}},{key:"checkMaxDepth",value:function(){var n=this.check();return Math.pow(2,n)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ae();var n=this.left.check();if(n!==this.right.check())throw ae();return n+(this.isRed()?0:1)}}]),e}();Aa.EMPTY=null,Aa.RED=!0,Aa.BLACK=!1,Aa.EMPTY=new(function(){function e(){m(this,e),this.size=0}return g(e,[{key:"key",get:function(){throw ae()}},{key:"value",get:function(){throw ae()}},{key:"color",get:function(){throw ae()}},{key:"left",get:function(){throw ae()}},{key:"right",get:function(){throw ae()}},{key:"copy",value:function(n,r,i,a,s){return this}},{key:"insert",value:function(n,r,i){return new Aa(n,r)}},{key:"remove",value:function(n,r){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(n){return!1}},{key:"reverseTraversal",value:function(n){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Un=function(){function e(t){m(this,e),this.comparator=t,this.data=new fn(this.comparator)}return g(e,[{key:"has",value:function(n){return null!==this.data.get(n)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(n){return this.data.indexOf(n)}},{key:"forEach",value:function(n){this.data.inorderTraversal(function(r,i){return n(r),!1})}},{key:"forEachInRange",value:function(n,r){for(var i=this.data.getIteratorFrom(n[0]);i.hasNext();){var a=i.getNext();if(this.comparator(a.key,n[1])>=0)return;r(a.key)}}},{key:"forEachWhile",value:function(n,r){var i;for(i=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();i.hasNext();)if(!n(i.getNext().key))return}},{key:"firstAfterOrEqual",value:function(n){var r=this.data.getIteratorFrom(n);return r.hasNext()?r.getNext().key:null}},{key:"getIterator",value:function(){return new NP(this.data.getIterator())}},{key:"getIteratorFrom",value:function(n){return new NP(this.data.getIteratorFrom(n))}},{key:"add",value:function(n){return this.copy(this.data.remove(n).insert(n,!0))}},{key:"delete",value:function(n){return this.has(n)?this.copy(this.data.remove(n)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(n){var r=this;return r.size<n.size&&(r=n,n=this),n.forEach(function(i){r=r.add(i)}),r}},{key:"isEqual",value:function(n){if(!(n instanceof e)||this.size!==n.size)return!1;for(var r=this.data.getIterator(),i=n.data.getIterator();r.hasNext();){var a=r.getNext().key,s=i.getNext().key;if(0!==this.comparator(a,s))return!1}return!0}},{key:"toArray",value:function(){var n=[];return this.forEach(function(r){n.push(r)}),n}},{key:"toString",value:function(){var n=[];return this.forEach(function(r){return n.push(r)}),"SortedSet("+n.toString()+")"}},{key:"copy",value:function(n){var r=new e(this.comparator);return r.data=n,r}}]),e}(),NP=function(){function e(t){m(this,e),this.iter=t}return g(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}(),rJ=new fn(re.comparator);function Ra(){return rJ}var iJ=new fn(re.comparator);function db(){return iJ}function pb(){return new iu(function(e){return e.toString()},function(e,t){return e.isEqual(t)})}new fn(re.comparator);var aJ=new Un(re.comparator);function Je(){for(var e=aJ,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var s=a[i];e=e.add(s)}return e}var sJ=new Un(Be);function MP(){return sJ}var vb=function(){function e(t,n,r,i,a){m(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return g(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(n,r){var i=new Map;return i.set(n,gb.createSynthesizedTargetChangeForCurrentChange(n,r)),new e(be.min(),i,MP(),Ra(),Je())}}]),e}(),gb=function(){function e(t,n,r,i,a){m(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return g(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(n,r){return new e(Ln.EMPTY_BYTE_STRING,r,Je(),Je(),Je())}}]),e}(),Yd=g(function e(t,n,r,i){m(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.F=i}),PP=g(function e(t,n){m(this,e),this.targetId=t,this.$=n}),OP=g(function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ln.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;m(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}),FP=function(){function e(){m(this,e),this.B=0,this.L=LP(),this.U=Ln.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}return g(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"K",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.G}},{key:"W",value:function(n){n.approximateByteSize()>0&&(this.G=!0,this.U=n)}},{key:"H",value:function(){var n=Je(),r=Je(),i=Je();return this.L.forEach(function(a,s){switch(s){case 0:n=n.add(a);break;case 2:r=r.add(a);break;case 1:i=i.add(a);break;default:ae()}}),new gb(this.U,this.q,n,r,i)}},{key:"J",value:function(){this.G=!1,this.L=LP()}},{key:"Y",value:function(n,r){this.G=!0,this.L=this.L.insert(n,r)}},{key:"X",value:function(n){this.G=!0,this.L=this.L.remove(n)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.G=!0,this.q=!0}}]),e}(),oJ=function(){function e(t){m(this,e),this.nt=t,this.st=new Map,this.it=Ra(),this.rt=xP(),this.ot=new Un(Be)}return g(e,[{key:"ut",value:function(n){var i,r=W(n.O);try{for(r.s();!(i=r.n()).done;){var a=i.value;n.F&&n.F.isFoundDocument()?this.at(a,n.F):this.ct(a,n.key,n.F)}}catch(l){r.e(l)}finally{r.f()}var o,s=W(n.removedTargetIds);try{for(s.s();!(o=s.n()).done;)this.ct(o.value,n.key,n.F)}catch(l){s.e(l)}finally{s.f()}}},{key:"ht",value:function(n){var r=this;this.forEachTarget(n,function(i){var a=r.lt(i);switch(n.state){case 0:r.ft(i)&&a.W(n.resumeToken);break;case 1:a.tt(),a.K||a.J(),a.W(n.resumeToken);break;case 2:a.tt(),a.K||r.removeTarget(i);break;case 3:r.ft(i)&&(a.et(),a.W(n.resumeToken));break;case 4:r.ft(i)&&(r.dt(i),a.W(n.resumeToken));break;default:ae()}})}},{key:"forEachTarget",value:function(n,r){var i=this;n.targetIds.length>0?n.targetIds.forEach(r):this.st.forEach(function(a,s){i.ft(s)&&r(s)})}},{key:"_t",value:function(n){var r=n.targetId,i=n.$.count,a=this.wt(r);if(a){var s=a.target;if(Gd(s))if(0===i){var o=new re(s.path);this.ct(r,o,Vn.newNoDocument(o,be.min()))}else He(1===i);else this.gt(r)!==i&&(this.dt(r),this.ot=this.ot.add(r))}}},{key:"yt",value:function(n){var r=this,i=new Map;this.st.forEach(function(o,u){var l=r.wt(u);if(l){if(o.current&&Gd(l.target)){var c=new re(l.target.path);null!==r.it.get(c)||r.It(u,c)||r.ct(u,c,Vn.newNoDocument(c,n))}o.j&&(i.set(u,o.H()),o.J())}});var a=Je();this.rt.forEach(function(o,u){var l=!0;u.forEachWhile(function(c){var f=r.wt(c);return!f||2===f.purpose||(l=!1,!1)}),l&&(a=a.add(o))}),this.it.forEach(function(o,u){return u.setReadTime(n)});var s=new vb(n,i,this.ot,this.it,a);return this.it=Ra(),this.rt=xP(),this.ot=new Un(Be),s}},{key:"at",value:function(n,r){if(this.ft(n)){var i=this.It(n,r.key)?2:0;this.lt(n).Y(r.key,i),this.it=this.it.insert(r.key,r),this.rt=this.rt.insert(r.key,this.Tt(r.key).add(n))}}},{key:"ct",value:function(n,r,i){if(this.ft(n)){var a=this.lt(n);this.It(n,r)?a.Y(r,1):a.X(r),this.rt=this.rt.insert(r,this.Tt(r).delete(n)),i&&(this.it=this.it.insert(r,i))}}},{key:"removeTarget",value:function(n){this.st.delete(n)}},{key:"gt",value:function(n){var r=this.lt(n).H();return this.nt.getRemoteKeysForTarget(n).size+r.addedDocuments.size-r.removedDocuments.size}},{key:"Z",value:function(n){this.lt(n).Z()}},{key:"lt",value:function(n){var r=this.st.get(n);return r||(r=new FP,this.st.set(n,r)),r}},{key:"Tt",value:function(n){var r=this.rt.get(n);return r||(r=new Un(Be),this.rt=this.rt.insert(n,r)),r}},{key:"ft",value:function(n){var r=null!==this.wt(n);return r||te("WatchChangeAggregator","Detected inactive target",n),r}},{key:"wt",value:function(n){var r=this.st.get(n);return r&&r.K?null:this.nt.Et(n)}},{key:"dt",value:function(n){var r=this;this.st.set(n,new FP),this.nt.getRemoteKeysForTarget(n).forEach(function(i){r.ct(n,i,null)})}},{key:"It",value:function(n,r){return this.nt.getRemoteKeysForTarget(n).has(r)}}]),e}();function xP(){return new fn(re.comparator)}function LP(){return new fn(re.comparator)}var uJ={asc:"ASCENDING",desc:"DESCENDING"},lJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cJ=g(function e(t,n){m(this,e),this.databaseId=t,this.N=n});function Bn(e){return He(!!e),be.fromTimestamp((n=Da(e),new Nn(n.seconds,n.nanos)));var n}function UP(e){var t=ze.fromString(e);return He(KP(t)),t}function zi(e,t){var n=UP(t);if(n.get(1)!==e.databaseId.projectId)throw new $(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new $(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new re(HP(n))}function yb(e,t){return function(e,t){return(n=e,new ze(["projects",n.projectId,"databases",n.database])).child("documents").child(t).canonicalString();var n}(e.databaseId,t)}function jP(e){return new ze(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function HP(e){return He(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function qP(e,t){return{documents:[yb(e,t.path)]}}function $P(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=yb(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=yb(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(u){if(0!==u.length){var l=u.map(function(c){return function(f){if("=="===f.op){if(aP(f.value))return{unaryFilter:{field:au(f.field),op:"IS_NAN"}};if(iP(f.value))return{unaryFilter:{field:au(f.field),op:"IS_NULL"}}}else if("!="===f.op){if(aP(f.value))return{unaryFilter:{field:au(f.field),op:"IS_NOT_NAN"}};if(iP(f.value))return{unaryFilter:{field:au(f.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:au(f.field),op:gJ(f.op),value:f.value}}}(c)});return 1===l.length?l[0]:{compositeFilter:{op:"AND",filters:l}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(u){if(0!==u.length)return u.map(function(l){return{field:au((c=l).field),direction:vJ(c.dir)};var c})}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,l,u,s=(l=t.limit,e.N||Jo(l)?l:{value:l});return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt={before:!(u=t.endAt).inclusive,values:u.position}),n}function WP(e){var t=function(e){var t=UP(e);return 4===t.length?ze.emptyPath():HP(t)}(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){He(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var s=[];n.where&&(s=zP(n.where));var o=[];n.orderBy&&(o=n.orderBy.map(function(f){return new Ic(su((h=f).field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction));var h}));var f,h,u=null;n.limit&&(u=Jo(h="object"==typeof(f=n.limit)?f.value:f)?null:h);var l=null;n.startAt&&(l=function(f){return new Zo(f.values||[],!!f.before)}(n.startAt));var c=null;return n.endAt&&(c=function(f){return new Zo(f.values||[],!f.before)}(n.endAt)),function(e,t,n,r,i,a,s,o){return new Tc(e,t,n,r,i,a,s,o)}(t,i,o,s,u,"F",l,c)}function zP(e){return e?void 0!==e.unaryFilter?[yJ(e)]:void 0!==e.fieldFilter?[mJ(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(function(t){return zP(t)}).reduce(function(t,n){return t.concat(n)}):ae():[]}function vJ(e){return uJ[e]}function gJ(e){return lJ[e]}function au(e){return{fieldPath:e.canonicalString()}}function su(e){return Ta.fromServerFormat(e.fieldPath)}function mJ(e){return tr.create(su(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ae()}}(e.fieldFilter.op),e.fieldFilter.value)}function yJ(e){switch(e.unaryFilter.op){case"IS_NAN":var t=su(e.unaryFilter.field);return tr.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=su(e.unaryFilter.field);return tr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=su(e.unaryFilter.field);return tr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=su(e.unaryFilter.field);return tr.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ae()}}function KP(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var TJ=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),SJ=([].concat(ye(TJ),["documentOverlays"]),[].concat(["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],["indexConfiguration","indexState","indexEntries"]),"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."),AJ=function(){function e(){m(this,e),this.onCommittedListeners=[]}return g(e,[{key:"addOnCommittedListener",value:function(n){this.onCommittedListeners.push(n)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach(function(n){return n()})}}]),e}(),Y=function(){function e(t){var n=this;m(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return g(e,[{key:"catch",value:function(n){return this.next(void 0,n)}},{key:"next",value:function(n,r){var i=this;return this.callbackAttached&&ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(n,this.result):new e(function(a,s){i.nextCallback=function(o){i.wrapSuccess(n,o).next(a,s)},i.catchCallback=function(o){i.wrapFailure(r,o).next(a,s)}})}},{key:"toPromise",value:function(){var n=this;return new Promise(function(r,i){n.next(r,i)})}},{key:"wrapUserFunction",value:function(n){try{var r=n();return r instanceof e?r:e.resolve(r)}catch(i){return e.reject(i)}}},{key:"wrapSuccess",value:function(n,r){return n?this.wrapUserFunction(function(){return n(r)}):e.resolve(r)}},{key:"wrapFailure",value:function(n,r){return n?this.wrapUserFunction(function(){return n(r)}):e.reject(r)}}],[{key:"resolve",value:function(n){return new e(function(r,i){r(n)})}},{key:"reject",value:function(n){return new e(function(r,i){i(n)})}},{key:"waitFor",value:function(n){return new e(function(r,i){var a=0,s=0,o=!1;n.forEach(function(u){++a,u.next(function(){++s,o&&s===a&&r()},function(l){return i(l)})}),o=!0,s===a&&r()})}},{key:"or",value:function(n){var a,r=e.resolve(!1),i=W(n);try{var s=function(){var u=a.value;r=r.next(function(l){return l?e.resolve(l):u()})};for(i.s();!(a=i.n()).done;)s()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(n,r){var i=this,a=[];return n.forEach(function(s,o){a.push(r.call(i,s,o))}),this.waitFor(a)}}]),e}();function Mc(e){return"IndexedDbTransactionError"===e.name}var JP=function(){function e(t,n,r,i){m(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return g(e,[{key:"applyToRemoteDocument",value:function(n,r){for(var i=r.mutationResults,a=0;a<this.mutations.length;a++){var s=this.mutations[a];s.key.isEqual(n.key)&&ZY(s,n,i[a])}}},{key:"applyToLocalView",value:function(n){var i,r=W(this.baseMutations);try{for(r.s();!(i=r.n()).done;){var a=i.value;a.key.isEqual(n.key)&&fb(a,n,this.localWriteTime)}}catch(l){r.e(l)}finally{r.f()}var o,s=W(this.mutations);try{for(s.s();!(o=s.n()).done;){var u=o.value;u.key.isEqual(n.key)&&fb(u,n,this.localWriteTime)}}catch(l){s.e(l)}finally{s.f()}}},{key:"applyToLocalDocumentSet",value:function(n){var r=this;this.mutations.forEach(function(i){var a=n.get(i.key),s=a;r.applyToLocalView(s),a.isValidDocument()||s.convertToNoDocument(be.min())})}},{key:"keys",value:function(){return this.mutations.reduce(function(n,r){return n.add(r.key)},Je())}},{key:"isEqual",value:function(n){return this.batchId===n.batchId&&wc(this.mutations,n.mutations,function(r,i){return EP(r,i)})&&wc(this.baseMutations,n.baseMutations,function(r,i){return EP(r,i)})}}]),e}(),XP=function(){function e(t,n){m(this,e),this.largestBatchId=t,this.mutation=n}return g(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(n){return null!==n&&this.mutation===n.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),ep=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:be.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:be.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ln.EMPTY_BYTE_STRING;m(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return g(e,[{key:"withSequenceNumber",value:function(n){return new e(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(n,r){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,n)}},{key:"withLastLimboFreeSnapshotVersion",value:function(n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken)}}]),e}(),MJ=g(function e(t){m(this,e),this.Jt=t});function e2(e){var t=WP({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?function(e,t,n){return new Tc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,"L",e.startAt,e.endAt)}(t,t.limit):t}var OJ=function(){function e(){m(this,e),this.qe=new FJ}return g(e,[{key:"addToCollectionParentIndex",value:function(n,r){return this.qe.add(r),Y.resolve()}},{key:"getCollectionParents",value:function(n,r){return Y.resolve(this.qe.getEntries(r))}},{key:"addFieldIndex",value:function(n,r){return Y.resolve()}},{key:"deleteFieldIndex",value:function(n,r){return Y.resolve()}},{key:"getDocumentsMatchingTarget",value:function(n,r){return Y.resolve(null)}},{key:"getFieldIndex",value:function(n,r){return Y.resolve(null)}},{key:"getFieldIndexes",value:function(n,r){return Y.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(n){return Y.resolve(null)}},{key:"updateCollectionGroup",value:function(n,r,i){return Y.resolve()}},{key:"updateIndexEntries",value:function(n,r){return Y.resolve()}}]),e}(),FJ=function(){function e(){m(this,e),this.index={}}return g(e,[{key:"add",value:function(n){var r=n.lastSegment(),i=n.popLast(),a=this.index[r]||new Un(ze.comparator),s=!a.has(i);return this.index[r]=a.add(i),s}},{key:"has",value:function(n){var r=n.lastSegment(),i=n.popLast(),a=this.index[r];return a&&a.has(i)}},{key:"getEntries",value:function(n){return(this.index[n]||new Un(ze.comparator)).toArray()}}]),e}();new Uint8Array(0);var Na=function(){function e(t,n,r){m(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return g(e,null,[{key:"withCacheSize",value:function(n){return new e(n,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();Na.DEFAULT_COLLECTION_PERCENTILE=10,Na.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Na.DEFAULT=new Na(41943040,Na.DEFAULT_COLLECTION_PERCENTILE,Na.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Na.DISABLED=new Na(-1,0,0);var kb=function(){function e(t){m(this,e),this.wn=t}return g(e,[{key:"next",value:function(){return this.wn+=2,this.wn}}],[{key:"mn",value:function(){return new e(0)}},{key:"gn",value:function(){return new e(-1)}}]),e}();function ou(e){return wb.apply(this,arguments)}function wb(){return(wb=b(_().mark(function e(t){return _().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.code===R.FAILED_PRECONDITION&&t.message===SJ){r.next=2;break}throw t;case 2:te("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return r.stop()}},e)}))).apply(this,arguments)}var VJ=function(){function e(){m(this,e),this.changes=new iu(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return g(e,[{key:"addEntry",value:function(n){this.assertNotApplied(),this.changes.set(n.key,n)}},{key:"removeEntry",value:function(n,r){this.assertNotApplied(),this.changes.set(n,Vn.newInvalidDocument(n).setReadTime(r))}},{key:"getEntry",value:function(n,r){this.assertNotApplied();var i=this.changes.get(r);return void 0!==i?Y.resolve(i):this.getFromCache(n,r)}},{key:"getEntries",value:function(n,r){return this.getAllFromCache(n,r)}},{key:"apply",value:function(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}},{key:"assertNotApplied",value:function(){}}]),e}(),BJ=function(){function e(t,n,r){m(this,e),this.fs=t,this.$s=n,this.indexManager=r}return g(e,[{key:"Bs",value:function(n,r){var i=this;return this.$s.getAllMutationBatchesAffectingDocumentKey(n,r).next(function(a){return i.Ls(n,r,a)})}},{key:"Ls",value:function(n,r,i){return this.fs.getEntry(n,r).next(function(a){var o,s=W(i);try{for(s.s();!(o=s.n()).done;)o.value.applyToLocalView(a)}catch(l){s.e(l)}finally{s.f()}return a})}},{key:"Us",value:function(n,r){n.forEach(function(i,a){var o,s=W(r);try{for(s.s();!(o=s.n()).done;)o.value.applyToLocalView(a)}catch(l){s.e(l)}finally{s.f()}})}},{key:"qs",value:function(n,r){var i=this;return this.fs.getEntries(n,r).next(function(a){return i.Gs(n,a).next(function(){return a})})}},{key:"Gs",value:function(n,r){var i=this;return this.$s.getAllMutationBatchesAffectingDocumentKeys(n,r).next(function(a){return i.Us(r,a)})}},{key:"Ks",value:function(n,r,i){return re.isDocumentKey((a=r).path)&&null===a.collectionGroup&&0===a.filters.length?this.Qs(n,r.path):function(e){return null!==e.collectionGroup}(r)?this.js(n,r,i):this.Ws(n,r,i);var a}},{key:"Qs",value:function(n,r){return this.Bs(n,new re(r)).next(function(i){var a=db();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}},{key:"js",value:function(n,r,i){var a=this,s=r.collectionGroup,o=db();return this.indexManager.getCollectionParents(n,s).next(function(u){return Y.forEach(u,function(l){var f,h,c=(f=r,h=l.child(s),new Tc(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt));return a.Ws(n,c,i).next(function(f){f.forEach(function(h,d){o=o.insert(h,d)})})}).next(function(){return o})})}},{key:"Ws",value:function(n,r,i){var s,a=this;return this.fs.getAllFromCollection(n,r.path,i).next(function(o){return s=o,a.$s.getAllMutationBatchesAffectingQuery(n,r)}).next(function(o){var l,u=W(o);try{for(u.s();!(l=u.n()).done;){var h,c=l.value,f=W(c.mutations);try{for(f.s();!(h=f.n()).done;){var d=h.value,p=d.key,v=s.get(p);null==v&&(v=Vn.newInvalidDocument(p),s=s.insert(p,v)),fb(d,v,c.localWriteTime),v.isFoundDocument()||(s=s.remove(p))}}catch(y){f.e(y)}finally{f.f()}}}catch(y){u.e(y)}finally{u.f()}}).next(function(){return s.forEach(function(o,u){cb(r,u)||(s=s.remove(o))}),s})}}]),e}(),jJ=function(){function e(t,n,r,i){m(this,e),this.targetId=t,this.fromCache=n,this.zs=r,this.Hs=i}return g(e,null,[{key:"Js",value:function(n,r){var o,i=Je(),a=Je(),s=W(r.docChanges);try{for(s.s();!(o=s.n()).done;){var u=o.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(l){s.e(l)}finally{s.f()}return new e(n,r.fromCache,i,a)}}]),e}(),HJ=function(){function e(){m(this,e)}return g(e,[{key:"Ys",value:function(n){this.Xs=n}},{key:"Ks",value:function(n,r,i,a){var o,s=this;return 0===(o=r).filters.length&&null===o.limit&&null==o.startAt&&null==o.endAt&&(0===o.explicitOrderBy.length||1===o.explicitOrderBy.length&&o.explicitOrderBy[0].field.isKeyField())||i.isEqual(be.min())?this.Zs(n,r):this.Xs.qs(n,a).next(function(o){var u=s.ti(r,o);return(qd(r)||$d(r))&&s.ei(r.limitType,u,a,i)?s.Zs(n,r):(YM()<=Ue.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),lb(r)),s.Xs.Ks(n,r,function(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=be.fromTimestamp(1e9===r?new Nn(n+1,0):new Nn(n,r));return new sb(i,re.empty(),t)}(i,-1)).next(function(l){return u.forEach(function(c){l=l.insert(c.key,c)}),l}))})}},{key:"ti",value:function(n,r){var i=new Un(vP(n));return r.forEach(function(a,s){cb(n,s)&&(i=i.add(s))}),i}},{key:"ei",value:function(n,r,i,a){if(i.size!==r.size)return!0;var s="F"===n?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(a)>0)}},{key:"Zs",value:function(n,r){return YM()<=Ue.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",lb(r)),this.Xs.Ks(n,r,sb.min())}}]),e}(),GJ=function(){function e(t,n,r,i){m(this,e),this.persistence=t,this.ni=n,this.M=i,this.si=new fn(Be),this.ii=new iu(function(a){return Hd(a)},ob),this.ri=new Map,this.oi=t.getRemoteDocumentCache(),this.ls=t.getTargetCache(),this.ds=t.getBundleCache(),this.ui(r)}return g(e,[{key:"ui",value:function(n){this.indexManager=this.persistence.getIndexManager(n),this.$s=this.persistence.getMutationQueue(n,this.indexManager),this.ai=new BJ(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}},{key:"collectGarbage",value:function(n){var r=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(i){return n.collect(i,r.si)})}}]),e}();function n2(e,t){return bb.apply(this,arguments)}function bb(){return(bb=b(_().mark(function e(t,n){var r;return _().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=K(t),a.next=3,r.persistence.runTransaction("Handle user change","readonly",function(s){var o;return r.$s.getAllMutationBatches(s).next(function(u){return o=u,r.ui(n),r.$s.getAllMutationBatches(s)}).next(function(u){var d,l=[],c=[],f=Je(),h=W(o);try{for(h.s();!(d=h.n()).done;){var p=d.value;l.push(p.batchId);var y,v=W(p.mutations);try{for(v.s();!(y=v.n()).done;)f=f.add(y.value.key)}catch(V){v.e(V)}finally{v.f()}}}catch(V){h.e(V)}finally{h.f()}var C,w=W(u);try{for(w.s();!(C=w.n()).done;){var M=C.value;c.push(M.batchId);var z,j=W(M.mutations);try{for(j.s();!(z=j.n()).done;)f=f.add(z.value.key)}catch(V){j.e(V)}finally{j.f()}}}catch(V){w.e(V)}finally{w.f()}return r.ai.qs(s,f).next(function(V){return{ci:V,removedBatchIds:l,addedBatchIds:c}})})});case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}},e)}))).apply(this,arguments)}function r2(e){var t=K(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.ls.getLastRemoteSnapshotVersion(n)})}function WJ(e,t){var n=K(e),r=t.snapshotVersion,i=n.si;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(a){var s=n.oi.newChangeBuffer({trackRemovals:!0});i=n.si;var o=[];t.targetChanges.forEach(function(c,f){var p,v,y,h=i.get(f);if(h){o.push(n.ls.removeMatchingKeys(a,c.removedDocuments,f).next(function(){return n.ls.addMatchingKeys(a,c.addedDocuments,f)}));var d=h.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.has(f)?d=d.withResumeToken(Ln.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):c.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(c.resumeToken,r)),i=i.insert(f,d),v=d,y=c,(0===(p=h).resumeToken.approximateByteSize()||v.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&o.push(n.ls.updateTargetData(a,d))}});var u=Ra();if(t.documentUpdates.forEach(function(c){t.resolvedLimboDocuments.has(c)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(a,c))}),o.push(function(e,t,n){var r=Je();return n.forEach(function(i){return r=r.add(i)}),t.getEntries(e,r).next(function(i){var a=Ra();return n.forEach(function(s,o){var u=i.get(s);o.isNoDocument()&&o.version.isEqual(be.min())?(t.removeEntry(s,o.readTime),a=a.insert(s,o)):!u.isValidDocument()||o.version.compareTo(u.version)>0||0===o.version.compareTo(u.version)&&u.hasPendingWrites?(t.addEntry(o),a=a.insert(s,o)):te("LocalStore","Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",o.version)}),a})}(a,s,t.documentUpdates).next(function(c){u=c})),!r.isEqual(be.min())){var l=n.ls.getLastRemoteSnapshotVersion(a).next(function(c){return n.ls.setTargetsMetadata(a,a.currentSequenceNumber,r)});o.push(l)}return Y.waitFor(o).next(function(){return s.apply(a)}).next(function(){return n.ai.Gs(a,u)}).next(function(){return u})}).then(function(a){return n.si=i,a})}function uu(e,t){var n=K(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n.ls.getTargetData(r,t).next(function(a){return a?Y.resolve(i=a):n.ls.allocateTargetId(r).next(function(s){return i=new ep(t,s,0,r.currentSequenceNumber),n.ls.addTargetData(r,i).next(function(){return i})})})}).then(function(r){var i=n.si.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.si=n.si.insert(r.targetId,r),n.ii.set(t,r.targetId)),r})}function lu(e,t,n){return Cb.apply(this,arguments)}function Cb(){return(Cb=b(_().mark(function e(t,n,r){var i,a,s;return _().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=K(t),a=i.si.get(n),s=r?"readwrite":"readwrite-primary",u.prev=1,u.t0=r,u.t0){u.next=6;break}return u.next=6,i.persistence.runTransaction("Release target",s,function(l){return i.persistence.referenceDelegate.removeTarget(l,a)});case 6:u.next=13;break;case 8:if(u.prev=8,u.t1=u.catch(1),Mc(u.t1)){u.next=12;break}throw u.t1;case 12:te("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(u.t1));case 13:i.si=i.si.remove(n),i.ii.delete(a.target);case 14:case"end":return u.stop()}},e,null,[[1,8]])}))).apply(this,arguments)}function rp(e,t,n){var r=K(e),i=be.min(),a=Je();return r.persistence.runTransaction("Execute query","readonly",function(s){return(o=r,u=s,l=Er(t),c=K(o),f=c.ii.get(l),void 0!==f?Y.resolve(c.si.get(f)):c.ls.getTargetData(u,l)).next(function(o){if(o)return i=o.lastLimboFreeSnapshotVersion,r.ls.getMatchingKeysForTargetId(s,o.targetId).next(function(u){a=u})}).next(function(){return r.ni.Ks(s,t,n?i:be.min(),n?a:Je())}).next(function(o){return function(e,t,n){var r=be.min();n.forEach(function(i,a){a.readTime.compareTo(r)>0&&(r=a.readTime)}),e.ri.set(t,r)}(r,function(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}(t),o),{documents:o,hi:a}});var o,u,l,c,f})}var KJ=function(){function e(t){m(this,e),this.M=t,this._i=new Map,this.wi=new Map}return g(e,[{key:"getBundleMetadata",value:function(n,r){return Y.resolve(this._i.get(r))}},{key:"saveBundleMetadata",value:function(n,r){var i;return this._i.set(r.id,{id:(i=r).id,version:i.version,createTime:Bn(i.createTime)}),Y.resolve()}},{key:"getNamedQuery",value:function(n,r){return Y.resolve(this.wi.get(r))}},{key:"saveNamedQuery",value:function(n,r){return this.wi.set(r.name,{name:(i=r).name,query:e2(i.bundledQuery),readTime:Bn(i.readTime)}),Y.resolve();var i}}]),e}(),QJ=function(){function e(){m(this,e),this.overlays=new fn(re.comparator),this.mi=new Map}return g(e,[{key:"getOverlay",value:function(n,r){return Y.resolve(this.overlays.get(r))}},{key:"saveOverlays",value:function(n,r,i){var a=this;return i.forEach(function(s,o){a.Xt(n,r,o)}),Y.resolve()}},{key:"removeOverlaysForBatchId",value:function(n,r,i){var a=this,s=this.mi.get(i);return void 0!==s&&(s.forEach(function(o){return a.overlays=a.overlays.remove(o)}),this.mi.delete(i)),Y.resolve()}},{key:"getOverlaysForCollection",value:function(n,r,i){for(var a=pb(),s=r.length+1,o=new re(r.child("")),u=this.overlays.getIteratorFrom(o);u.hasNext();){var l=u.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&a.set(l.getKey(),l)}return Y.resolve(a)}},{key:"getOverlaysForCollectionGroup",value:function(n,r,i,a){for(var s=new fn(function(h,d){return h-d}),o=this.overlays.getIterator();o.hasNext();){var u=o.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>i){var l=s.get(u.largestBatchId);null===l&&(l=pb(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}for(var c=pb(),f=s.getIterator();f.hasNext()&&(f.getNext().value.forEach(function(h,d){return c.set(h,d)}),!(c.size()>=a)););return Y.resolve(c)}},{key:"Xt",value:function(n,r,i){if(null!==i){var a=this.overlays.get(i.key);if(null!==a){var s=this.mi.get(a.largestBatchId).delete(i.key);this.mi.set(a.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new XP(r,i));var o=this.mi.get(r);void 0===o&&(o=Je(),this.mi.set(r,o)),this.mi.set(r,o.add(i.key))}}}]),e}(),Tb=function(){function e(){m(this,e),this.gi=new Un(qt.yi),this.pi=new Un(qt.Ii)}return g(e,[{key:"isEmpty",value:function(){return this.gi.isEmpty()}},{key:"addReference",value:function(n,r){var i=new qt(n,r);this.gi=this.gi.add(i),this.pi=this.pi.add(i)}},{key:"Ti",value:function(n,r){var i=this;n.forEach(function(a){return i.addReference(a,r)})}},{key:"removeReference",value:function(n,r){this.Ei(new qt(n,r))}},{key:"Ai",value:function(n,r){var i=this;n.forEach(function(a){return i.removeReference(a,r)})}},{key:"Ri",value:function(n){var r=this,i=new re(new ze([])),a=new qt(i,n),s=new qt(i,n+1),o=[];return this.pi.forEachInRange([a,s],function(u){r.Ei(u),o.push(u.key)}),o}},{key:"bi",value:function(){var n=this;this.gi.forEach(function(r){return n.Ei(r)})}},{key:"Ei",value:function(n){this.gi=this.gi.delete(n),this.pi=this.pi.delete(n)}},{key:"Pi",value:function(n){var r=new re(new ze([])),i=new qt(r,n),a=new qt(r,n+1),s=Je();return this.pi.forEachInRange([i,a],function(o){s=s.add(o.key)}),s}},{key:"containsKey",value:function(n){var r=new qt(n,0),i=this.gi.firstAfterOrEqual(r);return null!==i&&n.isEqual(i.key)}}]),e}(),qt=function(){function e(t,n){m(this,e),this.key=t,this.Vi=n}return g(e,null,[{key:"yi",value:function(n,r){return re.comparator(n.key,r.key)||Be(n.Vi,r.Vi)}},{key:"Ii",value:function(n,r){return Be(n.Vi,r.Vi)||re.comparator(n.key,r.key)}}]),e}(),YJ=function(){function e(t,n){m(this,e),this.indexManager=t,this.referenceDelegate=n,this.$s=[],this.vi=1,this.Si=new Un(qt.yi)}return g(e,[{key:"checkEmpty",value:function(n){return Y.resolve(0===this.$s.length)}},{key:"addMutationBatch",value:function(n,r,i,a){var s=this.vi;this.vi++;var o=new JP(s,r,i,a);this.$s.push(o);var l,u=W(a);try{for(u.s();!(l=u.n()).done;){var c=l.value;this.Si=this.Si.add(new qt(c.key,s)),this.indexManager.addToCollectionParentIndex(n,c.key.path.popLast())}}catch(f){u.e(f)}finally{u.f()}return Y.resolve(o)}},{key:"lookupMutationBatch",value:function(n,r){return Y.resolve(this.Di(r))}},{key:"getNextMutationBatchAfterBatchId",value:function(n,r){var a=this.Ci(r+1),s=a<0?0:a;return Y.resolve(this.$s.length>s?this.$s[s]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Y.resolve(0===this.$s.length?-1:this.vi-1)}},{key:"getAllMutationBatches",value:function(n){return Y.resolve(this.$s.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(n,r){var i=this,a=new qt(r,0),s=new qt(r,Number.POSITIVE_INFINITY),o=[];return this.Si.forEachInRange([a,s],function(u){var l=i.Di(u.Vi);o.push(l)}),Y.resolve(o)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(n,r){var i=this,a=new Un(Be);return r.forEach(function(s){var o=new qt(s,0),u=new qt(s,Number.POSITIVE_INFINITY);i.Si.forEachInRange([o,u],function(l){a=a.add(l.Vi)})}),Y.resolve(this.xi(a))}},{key:"getAllMutationBatchesAffectingQuery",value:function(n,r){var i=r.path,a=i.length+1,s=i;re.isDocumentKey(s)||(s=s.child(""));var o=new qt(new re(s),0),u=new Un(Be);return this.Si.forEachWhile(function(l){var c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===a&&(u=u.add(l.Vi)),!0)},o),Y.resolve(this.xi(u))}},{key:"xi",value:function(n){var r=this,i=[];return n.forEach(function(a){var s=r.Di(a);null!==s&&i.push(s)}),i}},{key:"removeMutationBatch",value:function(n,r){var i=this;He(0===this.Ni(r.batchId,"removed")),this.$s.shift();var a=this.Si;return Y.forEach(r.mutations,function(s){var o=new qt(s.key,r.batchId);return a=a.delete(o),i.referenceDelegate.markPotentiallyOrphaned(n,s.key)}).next(function(){i.Si=a})}},{key:"dn",value:function(n){}},{key:"containsKey",value:function(n,r){var i=new qt(r,0),a=this.Si.firstAfterOrEqual(i);return Y.resolve(r.isEqual(a&&a.key))}},{key:"performConsistencyCheck",value:function(n){return Y.resolve()}},{key:"Ni",value:function(n,r){return this.Ci(n)}},{key:"Ci",value:function(n){return 0===this.$s.length?0:n-this.$s[0].batchId}},{key:"Di",value:function(n){var r=this.Ci(n);return r<0||r>=this.$s.length?null:this.$s[r]}}]),e}(),JJ=function(){function e(t){m(this,e),this.ki=t,this.docs=new fn(re.comparator),this.size=0}return g(e,[{key:"setIndexManager",value:function(n){this.indexManager=n}},{key:"addEntry",value:function(n,r){var i=r.key,a=this.docs.get(i),s=a?a.size:0,o=this.ki(r);return this.docs=this.docs.insert(i,{document:r.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(n,i.path.popLast())}},{key:"removeEntry",value:function(n){var r=this.docs.get(n);r&&(this.docs=this.docs.remove(n),this.size-=r.size)}},{key:"getEntry",value:function(n,r){var i=this.docs.get(r);return Y.resolve(i?i.document.mutableCopy():Vn.newInvalidDocument(r))}},{key:"getEntries",value:function(n,r){var i=this,a=Ra();return r.forEach(function(s){var o=i.docs.get(s);a=a.insert(s,o?o.document.mutableCopy():Vn.newInvalidDocument(s))}),Y.resolve(a)}},{key:"getAllFromCollection",value:function(n,r,i){for(var a=Ra(),s=new re(r.child("")),o=this.docs.getIteratorFrom(s);o.hasNext();){var u=o.getNext(),l=u.key,c=u.value.document;if(!r.isPrefixOf(l.path))break;l.path.length>r.length+1||MY(NY(c),i)<=0||(a=a.insert(c.key,c.mutableCopy()))}return Y.resolve(a)}},{key:"getAllFromCollectionGroup",value:function(n,r,i,a){ae()}},{key:"Mi",value:function(n,r){return Y.forEach(this.docs,function(i){return r(i)})}},{key:"newChangeBuffer",value:function(n){return new XJ(this)}},{key:"getSize",value:function(n){return Y.resolve(this.size)}}]),e}(),XJ=function(e){D(n,e);var t=S(n);function n(r){var i;return m(this,n),(i=t.call(this)).qn=r,i}return g(n,[{key:"applyChanges",value:function(i){var a=this,s=[];return this.changes.forEach(function(o,u){u.isValidDocument()?s.push(a.qn.addEntry(i,u)):a.qn.removeEntry(o)}),Y.waitFor(s)}},{key:"getFromCache",value:function(i,a){return this.qn.getEntry(i,a)}},{key:"getAllFromCache",value:function(i,a){return this.qn.getEntries(i,a)}}]),n}(VJ),ZJ=function(){function e(t){m(this,e),this.persistence=t,this.Oi=new iu(function(n){return Hd(n)},ob),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.Fi=0,this.$i=new Tb,this.targetCount=0,this.Bi=kb.mn()}return g(e,[{key:"forEachTarget",value:function(n,r){return this.Oi.forEach(function(i,a){return r(a)}),Y.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(n){return Y.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(n){return Y.resolve(this.Fi)}},{key:"allocateTargetId",value:function(n){return this.highestTargetId=this.Bi.next(),Y.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(n,r,i){return i&&(this.lastRemoteSnapshotVersion=i),r>this.Fi&&(this.Fi=r),Y.resolve()}},{key:"In",value:function(n){this.Oi.set(n.target,n);var r=n.targetId;r>this.highestTargetId&&(this.Bi=new kb(r),this.highestTargetId=r),n.sequenceNumber>this.Fi&&(this.Fi=n.sequenceNumber)}},{key:"addTargetData",value:function(n,r){return this.In(r),this.targetCount+=1,Y.resolve()}},{key:"updateTargetData",value:function(n,r){return this.In(r),Y.resolve()}},{key:"removeTargetData",value:function(n,r){return this.Oi.delete(r.target),this.$i.Ri(r.targetId),this.targetCount-=1,Y.resolve()}},{key:"removeTargets",value:function(n,r,i){var a=this,s=0,o=[];return this.Oi.forEach(function(u,l){l.sequenceNumber<=r&&null===i.get(l.targetId)&&(a.Oi.delete(u),o.push(a.removeMatchingKeysForTargetId(n,l.targetId)),s++)}),Y.waitFor(o).next(function(){return s})}},{key:"getTargetCount",value:function(n){return Y.resolve(this.targetCount)}},{key:"getTargetData",value:function(n,r){var i=this.Oi.get(r)||null;return Y.resolve(i)}},{key:"addMatchingKeys",value:function(n,r,i){return this.$i.Ti(r,i),Y.resolve()}},{key:"removeMatchingKeys",value:function(n,r,i){this.$i.Ai(r,i);var a=this.persistence.referenceDelegate,s=[];return a&&r.forEach(function(o){s.push(a.markPotentiallyOrphaned(n,o))}),Y.waitFor(s)}},{key:"removeMatchingKeysForTargetId",value:function(n,r){return this.$i.Ri(r),Y.resolve()}},{key:"getMatchingKeysForTargetId",value:function(n,r){var i=this.$i.Pi(r);return Y.resolve(i)}},{key:"containsKey",value:function(n,r){return Y.resolve(this.$i.containsKey(r))}}]),e}(),eX=function(){function e(t,n){var r=this;m(this,e),this.Li={},this.overlays={},this.ts=new Xw(0),this.es=!1,this.es=!0,this.referenceDelegate=t(this),this.ls=new ZJ(this),this.indexManager=new OJ,this.fs=new JJ(function(i){return r.referenceDelegate.Ui(i)}),this.M=new MJ(n),this.ds=new KJ(this.M)}return g(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.es=!1,Promise.resolve()}},{key:"started",get:function(){return this.es}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(n){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(n){var r=this.overlays[n.toKey()];return r||(r=new QJ,this.overlays[n.toKey()]=r),r}},{key:"getMutationQueue",value:function(n,r){var i=this.Li[n.toKey()];return i||(i=new YJ(r,this.referenceDelegate),this.Li[n.toKey()]=i),i}},{key:"getTargetCache",value:function(){return this.ls}},{key:"getRemoteDocumentCache",value:function(){return this.fs}},{key:"getBundleCache",value:function(){return this.ds}},{key:"runTransaction",value:function(n,r,i){var a=this;te("MemoryPersistence","Starting transaction:",n);var s=new tX(this.ts.next());return this.referenceDelegate.qi(),i(s).next(function(o){return a.referenceDelegate.Gi(s).next(function(){return o})}).toPromise().then(function(o){return s.raiseOnCommittedEvent(),o})}},{key:"Ki",value:function(n,r){return Y.or(Object.values(this.Li).map(function(i){return function(){return i.containsKey(n,r)}}))}}]),e}(),tX=function(e){D(n,e);var t=S(n);function n(r){var i;return m(this,n),(i=t.call(this)).currentSequenceNumber=r,i}return g(n)}(AJ),nX=function(){function e(t){m(this,e),this.persistence=t,this.Qi=new Tb,this.ji=null}return g(e,[{key:"zi",get:function(){if(this.ji)return this.ji;throw ae()}},{key:"addReference",value:function(n,r,i){return this.Qi.addReference(i,r),this.zi.delete(i.toString()),Y.resolve()}},{key:"removeReference",value:function(n,r,i){return this.Qi.removeReference(i,r),this.zi.add(i.toString()),Y.resolve()}},{key:"markPotentiallyOrphaned",value:function(n,r){return this.zi.add(r.toString()),Y.resolve()}},{key:"removeTarget",value:function(n,r){var i=this;this.Qi.Ri(r.targetId).forEach(function(s){return i.zi.add(s.toString())});var a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(n,r.targetId).next(function(s){s.forEach(function(o){return i.zi.add(o.toString())})}).next(function(){return a.removeTargetData(n,r)})}},{key:"qi",value:function(){this.ji=new Set}},{key:"Gi",value:function(n){var r=this,i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.zi,function(a){var s=re.fromPath(a);return r.Hi(n,s).next(function(o){o||i.removeEntry(s,be.min())})}).next(function(){return r.ji=null,i.apply(n)})}},{key:"updateLimboDocument",value:function(n,r){var i=this;return this.Hi(n,r).next(function(a){a?i.zi.delete(r.toString()):i.zi.add(r.toString())})}},{key:"Ui",value:function(n){return 0}},{key:"Hi",value:function(n,r){var i=this;return Y.or([function(){return Y.resolve(i.Qi.containsKey(r))},function(){return i.persistence.getTargetCache().containsKey(n,r)},function(){return i.persistence.Ki(n,r)}])}}],[{key:"Wi",value:function(n){return new e(n)}}]),e}(),u2=function(){function e(){m(this,e),this.activeTargetIds=MP()}return g(e,[{key:"Xi",value:function(n){this.activeTargetIds=this.activeTargetIds.add(n)}},{key:"Zi",value:function(n){this.activeTargetIds=this.activeTargetIds.delete(n)}},{key:"Yi",value:function(){var n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}]),e}(),rX=function(){function e(){m(this,e),this.Fr=new u2,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return g(e,[{key:"addPendingMutation",value:function(n){}},{key:"updateMutationState",value:function(n,r,i){}},{key:"addLocalQueryTarget",value:function(n){return this.Fr.Xi(n),this.$r[n]||"not-current"}},{key:"updateQueryState",value:function(n,r,i){this.$r[n]=r}},{key:"removeLocalQueryTarget",value:function(n){this.Fr.Zi(n)}},{key:"isLocalQueryTarget",value:function(n){return this.Fr.activeTargetIds.has(n)}},{key:"clearQueryState",value:function(n){delete this.$r[n]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(n){return this.Fr.activeTargetIds.has(n)}},{key:"start",value:function(){return this.Fr=new u2,Promise.resolve()}},{key:"handleUserChange",value:function(n,r,i){}},{key:"setOnlineState",value:function(n){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(n){}},{key:"notifyBundleLoaded",value:function(n){}}]),e}(),iX=function(){function e(){m(this,e)}return g(e,[{key:"Br",value:function(n){}},{key:"shutdown",value:function(){}}]),e}(),l2=function(){function e(){var t=this;m(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Gr()},this.Kr=[],this.Qr()}return g(e,[{key:"Br",value:function(n){this.Kr.push(n)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var r,n=W(this.Kr);try{for(n.s();!(r=n.n()).done;)(0,r.value)(0)}catch(a){n.e(a)}finally{n.f()}}},{key:"Gr",value:function(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var r,n=W(this.Kr);try{for(n.s();!(r=n.n()).done;)(0,r.value)(1)}catch(a){n.e(a)}finally{n.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),aX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},sX=function(){function e(t){m(this,e),this.jr=t.jr,this.Wr=t.Wr}return g(e,[{key:"zr",value:function(n){this.Hr=n}},{key:"Jr",value:function(n){this.Yr=n}},{key:"onMessage",value:function(n){this.Xr=n}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(n){this.jr(n)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(n){this.Yr(n)}},{key:"no",value:function(n){this.Xr(n)}}]),e}(),oX=function(e){D(n,e);var t=S(n);function n(r){var i;return m(this,n),(i=t.call(this,r)).forceLongPolling=r.forceLongPolling,i.autoDetectLongPolling=r.autoDetectLongPolling,i.useFetchStreams=r.useFetchStreams,i}return g(n,[{key:"ao",value:function(i,a,s,o){return new Promise(function(u,l){var c=new gY;c.listenOnce(dY.COMPLETE,function(){try{switch(c.getLastErrorCode()){case Yw.NO_ERROR:var h=c.getResponseJson();te("Connection","XHR received:",JSON.stringify(h)),u(h);break;case Yw.TIMEOUT:te("Connection",'RPC "'+i+'" timed out'),l(new $(R.DEADLINE_EXCEEDED,"Request time out"));break;case Yw.HTTP_ERROR:var d=c.getStatus();if(te("Connection",'RPC "'+i+'" failed with status:',d,"response text:",c.getResponseText()),d>0){var p=c.getResponseJson().error;if(p&&p.status&&p.message){var v=(k=p.status.toLowerCase().replace(/_/g,"-"),Object.values(R).indexOf(k)>=0?k:R.UNKNOWN);l(new $(v,p.message))}else l(new $(R.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new $(R.UNAVAILABLE,"Connection failed."));break;default:ae()}}finally{te("Connection",'RPC "'+i+'" completed.')}var k});var f=JSON.stringify(o);c.send(a,"POST",f,s,15)})}},{key:"ho",value:function(i,a,s){var o=[this.so,"/","google.firestore.v1.Firestore","/",i,"/channel"],u=fY(),l=hY(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(c.xmlHttpFactory=new vY({})),this.uo(c.initMessageHeaders,a,s),UA()||BA()||jt().indexOf("Electron/")>=0||jA()||jt().indexOf("MSAppHost/")>=0||cy()||(c.httpHeadersOverwriteParam="$httpHeaders");var f=o.join("");te("Connection","Creating WebChannel: "+f,c);var h=u.createWebChannel(f,c),d=!1,p=!1,v=new sX({jr:function(w){p?te("Connection","Not sending because WebChannel is closed:",w):(d||(te("Connection","Opening WebChannel transport."),h.open(),d=!0),te("Connection","WebChannel sending:",w),h.send(w))},Wr:function(){return h.close()}}),y=function(w,C,M){w.listen(C,function(j){try{M(j)}catch(z){setTimeout(function(){throw z},0)}})};return y(h,Ld.EventType.OPEN,function(){p||te("Connection","WebChannel transport opened.")}),y(h,Ld.EventType.CLOSE,function(){p||(p=!0,te("Connection","WebChannel transport closed"),v.eo())}),y(h,Ld.EventType.ERROR,function(k){p||(p=!0,Vd("Connection","WebChannel transport errored:",k),v.eo(new $(R.UNAVAILABLE,"The operation could not be completed")))}),y(h,Ld.EventType.MESSAGE,function(k){var w;if(!p){var C=k.data[0];He(!!C);var j=C.error||(null===(w=C[0])||void 0===w?void 0:w.error);if(j){te("Connection","WebChannel received error:",j);var z=j.status,ee=function(De){var Ie=Rt[De];if(void 0!==Ie)return RP(Ie)}(z),V=j.message;void 0===ee&&(ee=R.INTERNAL,V="Unknown error status: "+z+" with message "+j.message),p=!0,v.eo(new $(ee,V)),h.close()}else te("Connection","WebChannel received:",C),v.no(C)}}),y(l,pY.STAT_EVENT,function(k){k.stat===KM.PROXY?te("Connection","Detected buffering proxy"):k.stat===KM.NOPROXY&&te("Connection","Detected no buffering proxy")}),setTimeout(function(){v.Zr()},0),v}}]),n}(function(){function e(t){m(this,e),this.databaseInfo=t,this.databaseId=t.databaseId,this.so=(t.ssl?"https":"http")+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return g(e,[{key:"ro",value:function(n,r,i,a,s){var o=this.oo(n,r);te("RestConnection","Sending: ",o,i);var u={};return this.uo(u,a,s),this.ao(n,o,u,i).then(function(l){return te("RestConnection","Received: ",l),l},function(l){throw Vd("RestConnection","".concat(n," failed with error: "),l,"url: ",o,"request:",i),l})}},{key:"co",value:function(n,r,i,a,s){return this.ro(n,r,i,a,s)}},{key:"uo",value:function(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+Ko,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(function(a,s){return n[s]=a}),i&&i.headers.forEach(function(a,s){return n[s]=a})}},{key:"oo",value:function(n,r){var i=aX[n];return"".concat(this.so,"/v1/").concat(r,":").concat(i)}}]),e}());function Db(){return"undefined"!=typeof document?document:null}function ip(e){return new cJ(e,!0)}var c2=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;m(this,e),this.Jn=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return g(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(n){var r=this;this.cancel();var i=Math.floor(this.wo+this.To()),a=Math.max(0,Date.now()-this.yo),s=Math.max(0,i-a);s>0&&te("ExponentialBackoff","Backing off for ".concat(s," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(i," ms, last attempt: ").concat(a," ms ago)")),this.mo=this.Jn.enqueueAfterDelay(this.timerId,s,function(){return r.yo=Date.now(),n()}),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),lX=function(e){D(n,e);var t=S(n);function n(r,i,a,s,o,u){var l;return m(this,n),(l=t.call(this,r,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,s,u)).M=o,l}return g(n,[{key:"Go",value:function(i,a){return this.bo.ho("Listen",i,a)}},{key:"onMessage",value:function(i){this.So.reset();var a=function(e,t){var n,Ye;if("targetChange"in t){var r="NO_CHANGE"===(Ye=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Ye?1:"REMOVE"===Ye?2:"CURRENT"===Ye?3:"RESET"===Ye?4:ae(),i=t.targetChange.targetIds||[],a=function(Ye,_t){return Ye.N?(He(void 0===_t||"string"==typeof _t),Ln.fromBase64String(_t||"")):(He(void 0===_t||_t instanceof Uint8Array),Ln.fromUint8Array(_t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(Ye){var _t=void 0===Ye.code?R.UNKNOWN:RP(Ye.code);return new $(_t,Ye.message||"")}(s);n=new OP(r,i,a,o||null)}else if("documentChange"in t){var u=t.documentChange,l=zi(e,u.document.name),c=Bn(u.document.updateTime),f=new er({mapValue:{fields:u.document.fields}}),h=Vn.newFoundDocument(l,c,f);n=new Yd(u.targetIds||[],u.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){var v=t.documentDelete,y=zi(e,v.document),k=v.readTime?Bn(v.readTime):be.min(),w=Vn.newNoDocument(y,k);n=new Yd([],v.removedTargetIds||[],w.key,w)}else if("documentRemove"in t){var M=t.documentRemove,j=zi(e,M.document);n=new Yd([],M.removedTargetIds||[],j,null)}else{if(!("filter"in t))return ae();var ee=t.filter,De=new tJ(ee.count||0);n=new PP(ee.targetId,De)}return n}(this.M,i),s=function(o){if(!("targetChange"in o))return be.min();var u=o.targetChange;return u.targetIds&&u.targetIds.length?be.min():u.readTime?Bn(u.readTime):be.min()}(i);return this.listener.Ko(a,s)}},{key:"Qo",value:function(i){var o,u,l,c,a={};a.database=jP(this.M),a.addTarget=(o=this.M,(l=Gd(c=(u=i).target)?{documents:qP(o,c)}:{query:$P(o,c)}).targetId=u.targetId,u.resumeToken.approximateByteSize()>0?l.resumeToken=function(e,t){return e.N?t.toBase64():t.toUint8Array()}(o,u.resumeToken):u.snapshotVersion.compareTo(be.min())>0&&(l.readTime=function(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}(o,u.snapshotVersion.toTimestamp())),l);var s=function(e,t){var n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ae()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(0,i);s&&(a.labels=s),this.Oo(a)}},{key:"jo",value:function(i){var a={};a.database=jP(this.M),a.removeTarget=i,this.Oo(a)}}]),n}(function(){function e(t,n,r,i,a,s,o,u){m(this,e),this.Jn=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=u,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new c2(t,n)}return g(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:(t=b(_().mark(function r(){return _().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.t0=this.Do(),!a.t0){a.next=4;break}return a.next=4,this.close(0);case 4:case"end":return a.stop()}},r,this)})),function(){return t.apply(this,arguments)})},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var n=this;this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,function(){return n.Mo()}))}},{key:"Oo",value:function(n){this.Fo(),this.stream.send(n)}},{key:"Mo",value:function(){var t=b(_().mark(function r(){return _().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!this.Co()){a.next=2;break}return a.abrupt("return",this.close(0));case 2:case"end":return a.stop()}},r,this)}));return function(){return t.apply(this,arguments)}}()},{key:"Fo",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"$o",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"close",value:function(){var t=b(_().mark(function r(i,a){return _().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==i?this.So.reset():a&&a.code===R.RESOURCE_EXHAUSTED?(Ia(a.toString()),Ia("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):a&&a.code===R.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=i,o.next=9,this.listener.Jr(a);case 9:case"end":return o.stop()}},r,this)}));return function(r,i){return t.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var n=this;this.state=1;var r=this.Lo(this.Po),i=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(function(a){var s=Ge(a,2);n.Po===i&&n.Uo(s[0],s[1])},function(a){r(function(){var s=new $(R.UNKNOWN,"Fetching auth token failed: "+a.message);return n.qo(s)})})}},{key:"Uo",value:function(n,r){var i=this,a=this.Lo(this.Po);this.stream=this.Go(n,r),this.stream.zr(function(){a(function(){return i.state=2,i.vo=i.Jn.enqueueAfterDelay(i.Ro,1e4,function(){return i.Co()&&(i.state=3),Promise.resolve()}),i.listener.zr()})}),this.stream.Jr(function(s){a(function(){return i.qo(s)})}),this.stream.onMessage(function(s){a(function(){return i.onMessage(s)})})}},{key:"xo",value:function(){var n=this;this.state=5,this.So.Io(b(_().mark(function r(){return _().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:n.state=0,n.start();case 1:case"end":return a.stop()}},r)})))}},{key:"qo",value:function(n){return te("PersistentStream","close with error: ".concat(n)),this.stream=null,this.close(4,n)}},{key:"Lo",value:function(n){var r=this;return function(i){r.Jn.enqueueAndForget(function(){return r.Po===n?i():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}}}]),e;var t}()),fX=function(e){D(n,e);var t=S(n);function n(r,i,a,s){var o;return m(this,n),(o=t.call(this)).authCredentials=r,o.appCheckCredentials=i,o.bo=a,o.M=s,o.Zo=!1,o}return g(n,[{key:"tu",value:function(){if(this.Zo)throw new $(R.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(i,a,s){var o=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(function(u){var l=Ge(u,2);return o.bo.ro(i,a,s,l[0],l[1])}).catch(function(u){throw"FirebaseError"===u.name?(u.code===R.UNAUTHENTICATED&&(o.authCredentials.invalidateToken(),o.appCheckCredentials.invalidateToken()),u):new $(R.UNKNOWN,u.toString())})}},{key:"co",value:function(i,a,s){var o=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(function(u){var l=Ge(u,2);return o.bo.co(i,a,s,l[0],l[1])}).catch(function(u){throw"FirebaseError"===u.name?(u.code===R.UNAUTHENTICATED&&(o.authCredentials.invalidateToken(),o.appCheckCredentials.invalidateToken()),u):new $(R.UNKNOWN,u.toString())})}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return g(function e(){m(this,e)})}()),hX=function(){function e(t,n){m(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return g(e,[{key:"iu",value:function(){var n=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return n.nu=null,n.ou("Backend didn't respond within 10 seconds."),n.ru("Offline"),Promise.resolve()}))}},{key:"uu",value:function(n){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou("Connection failed 1 times. Most recent error: ".concat(n.toString())),this.ru("Offline")))}},{key:"set",value:function(n){this.au(),this.eu=0,"Online"===n&&(this.su=!1),this.ru(n)}},{key:"ru",value:function(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}},{key:"ou",value:function(n){var r="Could not reach Cloud Firestore backend. ".concat(n,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(Ia(r),this.su=!1):te("OnlineStateTracker",r)}},{key:"au",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),dX=g(function e(t,n,r,i,a){var s=this;m(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br(function(o){r.enqueueAndForget(b(_().mark(function u(){return _().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(c.t0=Ma(s),!c.t0){c.next=5;break}return te("RemoteStore","Restarting streams for network reachability change."),c.next=5,function(){var f=b(_().mark(function h(d){var p;return _().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return(p=K(d)).lu.add(4),y.next=4,cu(p);case 4:return p._u.set("Unknown"),p.lu.delete(4),y.next=8,Pc(p);case 8:case"end":return y.stop()}},h)}));return function(h){return f.apply(this,arguments)}}()(s);case 5:case"end":return c.stop()}},u)})))}),this._u=new hX(r,i)});function Pc(e){return Sb.apply(this,arguments)}function Sb(){return(Sb=b(_().mark(function e(t){var n,r,i;return _().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!Ma(t)){s.next=18;break}n=W(t.fu),s.prev=2,n.s();case 4:if((r=n.n()).done){s.next=10;break}return i=r.value,s.next=8,i(!0);case 8:s.next=4;break;case 10:s.next=15;break;case 12:s.prev=12,s.t0=s.catch(2),n.e(s.t0);case 15:return s.prev=15,n.f(),s.finish(15);case 18:case"end":return s.stop()}},e,null,[[2,12,15,18]])}))).apply(this,arguments)}function cu(e){return Ab.apply(this,arguments)}function Ab(){return(Ab=b(_().mark(function e(t){var n,r,i;return _().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:n=W(t.fu),s.prev=1,n.s();case 3:if((r=n.n()).done){s.next=9;break}return i=r.value,s.next=7,i(!1);case 7:s.next=3;break;case 9:s.next=14;break;case 11:s.prev=11,s.t0=s.catch(1),n.e(s.t0);case 14:return s.prev=14,n.f(),s.finish(14);case 17:case"end":return s.stop()}},e,null,[[1,11,14,17]])}))).apply(this,arguments)}function ap(e,t){var n=K(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),Mb(n)?Nb(n):fu(n).Co()&&Rb(n,t))}function Oc(e,t){var n=K(e),r=fu(n);n.hu.delete(t),r.Co()&&f2(n,t),0===n.hu.size&&(r.Co()?r.ko():Ma(n)&&n._u.set("Unknown"))}function Rb(e,t){e.wu.Z(t.targetId),fu(e).Qo(t)}function f2(e,t){e.wu.Z(t),fu(e).jo(t)}function Nb(e){e.wu=new oJ({getRemoteKeysForTarget:function(n){return e.remoteSyncer.getRemoteKeysForTarget(n)},Et:function(n){return e.hu.get(n)||null}}),fu(e).start(),e._u.iu()}function Mb(e){return Ma(e)&&!fu(e).Do()&&e.hu.size>0}function Ma(e){return 0===K(e).lu.size}function h2(e){e.wu=void 0}function pX(e){return Pb.apply(this,arguments)}function Pb(){return(Pb=b(_().mark(function e(t){return _().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:t.hu.forEach(function(i,a){Rb(t,i)});case 1:case"end":return r.stop()}},e)}))).apply(this,arguments)}function vX(e,t){return Ob.apply(this,arguments)}function Ob(){return(Ob=b(_().mark(function e(t,n){return _().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:h2(t),Mb(t)?(t._u.uu(n),Nb(t)):t._u.set("Unknown");case 1:case"end":return i.stop()}},e)}))).apply(this,arguments)}function gX(e,t,n){return Fb.apply(this,arguments)}function Fb(){return(Fb=b(_().mark(function e(t,n,r){return _().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(t._u.set("Online"),!(n instanceof OP&&2===n.state&&n.cause)){s.next=13;break}return s.prev=1,s.next=4,function(){var o=b(_().mark(function u(l,c){var f,h,d,p;return _().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:f=c.cause,h=W(c.targetIds),y.prev=2,h.s();case 4:if((d=h.n()).done){y.next=14;break}if(y.t0=l.hu.has(p=d.value),!y.t0){y.next=12;break}return y.next=10,l.remoteSyncer.rejectListen(p,f);case 10:l.hu.delete(p),l.wu.removeTarget(p);case 12:y.next=4;break;case 14:y.next=19;break;case 16:y.prev=16,y.t1=y.catch(2),h.e(y.t1);case 19:return y.prev=19,h.f(),y.finish(19);case 22:case"end":return y.stop()}},u,null,[[2,16,19,22]])}));return function(u,l){return o.apply(this,arguments)}}()(t,n);case 4:s.next=11;break;case 6:return s.prev=6,s.t0=s.catch(1),te("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),s.t0),s.next=11,sp(t,s.t0);case 11:s.next=29;break;case 13:if(n instanceof Yd?t.wu.ut(n):n instanceof PP?t.wu._t(n):t.wu.ht(n),r.isEqual(be.min())){s.next=29;break}return s.prev=14,s.next=17,r2(t.localStore);case 17:if(s.t1=r.compareTo(s.sent)>=0,!s.t1){s.next=22;break}return s.next=22,function(o,u){var l=o.wu.yt(u);return l.targetChanges.forEach(function(c,f){if(c.resumeToken.approximateByteSize()>0){var h=o.hu.get(f);h&&o.hu.set(f,h.withResumeToken(c.resumeToken,u))}}),l.targetMismatches.forEach(function(c){var f=o.hu.get(c);if(f){o.hu.set(c,f.withResumeToken(Ln.EMPTY_BYTE_STRING,f.snapshotVersion)),f2(o,c);var h=new ep(f.target,c,1,f.sequenceNumber);Rb(o,h)}}),o.remoteSyncer.applyRemoteEvent(l)}(t,r);case 22:s.next=29;break;case 24:return s.prev=24,s.t2=s.catch(14),te("RemoteStore","Failed to raise snapshot:",s.t2),s.next=29,sp(t,s.t2);case 29:case"end":return s.stop()}},e,null,[[1,6],[14,24]])}))).apply(this,arguments)}function sp(e,t,n){return xb.apply(this,arguments)}function xb(){return(xb=b(_().mark(function e(t,n,r){return _().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(Mc(n)){a.next=2;break}throw n;case 2:return t.lu.add(1),a.next=5,cu(t);case 5:t._u.set("Offline"),r||(r=function(){return r2(t.localStore)}),t.asyncQueue.enqueueRetryable(b(_().mark(function s(){return _().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return te("RemoteStore","Retrying IndexedDB access"),u.next=3,r();case 3:return t.lu.delete(1),u.next=6,Pc(t);case 6:case"end":return u.stop()}},s)})));case 8:case"end":return a.stop()}},e)}))).apply(this,arguments)}function g2(e,t){return Hb.apply(this,arguments)}function Hb(){return(Hb=b(_().mark(function e(t,n){var r,i;return _().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return(r=K(t)).asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials"),i=Ma(r),r.lu.add(3),s.next=6,cu(r);case 6:return i&&r._u.set("Unknown"),s.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),s.next=12,Pc(r);case 12:case"end":return s.stop()}},e)}))).apply(this,arguments)}function Gb(e,t){return qb.apply(this,arguments)}function qb(){return(qb=b(_().mark(function e(t,n){var r;return _().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(r=K(t),!n){a.next=7;break}return r.lu.delete(2),a.next=5,Pc(r);case 5:a.next=13;break;case 7:if(a.t0=n,a.t0){a.next=13;break}return r.lu.add(2),a.next=12,cu(r);case 12:r._u.set("Unknown");case 13:case"end":return a.stop()}},e)}))).apply(this,arguments)}function fu(e){return e.mu||(e.mu=(t=e.datastore,n=e.asyncQueue,r={zr:pX.bind(null,e),Jr:vX.bind(null,e),Ko:gX.bind(null,e)},(i=K(t)).tu(),new lX(n,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)),e.fu.push(function(){var t=b(_().mark(function n(r){return _().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!r){a.next=4;break}e.mu.No(),Mb(e)?Nb(e):e._u.set("Unknown"),a.next=7;break;case 4:return a.next=6,e.mu.stop();case 6:h2(e);case 7:case"end":return a.stop()}},n)}));return function(n){return t.apply(this,arguments)}}())),e.mu;var t,n,r,i}var CX=function(){function e(t,n,r,i,a){m(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Rn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(s){})}return g(e,[{key:"start",value:function(n){var r=this;this.timerHandle=setTimeout(function(){return r.handleDelayElapsed()},n)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new $(R.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}},{key:"handleDelayElapsed",value:function(){var n=this;this.asyncQueue.enqueueAndForget(function(){return null!==n.timerHandle?(n.clearTimeout(),n.op().then(function(r){return n.deferred.resolve(r)})):Promise.resolve()})}},{key:"clearTimeout",value:function(t){function n(){return t.apply(this,arguments)}return n.toString=function(){return t.toString()},n}(function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)})}],[{key:"createAndSchedule",value:function(n,r,i,a,s){var u=new e(n,r,Date.now()+i,a,s);return u.start(i),u}}]),e}();function hu(e,t){if(Ia("AsyncQueue","".concat(t,": ").concat(e)),Mc(e))return new $(R.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var m2=function(){function e(t){m(this,e),this.comparator=t?function(n,r){return t(n,r)||re.comparator(n.key,r.key)}:function(n,r){return re.comparator(n.key,r.key)},this.keyedMap=db(),this.sortedSet=new fn(this.comparator)}return g(e,[{key:"has",value:function(n){return null!=this.keyedMap.get(n)}},{key:"get",value:function(n){return this.keyedMap.get(n)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(n){var r=this.keyedMap.get(n);return r?this.sortedSet.indexOf(r):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(n){this.sortedSet.inorderTraversal(function(r,i){return n(r),!1})}},{key:"add",value:function(n){var r=this.delete(n.key);return r.copy(r.keyedMap.insert(n.key,n),r.sortedSet.insert(n,null))}},{key:"delete",value:function(n){var r=this.get(n);return r?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(r)):this}},{key:"isEqual",value:function(n){if(!(n instanceof e)||this.size!==n.size)return!1;for(var r=this.sortedSet.getIterator(),i=n.sortedSet.getIterator();r.hasNext();){var a=r.getNext().key,s=i.getNext().key;if(!a.isEqual(s))return!1}return!0}},{key:"toString",value:function(){var n=[];return this.forEach(function(r){n.push(r.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}},{key:"copy",value:function(n,r){var i=new e;return i.comparator=this.comparator,i.keyedMap=n,i.sortedSet=r,i}}],[{key:"emptySet",value:function(n){return new e(n.comparator)}}]),e}(),y2=function(){function e(){m(this,e),this.yu=new fn(re.comparator)}return g(e,[{key:"track",value:function(n){var r=n.doc.key,i=this.yu.get(r);i?0!==n.type&&3===i.type?this.yu=this.yu.insert(r,n):3===n.type&&1!==i.type?this.yu=this.yu.insert(r,{type:i.type,doc:n.doc}):2===n.type&&2===i.type?this.yu=this.yu.insert(r,{type:2,doc:n.doc}):2===n.type&&0===i.type?this.yu=this.yu.insert(r,{type:0,doc:n.doc}):1===n.type&&0===i.type?this.yu=this.yu.remove(r):1===n.type&&2===i.type?this.yu=this.yu.insert(r,{type:1,doc:i.doc}):0===n.type&&1===i.type?this.yu=this.yu.insert(r,{type:2,doc:n.doc}):ae():this.yu=this.yu.insert(r,n)}},{key:"pu",value:function(){var n=[];return this.yu.inorderTraversal(function(r,i){n.push(i)}),n}}]),e}(),op=function(){function e(t,n,r,i,a,s,o,u){m(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=u}return g(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(n){if(!(this.fromCache===n.fromCache&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&Dc(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;var r=this.docChanges,i=n.docChanges;if(r.length!==i.length)return!1;for(var a=0;a<r.length;a++)if(r[a].type!==i[a].type||!r[a].doc.isEqual(i[a].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(n,r,i,a){var s=[];return r.forEach(function(o){s.push({type:0,doc:o})}),new e(n,r,m2.emptySet(r),s,i,a,!0,!1)}}]),e}(),EX=g(function e(){m(this,e),this.Iu=void 0,this.listeners=[]}),IX=g(function e(){m(this,e),this.queries=new iu(function(t){return dP(t)},Dc),this.onlineState="Unknown",this.Tu=new Set});function $b(e,t){return Wb.apply(this,arguments)}function Wb(){return(Wb=b(_().mark(function e(t,n){var r,i,a,s,o;return _().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(r=K(t),a=!1,(s=r.queries.get(i=n.query))||(a=!0,s=new EX),!a){l.next=13;break}return l.prev=3,l.next=6,r.onListen(i);case 6:s.Iu=l.sent,l.next=13;break;case 9:return l.prev=9,l.t0=l.catch(3),o=hu(l.t0,"Initialization of query '".concat(lb(n.query),"' failed")),l.abrupt("return",void n.onError(o));case 13:r.queries.set(i,s),s.listeners.push(n),n.Eu(r.onlineState),s.Iu&&n.Au(s.Iu)&&Qb(r);case 14:case"end":return l.stop()}},e,null,[[3,9]])}))).apply(this,arguments)}function zb(e,t){return Kb.apply(this,arguments)}function Kb(){return(Kb=b(_().mark(function e(t,n){var r,i,a,s,o;return _().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(r=K(t),a=!1,(s=r.queries.get(i=n.query))&&(o=s.listeners.indexOf(n))>=0&&(s.listeners.splice(o,1),a=0===s.listeners.length),!a){l.next=6;break}return l.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return l.stop()}},e)}))).apply(this,arguments)}function TX(e,t){var a,n=K(e),r=!1,i=W(t);try{for(i.s();!(a=i.n()).done;){var s=a.value,u=n.queries.get(s.query);if(u){var c,l=W(u.listeners);try{for(l.s();!(c=l.n()).done;)c.value.Au(s)&&(r=!0)}catch(h){l.e(h)}finally{l.f()}u.Iu=s}}}catch(h){i.e(h)}finally{i.f()}r&&Qb(n)}function DX(e,t,n){var r=K(e),i=r.queries.get(t);if(i){var s,a=W(i.listeners);try{for(a.s();!(s=a.n()).done;)s.value.onError(n)}catch(u){a.e(u)}finally{a.f()}}r.queries.delete(t)}function Qb(e){e.Tu.forEach(function(t){t.next()})}var Yb=function(){function e(t,n,r){m(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return g(e,[{key:"Au",value:function(n){if(!this.options.includeMetadataChanges){var a,r=[],i=W(n.docChanges);try{for(i.s();!(a=i.n()).done;){var s=a.value;3!==s.type&&r.push(s)}}catch(u){i.e(u)}finally{i.f()}n=new op(n.query,n.docs,n.oldDocs,r,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0)}var o=!1;return this.bu?this.Vu(n)&&(this.Ru.next(n),o=!0):this.vu(n,this.onlineState)&&(this.Su(n),o=!0),this.Pu=n,o}},{key:"onError",value:function(n){this.Ru.error(n)}},{key:"Eu",value:function(n){this.onlineState=n;var r=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,n)&&(this.Su(this.Pu),r=!0),r}},{key:"vu",value:function(n,r){return!n.fromCache||!(this.options.Du&&"Offline"!==r||n.docs.isEmpty()&&"Offline"!==r)}},{key:"Vu",value:function(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(n){n=op.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache),this.bu=!0,this.Ru.next(n)}}]),e}(),_2=g(function e(t){m(this,e),this.key=t}),k2=g(function e(t){m(this,e),this.key=t}),w2=function(){function e(t,n){m(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=Je(),this.mutatedKeys=Je(),this.Lu=vP(t),this.Uu=new m2(this.Lu)}return g(e,[{key:"qu",get:function(){return this.Fu}},{key:"Gu",value:function(n,r){var i=this,a=r?r.Ku:new y2,s=r?r.Uu:this.Uu,o=r?r.mutatedKeys:this.mutatedKeys,u=s,l=!1,c=qd(this.query)&&s.size===this.query.limit?s.last():null,f=$d(this.query)&&s.size===this.query.limit?s.first():null;if(n.inorderTraversal(function(d,p){var v=s.get(d),y=cb(i.query,p)?p:null,k=!!v&&i.mutatedKeys.has(v.key),w=!!y&&(y.hasLocalMutations||i.mutatedKeys.has(y.key)&&y.hasCommittedMutations),C=!1;v&&y?v.data.isEqual(y.data)?k!==w&&(a.track({type:3,doc:y}),C=!0):i.Qu(v,y)||(a.track({type:2,doc:y}),C=!0,(c&&i.Lu(y,c)>0||f&&i.Lu(y,f)<0)&&(l=!0)):!v&&y?(a.track({type:0,doc:y}),C=!0):v&&!y&&(a.track({type:1,doc:v}),C=!0,(c||f)&&(l=!0)),C&&(y?(u=u.add(y),o=w?o.add(d):o.delete(d)):(u=u.delete(d),o=o.delete(d)))}),qd(this.query)||$d(this.query))for(;u.size>this.query.limit;){var h=qd(this.query)?u.last():u.first();u=u.delete(h.key),o=o.delete(h.key),a.track({type:1,doc:h})}return{Uu:u,Ku:a,ei:l,mutatedKeys:o}}},{key:"Qu",value:function(n,r){return n.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}},{key:"applyChanges",value:function(n,r,i){var a=this,s=this.Uu;this.Uu=n.Uu,this.mutatedKeys=n.mutatedKeys;var o=n.Ku.pu();o.sort(function(f,h){return p=h.type,(v=function(k){switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae()}})(f.type)-v(p)||a.Lu(f.doc,h.doc);var p,v}),this.ju(i);var u=r?this.Wu():[],l=0===this.Bu.size&&this.current?1:0,c=l!==this.$u;return this.$u=l,0!==o.length||c?{snapshot:new op(this.query,n.Uu,s,o,n.mutatedKeys,0===l,c,!1),zu:u}:{zu:u}}},{key:"Eu",value:function(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new y2,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}},{key:"Hu",value:function(n){return!this.Fu.has(n)&&!!this.Uu.has(n)&&!this.Uu.get(n).hasLocalMutations}},{key:"ju",value:function(n){var r=this;n&&(n.addedDocuments.forEach(function(i){return r.Fu=r.Fu.add(i)}),n.modifiedDocuments.forEach(function(i){}),n.removedDocuments.forEach(function(i){return r.Fu=r.Fu.delete(i)}),this.current=n.current)}},{key:"Wu",value:function(){var n=this;if(!this.current)return[];var r=this.Bu;this.Bu=Je(),this.Uu.forEach(function(a){n.Hu(a.key)&&(n.Bu=n.Bu.add(a.key))});var i=[];return r.forEach(function(a){n.Bu.has(a)||i.push(new k2(a))}),this.Bu.forEach(function(a){r.has(a)||i.push(new _2(a))}),i}},{key:"Ju",value:function(n){this.Fu=n.hi,this.Bu=Je();var r=this.Gu(n.documents);return this.applyChanges(r,!0)}},{key:"Yu",value:function(){return op.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),RX=g(function e(t,n,r){m(this,e),this.query=t,this.targetId=n,this.view=r}),NX=g(function e(t){m(this,e),this.key=t,this.Xu=!1}),MX=function(){function e(t,n,r,i,a,s){m(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Zu={},this.ta=new iu(function(o){return dP(o)},Dc),this.ea=new Map,this.na=new Set,this.sa=new fn(re.comparator),this.ia=new Map,this.ra=new Tb,this.oa={},this.ua=new Map,this.aa=kb.gn(),this.onlineState="Unknown",this.ca=void 0}return g(e,[{key:"isPrimaryClient",get:function(){return!0===this.ca}}]),e}();function PX(e,t){return Jb.apply(this,arguments)}function Jb(){return(Jb=b(_().mark(function e(t,n){var r,i,a,s,o,u;return _().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(r=k0(t),!(s=r.ta.get(n))){c.next=6;break}r.sharedClientState.addLocalQueryTarget(i=s.targetId),a=s.view.Yu(),c.next=15;break;case 6:return c.next=8,uu(r.localStore,Er(n));case 8:return o=c.sent,r.isPrimaryClient&&ap(r.remoteStore,o),u=r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.targetId,c.next=14,Xb(r,n,i,"current"===u);case 14:a=c.sent;case 15:return c.abrupt("return",a);case 16:case"end":return c.stop()}},e)}))).apply(this,arguments)}function Xb(e,t,n,r){return Zb.apply(this,arguments)}function Zb(){return(Zb=b(_().mark(function e(t,n,r,i){var a,s,o,u,l,c;return _().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return t.ha=function(d,p,v){return(y=b(_().mark(function k(w,C,M,j){var z,ee,V;return _().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:if(z=C.view.Gu(M),Ie.t0=z.ei,!Ie.t0){Ie.next=6;break}return Ie.next=5,rp(w.localStore,C.query,!1).then(function(Ye){return C.view.Gu(Ye.documents,z)});case 5:z=Ie.sent;case 6:return ee=j&&j.targetChanges.get(C.targetId),V=C.view.applyChanges(z,w.isPrimaryClient,ee),Ie.abrupt("return",(l0(w,C.targetId,V.zu),V.snapshot));case 8:case"end":return Ie.stop()}},k)})),function(k,w,C,M){return y.apply(this,arguments)})(t,d,p,v);var y},h.next=3,rp(t.localStore,n,!0);case 3:return s=new w2(n,(a=h.sent).hi),o=s.Gu(a.documents),u=gb.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),l=s.applyChanges(o,t.isPrimaryClient,u),l0(t,r,l.zu),c=new RX(n,r,s),h.abrupt("return",(t.ta.set(n,c),t.ea.has(r)?t.ea.get(r).push(n):t.ea.set(r,[n]),l.snapshot));case 11:case"end":return h.stop()}},e)}))).apply(this,arguments)}function OX(e,t){return e0.apply(this,arguments)}function e0(){return(e0=b(_().mark(function e(t,n){var r,i,a;return _().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=K(t),i=r.ta.get(n),!((a=r.ea.get(i.targetId)).length>1)){o.next=3;break}return o.abrupt("return",(r.ea.set(i.targetId,a.filter(function(u){return!Dc(u,n)})),void r.ta.delete(n)));case 3:if(!r.isPrimaryClient){o.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),o.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),o.t0){o.next=9;break}return o.next=9,lu(r.localStore,i.targetId,!1).then(function(){r.sharedClientState.clearQueryState(i.targetId),Oc(r.remoteStore,i.targetId),du(r,i.targetId)}).catch(ou);case 9:o.next=14;break;case 11:return du(r,i.targetId),o.next=14,lu(r.localStore,i.targetId,!0);case 14:case"end":return o.stop()}},e)}))).apply(this,arguments)}function b2(e,t){return n0.apply(this,arguments)}function n0(){return(n0=b(_().mark(function e(t,n){var r,i;return _().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return r=K(t),s.prev=1,s.next=4,WJ(r.localStore,n);case 4:return i=s.sent,n.targetChanges.forEach(function(o,u){var l=r.ia.get(u);l&&(He(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?l.Xu=!0:o.modifiedDocuments.size>0?He(l.Xu):o.removedDocuments.size>0&&(He(l.Xu),l.Xu=!1))}),s.next=8,Ki(r,i,n);case 8:s.next=14;break;case 10:return s.prev=10,s.t0=s.catch(1),s.next=14,ou(s.t0);case 14:case"end":return s.stop()}},e,null,[[1,10]])}))).apply(this,arguments)}function C2(e,t,n){var r=K(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ta.forEach(function(a,s){var o=s.view.Eu(t);o.snapshot&&i.push(o.snapshot)}),function(a,s){var o=K(a);o.onlineState=s;var u=!1;o.queries.forEach(function(l,c){var h,f=W(c.listeners);try{for(f.s();!(h=f.n()).done;)h.value.Eu(s)&&(u=!0)}catch(p){f.e(p)}finally{f.f()}}),u&&Qb(o)}(r.eventManager,t),i.length&&r.Zu.Ko(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function xX(e,t,n){return r0.apply(this,arguments)}function r0(){return(r0=b(_().mark(function e(t,n,r){var i,a,s,o,u,l;return _().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if((i=K(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ia.get(n),!(s=a&&a.key)){f.next=14;break}return o=(o=new fn(re.comparator)).insert(s,Vn.newNoDocument(s,be.min())),u=Je().add(s),l=new vb(be.min(),new Map,new Un(Be),o,u),f.next=9,b2(i,l);case 9:i.sa=i.sa.remove(s),i.ia.delete(n),c0(i),f.next=16;break;case 14:return f.next=16,lu(i.localStore,n,!1).then(function(){return du(i,n,r)}).catch(ou);case 16:case"end":return f.stop()}},e)}))).apply(this,arguments)}function du(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var i,r=W(e.ea.get(t));try{for(r.s();!(i=r.n()).done;){var a=i.value;e.ta.delete(a),n&&e.Zu.la(a,n)}}catch(s){r.e(s)}finally{r.f()}e.ea.delete(t),e.isPrimaryClient&&e.ra.Ri(t).forEach(function(s){e.ra.containsKey(s)||E2(e,s)})}function E2(e,t){e.na.delete(t.path.canonicalString());var n=e.sa.get(t);null!==n&&(Oc(e.remoteStore,n),e.sa=e.sa.remove(t),e.ia.delete(n),c0(e))}function l0(e,t,n){var i,r=W(n);try{for(r.s();!(i=r.n()).done;){var a=i.value;a instanceof _2?(e.ra.addReference(a.key,t),BX(e,a)):a instanceof k2?(te("SyncEngine","Document no longer in limbo: "+a.key),e.ra.removeReference(a.key,t),e.ra.containsKey(a.key)||E2(e,a.key)):ae()}}catch(s){r.e(s)}finally{r.f()}}function BX(e,t){var n=t.key,r=n.path.canonicalString();e.sa.get(n)||e.na.has(r)||(te("SyncEngine","New document in limbo: "+n),e.na.add(r),c0(e))}function c0(e){for(;e.na.size>0&&e.sa.size<e.maxConcurrentLimboResolutions;){var t=e.na.values().next().value;e.na.delete(t);var n=new re(ze.fromString(t)),r=e.aa.next();e.ia.set(r,new NX(n)),e.sa=e.sa.insert(n,r),ap(e.remoteStore,new ep(Er(eu(n.path)),r,2,Xw.A))}}function Ki(e,t,n){return f0.apply(this,arguments)}function f0(){return(f0=b(_().mark(function e(t,n,r){var i,a,s,o;return _().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(i=K(t),a=[],s=[],o=[],l.t0=i.ta.isEmpty(),l.t0){l.next=9;break}return i.ta.forEach(function(c,f){o.push(i.ha(f,n,r).then(function(h){if(h){i.isPrimaryClient&&i.sharedClientState.updateQueryState(f.targetId,h.fromCache?"not-current":"current"),a.push(h);var d=jJ.Js(f.targetId,h);s.push(d)}}))}),l.next=6,Promise.all(o);case 6:return i.Zu.Ko(a),l.next=9,function(){var c=b(_().mark(function f(h,d){var p,v,y,k,w,C,j;return _().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return p=K(h),ee.prev=1,ee.next=4,p.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(V){return Y.forEach(d,function(De){return Y.forEach(De.zs,function(Ie){return p.persistence.referenceDelegate.addReference(V,De.targetId,Ie)}).next(function(){return Y.forEach(De.Hs,function(Ie){return p.persistence.referenceDelegate.removeReference(V,De.targetId,Ie)})})})});case 4:ee.next=11;break;case 6:if(ee.prev=6,ee.t0=ee.catch(1),Mc(ee.t0)){ee.next=10;break}throw ee.t0;case 10:te("LocalStore","Failed to update sequence numbers: "+ee.t0);case 11:v=W(d);try{for(v.s();!(y=v.n()).done;)w=(k=y.value).targetId,k.fromCache||(C=p.si.get(w),j=C.withLastLimboFreeSnapshotVersion(C.snapshotVersion),p.si=p.si.insert(w,j))}catch(V){v.e(V)}finally{v.f()}case 13:case"end":return ee.stop()}},f,null,[[1,6]])}));return function(f,h){return c.apply(this,arguments)}}()(i.localStore,s);case 9:case"end":return l.stop()}},e)}))).apply(this,arguments)}function jX(e,t){return h0.apply(this,arguments)}function h0(){return(h0=b(_().mark(function e(t,n){var r,i;return _().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if((r=K(t)).currentUser.isEqual(n)){s.next=11;break}return te("SyncEngine","User change. New user:",n.toKey()),s.next=5,n2(r.localStore,n);case 5:return i=s.sent,r.currentUser=n,(o=r).ua.forEach(function(l){l.forEach(function(c){c.reject(new $(R.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ua.clear(),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),s.next=11,Ki(r,i.ci);case 11:case"end":return s.stop()}var o},e)}))).apply(this,arguments)}function HX(e,t){var n=K(e),r=n.ia.get(t);if(r&&r.Xu)return Je().add(r.key);var i=Je(),a=n.ea.get(t);if(!a)return i;var o,s=W(a);try{for(s.s();!(o=s.n()).done;){var l=n.ta.get(o.value);i=i.unionWith(l.view.qu)}}catch(c){s.e(c)}finally{s.f()}return i}function k0(e){var t=K(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=b2.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=HX.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=xX.bind(null,t),t.Zu.Ko=TX.bind(null,t.eventManager),t.Zu.la=DX.bind(null,t.eventManager),t}var $X=function(){function e(){m(this,e),this.synchronizeTabs=!1}return g(e,[{key:"initialize",value:(t=b(_().mark(function r(i){return _().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this.M=ip(i.databaseInfo.databaseId),this.sharedClientState=this.da(i),this.persistence=this._a(i),s.next=5,this.persistence.start();case 5:this.gcScheduler=this.wa(i),this.localStore=this.ma(i);case 7:case"end":return s.stop()}},r,this)})),function(r){return t.apply(this,arguments)})},{key:"wa",value:function(n){return null}},{key:"ma",value:function(n){return function(e,t,n,r){return new GJ(e,t,n,r)}(this.persistence,new HJ,n.initialUser,this.M)}},{key:"_a",value:function(n){return new eX(nX.Wi,this.M)}},{key:"da",value:function(n){return new rX}},{key:"terminate",value:function(){var t=b(_().mark(function r(){return _().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),a.next=3,this.sharedClientState.shutdown();case 3:return a.next=5,this.persistence.shutdown();case 5:case"end":return a.stop()}},r,this)}));return function(){return t.apply(this,arguments)}}()}]),e;var t}(),w0=function(){function e(){m(this,e)}return g(e,[{key:"initialize",value:(t=b(_().mark(function r(i,a){var s=this;return _().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(u.t0=this.localStore,u.t0){u.next=12;break}return this.localStore=i.localStore,this.sharedClientState=i.sharedClientState,this.datastore=this.createDatastore(a),this.remoteStore=this.createRemoteStore(a),this.eventManager=this.createEventManager(a),this.syncEngine=this.createSyncEngine(a,!i.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(l){return C2(s.syncEngine,l,1)},this.remoteStore.remoteSyncer.handleCredentialChange=jX.bind(null,this.syncEngine),u.next=12,Gb(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return u.stop()}},r,this)})),function(r,i){return t.apply(this,arguments)})},{key:"createEventManager",value:function(n){return new IX}},{key:"createDatastore",value:function(n){var r=ip(n.databaseInfo.databaseId),i=new oX(n.databaseInfo);return new fX(n.authCredentials,n.appCheckCredentials,i,r)}},{key:"createRemoteStore",value:function(n){var i,a,s,o,u,r=this;return i=this.localStore,a=this.datastore,s=n.asyncQueue,o=function(c){return C2(r.syncEngine,c,0)},u=l2.vt()?new l2:new iX,new dX(i,a,s,o,u)}},{key:"createSyncEngine",value:function(n,r){return c=r,f=new MX(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions),c&&(f.ca=!0),f;var c,f}},{key:"terminate",value:function(){return(n=b(_().mark(function r(i){var a;return _().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return a=K(i),te("RemoteStore","RemoteStore shutting down."),a.lu.add(5),o.next=5,cu(a);case 5:a.du.shutdown(),a._u.set("Unknown");case 7:case"end":return o.stop()}},r)})),function(r){return n.apply(this,arguments)})(this.remoteStore);var n}}]),e;var t}(),up=function(){function e(t){m(this,e),this.observer=t,this.muted=!1}return g(e,[{key:"next",value:function(n){this.observer.next&&this.ya(this.observer.next,n)}},{key:"error",value:function(n){this.observer.error?this.ya(this.observer.error,n):console.error("Uncaught Error in snapshot listener:",n)}},{key:"pa",value:function(){this.muted=!0}},{key:"ya",value:function(n,r){var i=this;this.muted||setTimeout(function(){i.muted||n(r)},0)}}]),e}(),YX=function(){function e(t,n,r,i){var a=this;m(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=cn.UNAUTHENTICATED,this.clientId=XM.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var s=b(_().mark(function o(u){return _().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return te("FirestoreClient","Received user=",u.uid),c.next=3,a.authCredentialListener(u);case 3:a.user=u;case 4:case"end":return c.stop()}},o)}));return function(o){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,function(s){return te("FirestoreClient","Received new app check token=",s),a.appCheckCredentialListener(s,a.user)})}return g(e,[{key:"getConfiguration",value:(t=b(_().mark(function r(){return _().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return a.stop()}},r,this)})),function(){return t.apply(this,arguments)})},{key:"setCredentialChangeListener",value:function(n){this.authCredentialListener=n}},{key:"setAppCheckTokenChangeListener",value:function(n){this.appCheckCredentialListener=n}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new $(R.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var n=this;this.asyncQueue.enterRestrictedMode();var r=new Rn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(b(_().mark(function i(){var a;return _().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,o.t0=n.onlineComponents,!o.t0){o.next=5;break}return o.next=5,n.onlineComponents.terminate();case 5:if(o.t1=n.offlineComponents,!o.t1){o.next=9;break}return o.next=9,n.offlineComponents.terminate();case 9:n.authCredentials.shutdown(),n.appCheckCredentials.shutdown(),r.resolve(),o.next=18;break;case 14:o.prev=14,o.t2=o.catch(0),a=hu(o.t2,"Failed to shutdown persistence"),r.reject(a);case 18:case"end":return o.stop()}},i,null,[[0,14]])}))),r.promise}}]),e;var t}();function A2(e,t){return b0.apply(this,arguments)}function b0(){return(b0=b(_().mark(function e(t,n){var r,i;return _().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider"),s.next=3,t.getConfiguration();case 3:return r=s.sent,s.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var o=b(_().mark(function u(l){return _().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(f.t0=i.isEqual(l),f.t0){f.next=5;break}return f.next=4,n2(n.localStore,l);case 4:i=l;case 5:case"end":return f.stop()}},u)}));return function(u){return o.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=n;case 8:case"end":return s.stop()}},e)}))).apply(this,arguments)}function R2(e,t){return C0.apply(this,arguments)}function C0(){return(C0=b(_().mark(function e(t,n){var r,i;return _().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t.asyncQueue.verifyOperationInProgress(),s.next=3,E0(t);case 3:return r=s.sent,te("FirestoreClient","Initializing OnlineComponentProvider"),s.next=7,t.getConfiguration();case 7:return i=s.sent,s.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener(function(o){return g2(n.remoteStore,o)}),t.setAppCheckTokenChangeListener(function(o,u){return g2(n.remoteStore,u)}),t.onlineComponents=n;case 13:case"end":return s.stop()}},e)}))).apply(this,arguments)}function E0(e){return I0.apply(this,arguments)}function I0(){return(I0=b(_().mark(function e(t){return _().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(r.t0=t.offlineComponents,r.t0){r.next=5;break}return te("FirestoreClient","Using default OfflineComponentProvider"),r.next=5,A2(t,new $X);case 5:return r.abrupt("return",t.offlineComponents);case 6:case"end":return r.stop()}},e)}))).apply(this,arguments)}function lp(e){return T0.apply(this,arguments)}function T0(){return(T0=b(_().mark(function e(t){return _().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(r.t0=t.onlineComponents,r.t0){r.next=5;break}return te("FirestoreClient","Using default OnlineComponentProvider"),r.next=5,R2(t,new w0);case 5:return r.abrupt("return",t.onlineComponents);case 6:case"end":return r.stop()}},e)}))).apply(this,arguments)}function pu(e){return A0.apply(this,arguments)}function A0(){return(A0=b(_().mark(function e(t){var n,r;return _().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,lp(t);case 2:return a.abrupt("return",((r=(n=a.sent).eventManager).onListen=PX.bind(null,n.syncEngine),r.onUnlisten=OX.bind(null,n.syncEngine),r));case 5:case"end":return a.stop()}},e)}))).apply(this,arguments)}var F2=new Map;function R0(e,t,n){if(!n)throw new $(R.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function x2(e){if(!re.isDocumentKey(e))throw new $(R.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Oe(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new $(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=function(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=(n=e).constructor?n.constructor.name:null;return t?"a custom ".concat(t," object"):"an object"}var n;return"function"==typeof e?"a function":ae()}(e);throw new $(R.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var U2=function(){function e(t){var n;if(m(this,e),void 0===t.host){if(void 0!==t.ssl)throw new $(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new $(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new $(R.INVALID_ARGUMENT,"".concat("experimentalForceLongPolling"," and ").concat("experimentalAutoDetectLongPolling"," cannot be used together."))}(0,t.experimentalForceLongPolling,0,t.experimentalAutoDetectLongPolling)}return g(e,[{key:"isEqual",value:function(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}]),e}(),xc=function(){function e(t,n,r){m(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new U2({}),this._settingsFrozen=!1,t instanceof eb?this._databaseId=t:(this._app=t,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new $(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eb(i.options.projectId)}(t))}return g(e,[{key:"app",get:function(){if(!this._app)throw new $(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(n){if(this._settingsFrozen)throw new $(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new U2(n),void 0!==n.credentials&&(this._authCredentials=function(r){if(!r)return new mY;switch(r.type){case"gapi":var i=r.client;return He(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new wY(i,r.sessionIndex||"0",r.iamToken||null);case"provider":return r.client;default:throw new $(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(n.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return(r=F2.get(this))&&(te("ComponentProvider","Removing Datastore"),F2.delete(this),r.terminate()),Promise.resolve();var r}}]),e}(),$t=function(){function e(t,n,r){m(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return g(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Oa(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(n){return new e(this.firestore,n,this._key)}}]),e}(),Qi=function(){function e(t,n,r){m(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return g(e,[{key:"withConverter",value:function(n){return new e(this.firestore,n,this._query)}}]),e}(),Oa=function(e){D(n,e);var t=S(n);function n(r,i,a){var s;return m(this,n),(s=t.call(this,r,i,eu(a)))._path=a,s.type="collection",s}return g(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var i=this._path.popLast();return i.isEmpty()?null:new $t(this.firestore,null,new re(i))}},{key:"withConverter",value:function(i){return new n(this.firestore,i,this._path)}}]),n}(Qi);var oZ=function(){function e(){var t=this;m(this,e),this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new c2(this,"async_queue_retry"),this.Ua=function(){var r=Db();r&&te("AsyncQueue","Visibility state changed to "+r.visibilityState),t.So.Eo()};var n=Db();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ua)}return g(e,[{key:"isShuttingDown",get:function(){return this.Ma}},{key:"enqueueAndForget",value:function(n){this.enqueue(n)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(n){this.qa(),this.Ga(n)}},{key:"enterRestrictedMode",value:function(n){if(!this.Ma){this.Ma=!0,this.Ba=n||!1;var r=Db();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Ua)}}},{key:"enqueue",value:function(n){var r=this;if(this.qa(),this.Ma)return new Promise(function(){});var i=new Rn;return this.Ga(function(){return r.Ma&&r.Ba?Promise.resolve():(n().then(i.resolve,i.reject),i.promise)}).then(function(){return i.promise})}},{key:"enqueueRetryable",value:function(n){var r=this;this.enqueueAndForget(function(){return r.ka.push(n),r.Ka()})}},{key:"Ka",value:(t=b(_().mark(function r(){var i=this;return _().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(0===this.ka.length){s.next=14;break}return s.prev=1,s.next=4,this.ka[0]();case 4:this.ka.shift(),this.So.reset(),s.next=13;break;case 8:if(s.prev=8,s.t0=s.catch(1),Mc(s.t0)){s.next=12;break}throw s.t0;case 12:te("AsyncQueue","Operation failed with retryable error: "+s.t0);case 13:this.ka.length>0&&this.So.Io(function(){return i.Ka()});case 14:case"end":return s.stop()}},r,this,[[1,8]])})),function(){return t.apply(this,arguments)})},{key:"Ga",value:function(n){var r=this,i=this.Na.then(function(){return r.$a=!0,n().catch(function(a){var o,u;throw r.Fa=a,r.$a=!1,Ia("INTERNAL UNHANDLED ERROR: ",(u=(o=a).message||"",o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),u)),a}).then(function(a){return r.$a=!1,a})});return this.Na=i,i}},{key:"enqueueAfterDelay",value:function(n,r,i){var a=this;this.qa(),this.La.indexOf(n)>-1&&(r=0);var s=CX.createAndSchedule(this,n,r,i,function(o){return a.Qa(o)});return this.Oa.push(s),s}},{key:"qa",value:function(){this.Fa&&ae()}},{key:"verifyOperationInProgress",value:function(){}},{key:"ja",value:function(){var t=b(_().mark(function r(){var i;return _().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return i=this.Na,s.next=3,i;case 3:if(i!==this.Na){s.next=0;break}case 4:case"end":return s.stop()}},r,this)}));return function(){return t.apply(this,arguments)}}()},{key:"Wa",value:function(n){var i,r=W(this.Oa);try{for(r.s();!(i=r.n()).done;)if(i.value.timerId===n)return!0}catch(s){r.e(s)}finally{r.f()}return!1}},{key:"za",value:function(n){var r=this;return this.ja().then(function(){r.Oa.sort(function(o,u){return o.targetTimeMs-u.targetTimeMs});var a,i=W(r.Oa);try{for(i.s();!(a=i.n()).done;){var s=a.value;if(s.skipDelay(),"all"!==n&&s.timerId===n)break}}catch(o){i.e(o)}finally{i.f()}return r.ja()})}},{key:"Ha",value:function(n){this.La.push(n)}},{key:"Qa",value:function(n){var r=this.Oa.indexOf(n);this.Oa.splice(r,1)}}]),e;var t}();function N0(e){return function(t,n){if("object"!=typeof t||null===t)return!1;var a,r=t,i=W(["next","error","complete"]);try{for(i.s();!(a=i.n()).done;){var s=a.value;if(s in r&&"function"==typeof r[s])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var dt=function(e){D(n,e);var t=S(n);function n(r,i,a){var s;return m(this,n),(s=t.call(this,r,i,a)).type="firestore",s._queue=new oZ,s._persistenceKey="name"in r?r.name:"[DEFAULT]",s}return g(n,[{key:"_terminate",value:function(){return this._firestoreClient||j2(this),this._firestoreClient.terminate()}}]),n}(xc);function xt(e){return e._firestoreClient||j2(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function j2(e){var t,a,o,n=e._freezeSettings(),r=(a=(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",new DY(e._databaseId,a,e._persistenceKey,(o=n).host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,o.useFetchStreams));e._firestoreClient=new YX(e._authCredentials,e._appCheckCredentials,e._queue,r)}var Lc=function(){function e(){m(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new $(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ta(n)}return g(e,[{key:"isEqual",value:function(n){return this._internalPath.isEqual(n._internalPath)}}]),e}(),M0=function(){function e(t){m(this,e),this._byteString=t}return g(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(n){return this._byteString.isEqual(n._byteString)}}],[{key:"fromBase64String",value:function(n){try{return new e(Ln.fromBase64String(n))}catch(r){throw new $(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}},{key:"fromUint8Array",value:function(n){return new e(Ln.fromUint8Array(n))}}]),e}(),P0=function(){function e(t,n){if(m(this,e),!isFinite(t)||t<-90||t>90)throw new $(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new $(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return g(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(n){return this._lat===n._lat&&this._long===n._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(n){return Be(this._lat,n._lat)||Be(this._long,n._long)}}]),e}(),wZ=new RegExp("[~\\*/\\[\\]]");function L0(e,t,n,r,i){var a=r&&!r.isEmpty(),s=void 0!==i,o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";var u="";return(a||s)&&(u+=" (found",a&&(u+=" in field ".concat(r)),s&&(u+=" in document ".concat(i)),u+=")"),new $(R.INVALID_ARGUMENT,o+e+u)}var V0=function(){function e(t,n,r,i,a){m(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return g(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new $t(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var n=new bZ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(n){if(this._document){var r=this._document.data.field(dp("DocumentSnapshot.get",n));if(null!==r)return this._userDataWriter.convertValue(r)}}}]),e}(),bZ=function(e){D(n,e);var t=S(n);function n(){return m(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(){return ue(oe(n.prototype),"data",this).call(this)}}]),n}(V0);function dp(e,t){return"string"==typeof t?function(e,t,n){if(t.search(wZ)>=0)throw L0("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return tn(Lc,ye(t.split(".")))._internalPath}catch(r){throw L0("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}(e,t):t instanceof Lc?t._internalPath:t._delegate._internalPath}var vu=function(){function e(t,n){m(this,e),this.hasPendingWrites=t,this.fromCache=n}return g(e,[{key:"isEqual",value:function(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}]),e}(),Uc=function(e){D(n,e);var t=S(n);function n(r,i,a,s,o,u){var l;return m(this,n),(l=t.call(this,r,i,a,s,u))._firestore=r,l._firestoreImpl=r,l.metadata=o,l}return g(n,[{key:"exists",value:function(){return ue(oe(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var a=new pp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(a,i)}return this._userDataWriter.convertValue(this._document.data.value,i.serverTimestamps)}}},{key:"get",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var s=this._document.data.field(dp("DocumentSnapshot.get",i));if(null!==s)return this._userDataWriter.convertValue(s,a.serverTimestamps)}}}]),n}(V0),pp=function(e){D(n,e);var t=S(n);function n(){return m(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ue(oe(n.prototype),"data",this).call(this,i)}}]),n}(Uc),gu=function(){function e(t,n,r,i){m(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new vu(i.hasPendingWrites,i.fromCache),this.query=r}return g(e,[{key:"docs",get:function(){var n=[];return this.forEach(function(r){return n.push(r)}),n}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(n,r){var i=this;this._snapshot.docs.forEach(function(a){n.call(r,new pp(i._firestore,i._userDataWriter,a.key,a,new vu(i._snapshot.mutatedKeys.has(a.key),i._snapshot.fromCache),i.query.converter))})}},{key:"docChanges",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=!!n.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new $(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){var s=0;return i._snapshot.docChanges.map(function(u){return{type:"added",doc:new pp(i._firestore,i._userDataWriter,u.doc.key,u.doc,new vu(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}})}var o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(function(u){return a||3!==u.type}).map(function(u){var l=new pp(i._firestore,i._userDataWriter,u.doc.key,u.doc,new vu(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),c=-1,f=-1;return 0!==u.type&&(c=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),1!==u.type&&(f=(o=o.add(u.doc)).indexOf(u.doc.key)),{type:CZ(u.type),doc:l,oldIndex:c,newIndex:f}})}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}]),e}();function CZ(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae()}}function Y2(e){if($d(e)&&0===e.explicitOrderBy.length)throw new $(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var mu=function(e){D(n,e);var t=S(n);function n(r){var i;return m(this,n),(i=t.call(this)).firestore=r,i}return g(n,[{key:"convertBytes",value:function(i){return new M0(i)}},{key:"convertReference",value:function(i){var a=this.convertDocumentKey(i,this.firestore._databaseId);return new $t(this.firestore,null,a)}}]),n}(function(){function e(){m(this,e)}return g(e,[{key:"convertValue",value:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ps(n)){case 0:return null;case 1:return n.booleanValue;case 2:return At(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,r);case 5:return n.stringValue;case 6:return this.convertBytes(Yo(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,r);case 10:return this.convertObject(n.mapValue,r);default:throw ae()}}},{key:"convertObject",value:function(n,r){var i=this,a={};return Ms(n.fields,function(s,o){a[s]=i.convertValue(o,r)}),a}},{key:"convertGeoPoint",value:function(n){return new P0(At(n.latitude),At(n.longitude))}},{key:"convertArray",value:function(n,r){var i=this;return(n.values||[]).map(function(a){return i.convertValue(a,r)})}},{key:"convertServerTimestamp",value:function(n,r){switch(r){case"previous":var i=nP(n);return null==i?null:this.convertValue(i,r);case"estimate":return this.convertTimestamp(bc(n));default:return null}}},{key:"convertTimestamp",value:function(n){var r=Da(n);return new Nn(r.seconds,r.nanos)}},{key:"convertDocumentKey",value:function(n,r){var i=ze.fromString(n);He(KP(i));var a=new eb(i.get(1),i.get(3)),s=new re(i.popFirst(5));return a.isEqual(r)||Ia("Document ".concat(s," contains a document reference within a different database (").concat(a.projectId,"/").concat(a.database,") which is not supported. It will be treated as a reference in the current database (").concat(r.projectId,"/").concat(r.database,") instead.")),s}}]),e}());function U0(e,t,n){var r=n.docs.get(t._key),i=new mu(e);return new Uc(e,i,t._key,r,new vu(n.hasPendingWrites,n.fromCache),t.converter)}function B0(e){return new at(function(t){return{unsubscribe:function(e,t,n,r){return Ot(e).onIdTokenChanged(t,n,r)}(e,t.next.bind(t),t.error.bind(t),t.complete.bind(t))}})}function Fa(){}function Os(e,t,n){return function(i){return i.lift(new RZ(e,t,n))}}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Ko="9.6.10",Jn(new xn("firestore",function(n,r){var i=r.options,a=n.getProvider("app").getImmediate(),s=new dt(a,new _Y(n.getProvider("auth-internal")),new CY(n.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s},"PUBLIC")),Tn(QM,"3.4.7",e),Tn(QM,"3.4.7","esm2017")}();var RZ=function(){function e(t,n,r){m(this,e),this.nextOrObserver=t,this.error=n,this.complete=r}return g(e,[{key:"call",value:function(n,r){return r.subscribe(new NZ(n,this.nextOrObserver,this.error,this.complete))}}]),e}(),NZ=function(e){D(n,e);var t=S(n);function n(r,i,a,s){var o;return m(this,n),(o=t.call(this,r))._tapNext=Fa,o._tapError=Fa,o._tapComplete=Fa,o._tapError=a||Fa,o._tapComplete=s||Fa,G(i)?(o._context=lt(o),o._tapNext=i):i&&(o._context=i,o._tapNext=i.next||Fa,o._tapError=i.error||Fa,o._tapComplete=i.complete||Fa),o}return g(n,[{key:"_next",value:function(i){try{this._tapNext.call(this._context,i)}catch(a){return void this.destination.error(a)}this.destination.next(i)}},{key:"_error",value:function(i){try{this._tapError.call(this._context,i)}catch(a){return void this.destination.error(a)}this.destination.error(i)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(i){return void this.destination.error(i)}return this.destination.complete()}}]),n}(kt),j0=new MA(RA);function H0(e){return!Nr(e)&&e-parseFloat(e)+1>=0}function PZ(e){var t=e.subscriber,n=e.counter,r=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:r},r)}function FZ(e){var t=e.index,n=e.period,r=e.subscriber;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}var LZ=function(){function e(t){m(this,e),this.notifier=t}return g(e,[{key:"call",value:function(n,r){var i=new VZ(n),a=Au(i,this.notifier);return a&&!i.seenValue?(i.add(a),r.subscribe(i)):i}}]),e}(),VZ=function(e){D(n,e);var t=S(n);function n(r){var i;return m(this,n),(i=t.call(this,r)).seenValue=!1,i}return g(n,[{key:"notifyNext",value:function(i,a,s,o,u){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(T),UZ={title:"Hey!",text:"",icon:"\ud83d\udd14",className:"",dismissed:!1,countdown:10},G0=function(){function e(t){this.app=t}return e.prototype.setNotification=function(t){this.current=Gh(Gh({},UZ),t),this.startCountdown(1e3*this.current.countdown),this.app.tick()},e.prototype.startCountdown=function(t){var n=this;this.resetCountdown();var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j0;return(!H0(e)||e<0)&&(e=0),(!t||"function"!=typeof t.schedule)&&(t=j0),new at(function(n){return n.add(t.schedule(PZ,e,{subscriber:n,counter:0,period:e})),n})}(1e3),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=-1;return H0(t)?r=Number(t)<1?1:Number(t):Ls(t)&&(n=t),Ls(n)||(n=j0),new at(function(i){var a=H0(e)?e:+e-n.now();return n.schedule(FZ,a,{index:0,period:r,subscriber:i})})}(t),a=r.pipe(function(e){return function(t){return t.lift(new LZ(e))}}(i));this.countdown=a.subscribe(function(){n.current.countdown-=1,n.app.tick()}),this.waiter=i.subscribe(function(){n.dismiss()})},e.prototype.resetCountdown=function(){this.countdown instanceof Q&&this.countdown.unsubscribe(),this.waiter instanceof Q&&this.waiter.unsubscribe()},e.prototype.dismiss=function(){this.resetCountdown(),this.current.dismissed=!0,this.app.tick()},e.\u0275prov=Re({token:e,factory:e.\u0275fac=function(n){return new(n||e)(me(vi))},providedIn:"root"}),e}(),BZ={title:"Welcome!",text:"You're in! Welcome to the club \ud83d\udd25\u26f5",className:"",icon:"\ud83d\udc4b"},jZ={title:"Bye Bye!",text:"It's been fun! See ya later :)",className:""},HZ={includeMetadataChanges:!1};function qZ(e,t){return void 0===t&&(t={}),function(e){return function(e,t){return void 0===t&&(t=HZ),new at(function(n){return{unsubscribe:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,s;e=Ot(e);var o={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||N0(n[u])||(o=n[u],u++);var f,h,d,y,k,w,M,j,l={includeMetadataChanges:o.includeMetadataChanges};if(N0(n[u])){var c=n[u];n[u]=null===(i=c.next)||void 0===i?void 0:i.bind(c),n[u+1]=null===(a=c.error)||void 0===a?void 0:a.bind(c),n[u+2]=null===(s=c.complete)||void 0===s?void 0:s.bind(c)}if(e instanceof $t)h=Oe(e.firestore,dt),d=eu(e._key.path),f={next:function(k){n[u]&&n[u](U0(h,e,k))},error:n[u+1],complete:n[u+2]};else{var p=Oe(e,Qi);h=Oe(p.firestore,dt),d=p._query;var v=new mu(h);f={next:function(k){n[u]&&n[u](new gu(h,v,p,k))},error:n[u+1],complete:n[u+2]},Y2(e._query)}return y=xt(h),k=d,w=l,M=new up(f),j=new Yb(k,M,w),y.asyncQueue.enqueueAndForget(b(_().mark(function z(){return _().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.t0=$b,V.next=3,pu(y);case 3:return V.t1=V.sent,V.t2=j,V.abrupt("return",(0,V.t0)(V.t1,V.t2));case 6:case"end":return V.stop()}},z)}))),function(){M.pa(),y.asyncQueue.enqueueAndForget(b(_().mark(function z(){return _().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.t0=zb,V.next=3,pu(y);case 3:return V.t1=V.sent,V.t2=j,V.abrupt("return",(0,V.t0)(V.t1,V.t2));case 6:case"end":return V.stop()}},z)})))}}(e,t,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)})}})}(e,{includeMetadataChanges:!0})}(e).pipe(x(function(n){return function(e,t){void 0===t&&(t={});var n=e.data();return!e.exists()||"object"!=typeof n||null===n||t.idField&&(n[t.idField]=e.id),n}(n,t)}))}var Yi=function(){function e(t,n){var r=this;this.app=t,this.ns=n,this.auth=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kl(),t=Yr(e,"auth");return t.isInitialized()?t.getImmediate():kW(e,{popupRedirectResolver:UK,persistence:[Qz,Oz,UR]})}(),this.analytics=iw(),this.firestore=function(){return Yr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kl(),"firestore").getImmediate()}(),this.user$=B0(this.auth).pipe(Os(function(i){r.user=i,r.app.tick(),i&&function(e,t,n){e=Ot(e),function(e,t,n,r){return tw.apply(this,arguments)}(nc,Hi[e.app.options.appId],t,n).catch(function(r){return Yt.error(r)})}(r.analytics,i.uid)})),this.userDoc$=this.getUserDoc$("users").pipe(Os(function(i){r.userDoc=i,r.app.tick(),i&&function(e,t,n){e=Ot(e),function(e,t,n,r){return nw.apply(this,arguments)}(nc,Hi[e.app.options.appId],t,n).catch(function(r){return Yt.error(r)})}(r.analytics,{pro_status:i.pro_status})})),this.user$.subscribe(),this.userDoc$.subscribe()}return e.prototype.getUserDoc$=function(t){var n=this;return B0(this.auth).pipe(ry(function(r){return r?qZ(function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ot(e),1===arguments.length&&(t=XM.R()),R0("doc","path",t),e instanceof xc){var a=ze.fromString.apply(ze,[t].concat(r));return x2(a),new $t(e,null,new re(a))}if(!(e instanceof $t||e instanceof Oa))throw new $(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var s=e._path.child(ze.fromString.apply(ze,[t].concat(r)));return x2(s),new $t(e.firestore,e instanceof Oa?e.converter:null,new re(s))}(n.firestore,t+"/"+r.uid)):PA(null)}))},e.prototype.signOut=function(){(function(e){Ot(e).signOut()})(this.auth),location.replace("https://fireship.io"),this.ns.setNotification(jZ),Ho(this.analytics,"logout",{})},e.prototype.googleLogin=function(){return Le(this,void 0,void 0,function(){var t;return Ve(this,function(n){return t=zR(this.auth,new az),[2,this.loginHandler(t)]})})},e.prototype.appleLogin=function(){return Le(this,void 0,void 0,function(){var t,n;return Ve(this,function(r){return t=new iz("apple.com"),n=zR(this.auth,t),[2,this.loginHandler(n)]})})},Object.defineProperty(e.prototype,"userId",{get:function(){return this.user?this.user.uid:null},enumerable:!1,configurable:!0}),e.prototype.emailSignup=function(t,n){return Le(this,void 0,void 0,function(){var r;return Ve(this,function(i){return r=function(e,t,n){return T_.apply(this,arguments)}(this.auth,t,n),[2,this.loginHandler(r)]})})},e.prototype.emailLogin=function(t,n){return Le(this,void 0,void 0,function(){var r;return Ve(this,function(i){return r=function(e,t,n){return v_(Ot(e),RR.credential(t,n))}(this.auth,t,n),[2,this.loginHandler(r)]})})},e.prototype.resetPassword=function(t){return Le(this,void 0,void 0,function(){return Ve(this,function(n){return[2,fz(this.auth,t)]})})},e.prototype.sendPasswordlessEmail=function(t){return Le(this,void 0,void 0,function(){var r;return Ve(this,function(i){return r=function(e,t,n){return D_.apply(this,arguments)}(this.auth,t,{url:"https://fireship.io/dashboard",handleCodeInApp:!0}),window.localStorage.setItem("emailForSignIn",t),[2,r]})})},e.prototype.passwordlessSignin=function(){return Le(this,void 0,void 0,function(){var t,n;return Ve(this,function(r){return function(e,t){var n=a_.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}(0,window.location.href)?((t=window.localStorage.getItem("emailForSignIn"))||(t=window.prompt("Please provide your email for confirmation")),n=function(e,t,n){return S_.apply(this,arguments)}(this.auth,t,window.location.href),window.localStorage.removeItem("emailForSignIn"),[2,this.loginHandler(n)]):[2]})})},e.prototype.loginHandler=function(t){return Le(this,void 0,void 0,function(){var n,r,i;return Ve(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,t];case 1:return n=a.sent(),this.ns.setNotification(BZ),Ho(this.analytics,"login",{}),[3,3];case 2:return i=a.sent(),r=i.message,console.error(i),[3,3];case 3:return[2,{res:n,serverError:r}]}})})},e.\u0275prov=Re({token:e,factory:e.\u0275fac=function(n){return new(n||e)(me(vi),me(G0))},providedIn:"root"}),e}();function YZ(e,t){if(1&e){var n=Kt();E(0,"span",4),Se("click",function(){return zt(n),ne(2).auth.signOut()}),ge(1,"slot",5),I()}}function JZ(e,t){if(1&e&&(E(0,"div"),E(1,"span"),ge(2,"slot",2),I(),q(3,YZ,2,0,"span",3),I()),2&e){var n=ne();O(3),B("ngIf",n.showSignout)}}function XZ(e,t){if(1&e){var n=Kt();E(0,"span",4),Se("click",function(){return zt(n),ne().auth.googleLogin()}),ge(1,"slot",6),I()}}var sO=function(){function e(t,n){this.auth=t,this.el=n,this.showSignout=!1}return e.prototype.ngAfterViewInit=function(){this.el.nativeElement.style.visibility="visible"},e.\u0275fac=function(n){return new(n||e)(N(Yi),N(Bt))},e.\u0275cmp=gt({type:e,selectors:[["ng-component"]],inputs:{showSignout:"showSignout"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["login",""],["name","profile"],[3,"click",4,"ngIf"],[3,"click"],["name","signout"],["name","signin"]],template:function(n,r){if(1&n&&(q(0,JZ,4,1,"div",0),q(1,XZ,2,0,"ng-template",null,1,Tl)),2&n){var i=Co(2);B("ngIf",r.auth.user)("ngIfElse",i)}},directives:[In],encapsulation:3}),e}();function Xr(){return function(e,t,n){var r=n.value;return n.value=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var s=r.call.apply(r,t$([this],i));try{var o=this.cd;o.detectChanges()}catch(u){console.error("Change Detector Error. Do not set state in a constructor",u)}return s},n}}function ZZ(e,t){1&e&&(E(0,"span"),ge(1,"slot",2),I())}function eee(e,t){1&e&&(E(0,"span"),ge(1,"slot",3),I())}var oO=function(){function e(t,n,r,i){this.el=t,this.cd=n,this.localStorage=r,this.document=i,this.themeKey="theme",this.themeMap={"dark-theme":"light-theme","light-theme":"dark-theme"},this.theme=this.getIt()}return e.prototype.domContentLoaded=function(){this.changeTheme(this.theme)},e.prototype.ngAfterViewInit=function(){this.el.nativeElement.style.visibility="visible"},e.prototype.changeTheme=function(t){this.theme=t=t||this.themeMap[this.theme],this.document.body.className=t,this.storeIt(t)},e.prototype.getIt=function(){var t=this.localStorage.getItem(this.themeKey);return t in this.themeMap?t:"dark-theme"},e.prototype.storeIt=function(t){this.localStorage.setItem(this.themeKey,t)},e.\u0275fac=function(n){return new(n||e)(N(Bt),N(On),N(AA),N(un))},e.\u0275cmp=gt({type:e,selectors:[["ng-component"]],hostBindings:function(n,r){1&n&&Se("DOMContentLoaded",function(){return r.domContentLoaded()},!1,Vv)},decls:3,vars:2,consts:[[3,"click"],[4,"ngIf"],["name","light"],["name","dark"]],template:function(n,r){1&n&&(E(0,"span",0),Se("click",function(){return r.changeTheme()}),q(1,ZZ,2,0,"span",1),q(2,eee,2,0,"span",1),I()),2&n&&(O(1),B("ngIf","light-theme"==r.theme),O(1),B("ngIf","dark-theme"==r.theme))},directives:[In],encapsulation:3}),Qr([Xr(),xe("design:type",Function),xe("design:paramtypes",[String]),xe("design:returntype",void 0)],e.prototype,"changeTheme",null),e}(),tee=function(){function e(t){var n=this;this.app=t,this.state={route:!1},window.addEventListener("router:fetch",function(r){n.state.route=!0,n.app.tick()}),window.addEventListener("router:end",function(r){setTimeout(function(){n.state.route=!1,n.app.tick()},500)})}return e.\u0275prov=Re({token:e,factory:e.\u0275fac=function(n){return new(n||e)(me(vi))},providedIn:"root"}),e}();function nee(e,t){1&e&&(E(0,"span"),ge(1,"slot"),I())}var uO=function(){function e(t){this.loading=t}return e.\u0275fac=function(n){return new(n||e)(N(tee))},e.\u0275cmp=gt({type:e,selectors:[["ng-component"]],decls:1,vars:1,consts:[[4,"ngIf"]],template:function(n,r){1&n&&q(0,nee,2,0,"span",0),2&n&&B("ngIf",r.loading.state.route)},directives:[In],encapsulation:3}),e}(),lO=function(){function e(){}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=gt({type:e,selectors:[["ng-component"]],inputs:{uid:"uid",photoURL:"photoURL",displayName:"displayName"},decls:4,vars:2,consts:[[1,"user-profile"],[3,"src"],[1,"user-name"]],template:function(n,r){1&n&&(E(0,"div",0),ge(1,"img",1),E(2,"span",2),F(3),I(),I()),2&n&&(O(1),B("src",r.photoURL||"/img/avatar.svg",ua),O(2),Qn(r.displayName||"Mystery Person"))},encapsulation:2}),e}();function ree(e,t){1&e&&(E(0,"div"),ge(1,"slot"),I())}var cO=function(){function e(t,n){this.cd=t,this.el=n}return e.prototype.ngAfterViewInit=function(){var t=this;if(window.IntersectionObserver){this.show=!1;var n=new IntersectionObserver(function(r){r.forEach(function(i){i.isIntersecting&&(t.appendComponent(),t.toggleShow(!0),n.disconnect())})});n.observe(this.el.nativeElement)}else this.appendComponent(),this.toggleShow(!0)},e.prototype.appendComponent=function(){if(this.selector){for(var t=this.selector.split(","),n=t.splice(0,1)[0],r=document.createElement(n),i=0,a=t;i<a.length;i++){var o=a[i].split(":");r.setAttribute(o[0],o[1])}this.el.nativeElement.appendChild(r)}},e.prototype.toggleShow=function(t){this.show=t},e.\u0275fac=function(n){return new(n||e)(N(On),N(Bt))},e.\u0275cmp=gt({type:e,selectors:[["ng-component"]],inputs:{selector:"selector"},decls:1,vars:1,consts:[[4,"ngIf"]],template:function(n,r){1&n&&q(0,ree,2,0,"div",0),2&n&&B("ngIf",r.show)},directives:[In],encapsulation:3}),Qr([Xr(),xe("design:type",Function),xe("design:paramtypes",[Object]),xe("design:returntype",void 0)],e.prototype,"toggleShow",null),e}(),fO=function(){function e(){}return e.prototype.showModal=function(){document.querySelector(this.selector).show()},e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=gt({type:e,selectors:[["ng-component"]],inputs:{selector:"selector"},decls:2,vars:0,consts:[[3,"click"]],template:function(n,r){1&n&&(E(0,"span",0),Se("click",function(){return r.showModal()}),ge(1,"slot"),I())},encapsulation:3}),e}();function iee(e,t){if(1&e){var n=Kt();E(0,"span",2),Se("click",function(){return zt(n),ne().toggle()}),ge(1,"slot",3),I()}}function aee(e,t){if(1&e){var n=Kt();E(0,"span",2),Se("click",function(){return zt(n),ne().toggle(!1)}),ge(1,"slot",4),I()}}function see(e,t){1&e&&(E(0,"span"),ge(1,"slot",5),I())}var hO=function(){function e(t,n){this.cd=t,this.el=n}return e.prototype.ngAfterViewInit=function(){this.el.nativeElement.style.visibility="visible",this.target=document.querySelector(this.selector)},e.prototype.toggle=function(t){if(this.show=t||!this.show,this.target){var n=this.show?"visible":"hidden";this.target.style.visibility=n,"visible"===n?this.target.classList.add("show"):this.target.classList.remove("show")}},e.\u0275fac=function(n){return new(n||e)(N(On),N(Bt))},e.\u0275cmp=gt({type:e,selectors:[["ng-component"]],inputs:{selector:"selector"},decls:3,vars:3,consts:[[3,"click",4,"ngIf"],[4,"ngIf"],[3,"click"],["name","button"],["name","close"],["name","content"]],template:function(n,r){1&n&&(q(0,iee,2,0,"span",0),q(1,aee,2,0,"span",0),q(2,see,2,0,"span",1)),2&n&&(B("ngIf",!r.show),O(1),B("ngIf",r.show),O(1),B("ngIf",r.show))},directives:[In],encapsulation:3}),Qr([Xr(),xe("design:type",Function),xe("design:paramtypes",[Object]),xe("design:returntype",void 0)],e.prototype,"toggle",null),e}();function oee(e,t){if(1&e&&(E(0,"h3"),F(1),I()),2&e){var n=ne().ngIf;O(1),Qt(" ",n.title,"")}}function uee(e,t){if(1&e){var n=Kt();ul(0),E(1,"div",1),E(2,"div",2),F(3),I(),E(4,"div",3),E(5,"button",4),Se("click",function(){return zt(n),ne().ns.dismiss()}),F(6),I(),q(7,oee,2,1,"h3",0),E(8,"p"),F(9),I(),ge(10,"p"),I(),I(),ll()}if(2&e){var r=t.ngIf;O(1),fa("hide",r.dismissed),B("ngClass",r.className),O(2),Qn(r.icon),O(3),Qt("dismiss (",r.countdown," sec)"),O(1),B("ngIf",r.title),O(2),Qn(r.text)}}var dO=function(){function e(t){this.ns=t}return e.\u0275fac=function(n){return new(n||e)(N(G0))},e.\u0275cmp=gt({type:e,selectors:[["ng-component"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"box","notification",3,"ngClass"],[1,"box-icon"],[1,"box-content"],[1,"btn","btn-sm","notification-close",3,"click"]],template:function(n,r){1&n&&q(0,uee,11,7,"ng-container",0),2&n&&B("ngIf",r.ns.current)},directives:[In,cA],encapsulation:2}),e}(),lee={base:{iconColor:"#9aa6b3",color:"#6ca0fc",fontWeight:500,fontFamily:"ratio, sans-serif",fontSize:"18px",fontSmoothing:"antialiased",":-webkit-autofill":{color:"#9aa6b3",fontWeight:500},"::placeholder":{color:"#9aa6b3"}},invalid:{iconColor:"#ff3860",color:"#ff3860"}},jc={proMonthly:{id:"proMonthly",productId:"prod_DAWCfOQLPlvU5g",planId:"plan_DAWDbxLaN5MwF3",price:2500,description:"Fireship.io PRO Monthly Membership \ud83d\udd25",type:"subscribe"},proQuarterly:{id:"proQuarterly",productId:"plan_EbowEefcrMY0eg",planId:"plan_EbowEefcrMY0eg",price:5e3,description:"Fireship.io PRO Quarterly Membership \ud83d\ude80",type:"subscribe"},proLifetime:{id:"proLifetime",sku:"sku_Ebp0C4S9tei5CO",price:3e4,description:"Fireship.io Lifetime Access \ud83e\udd84",type:"order",url:"/tags/pro",crypto:!0},flutterFirebase:{id:"flutterFirebase",sku:"sku_FJCsh7mvjI83Kz",description:"The Flutter Firebase Course \ud83d\udc26",type:"order",price:1900,url:"/courses/flutter-firebase",crypto:!0},stripePayments:{id:"stripePayments",sku:"sku_FJEdgiT5ZF8bCQ",description:"Stripe Payments Course \ud83d\udcb0",type:"order",price:1900,url:"/courses/stripe-payments/",crypto:!0},firestoreDataModeling:{id:"firestoreDataModeling",sku:"sku_FJEdx5Tz9dPrvm",description:"Firestore Data Modeling Course \ud83d\udd25",type:"order",price:1900,url:"/courses/firestore-data-modeling/",crypto:!0},ionic:{id:"ionic",sku:"sku_FSAhASTSPQb1oh",description:"Ionic 4 (Angular) Master Course \ud83d\udcf1",type:"order",price:1900,url:"/courses/ionic/",crypto:!0},angular:{id:"angular",sku:"sku_Fn7Ojng8TLwnC4",description:"Angular Firebase Project Course \ud83c\udf71",type:"order",price:1900,url:"/courses/angular/",crypto:!0},vue:{id:"vue",sku:"sku_H1XsUY6LLGAgVx",description:"Vue Firebase Project Course \ud83d\udd96",type:"order",price:1900,url:"/courses/vue/",crypto:!0},stripeJs:{id:"stripeJs",sku:"sku_HG8dqucZV4x6F2",description:"Stripe JavaScript Full Course \ud83d\udcb8",type:"order",price:1900,url:"/courses/stripe-js/",crypto:!0},firebaseSecurity:{id:"firebaseSecurity",sku:"sku_IVIjaiCRlivYD3",description:"Firebase Security Course \ud83d\udee1\ufe0f",type:"order",price:1900,url:"/courses/firebase-security/",crypto:!0},reactNextFirebase:{id:"reactNextFirebase",sku:"sku_ItHZfVSApb3xkT",description:"The Next.js Firebase Course \ud83d\ude80",type:"order",price:1900,url:"/courses/react-next-firebase/",crypto:!0},git:{id:"git",sku:"sku_KBHTYbTWv1Hmb7",description:"The Git & GitHub Course \ud83c\udf7d\ufe0f",type:"order",price:1900,url:"/courses/git/",crypto:!0},dart:{id:"dart",sku:"sku_KOyOvlrmLikRz8",description:"Dart - The Full Course \ud83c\udfaf",type:"order",price:1900,url:"/courses/dart/",crypto:!0},vscodeTricks:{id:"vscodeTricks",sku:"sku_Kf57qdqUerVTUS",description:"VS Code Magic Tricks Course \u2728",type:"order",price:1900,url:"/courses/vscode-tricks/",crypto:!0}};function vp(e,t){return new at(function(n){var r=e.length;if(0!==r)for(var i=new Array(r),a=0,s=0,o=function(c){var f=Ru(e[c]),h=!1;n.add(f.subscribe({next:function(p){h||(h=!0,s++),i[c]=p},error:function(p){return n.error(p)},complete:function(){(++a===r||!h)&&(s===r&&n.next(t?t.reduce(function(p,v,y){return p[v]=i[y],p},{}):i),n.complete())}}))},u=0;u<r;u++)o(u);else n.complete()})}var pO=function(){var e=function(){function t(n,r){m(this,t),this._renderer=n,this._elementRef=r,this.onChange=function(i){},this.onTouched=function(){}}return g(t,[{key:"setProperty",value:function(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}},{key:"registerOnTouched",value:function(r){this.onTouched=r}},{key:"registerOnChange",value:function(r){this.onChange=r}},{key:"setDisabledState",value:function(r){this.setProperty("disabled",r)}}]),t}();return e.\u0275fac=function(n){return new(n||e)(N(ds),N(Bt))},e.\u0275dir=le({type:e}),e}(),Fs=function(){var e=function(t){D(r,t);var n=S(r);function r(){return m(this,r),n.apply(this,arguments)}return g(r)}(pO);return e.\u0275fac=function(){var t;return function(r){return(t||(t=cr(e)))(r||e)}}(),e.\u0275dir=le({type:e,features:[ot]}),e}(),_i=new Me("NgValueAccessor"),hee={provide:_i,useExisting:et(function(){return Hc}),multi:!0},pee=new Me("CompositionEventMode"),Hc=function(){var e=function(t){D(r,t);var n=S(r);function r(i,a,s){var o;return m(this,r),(o=n.call(this,i,a))._compositionMode=s,o._composing=!1,null==o._compositionMode&&(o._compositionMode=!function(){var e=ys()?ys().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}()),o}return g(r,[{key:"writeValue",value:function(a){this.setProperty("value",null==a?"":a)}},{key:"_handleInput",value:function(a){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(a)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(a){this._composing=!1,this._compositionMode&&this.onChange(a)}}]),r}(pO);return e.\u0275fac=function(n){return new(n||e)(N(ds),N(Bt),N(pee,8))},e.\u0275dir=le({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&Se("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[ft([hee]),ot]}),e}();function xa(e){return null==e||0===e.length}function gO(e){return null!=e&&"number"==typeof e.length}var hn=new Me("NgValidators"),La=new Me("NgAsyncValidators"),vee=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,xs=function(){function e(){m(this,e)}return g(e,null,[{key:"min",value:function(n){return function(e){return function(t){if(xa(t.value)||xa(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}(n)}},{key:"max",value:function(n){return function(e){return function(t){if(xa(t.value)||xa(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}(n)}},{key:"required",value:function(n){return _O(n)}},{key:"requiredTrue",value:function(n){return function(e){return!0===e.value?null:{required:!0}}(n)}},{key:"email",value:function(n){return function(e){return xa(e.value)||vee.test(e.value)?null:{email:!0}}(n)}},{key:"minLength",value:function(n){return function(e){return function(t){return xa(t.value)||!gO(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}}(n)}},{key:"maxLength",value:function(n){return function(e){return function(t){return gO(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}}(n)}},{key:"pattern",value:function(n){return function(e){return e?("string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),function(r){if(xa(r.value))return null;var i=r.value;return t.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}):Va;var t,n}(n)}},{key:"nullValidator",value:function(n){return null}},{key:"compose",value:function(n){return RO(n)}},{key:"composeAsync",value:function(n){return NO(n)}}]),e}();function _O(e){return xa(e.value)?{required:!0}:null}function Va(e){return null}function IO(e){return null!=e}function TO(e){var t=Jf(e)?Ru(e):e;return Dg(t),t}function DO(e){var t={};return e.forEach(function(n){t=null!=n?Object.assign(Object.assign({},t),n):t}),0===Object.keys(t).length?null:t}function SO(e,t){return t.map(function(n){return n(e)})}function AO(e){return e.map(function(t){return function(e){return!e.validate}(t)?t:function(n){return t.validate(n)}})}function RO(e){if(!e)return null;var t=e.filter(IO);return 0==t.length?null:function(n){return DO(SO(n,t))}}function K0(e){return null!=e?RO(AO(e)):null}function NO(e){if(!e)return null;var t=e.filter(IO);return 0==t.length?null:function(n){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){var r=t[0];if(Nr(r))return vp(r,null);if(Ei(r)&&Object.getPrototypeOf(r)===Object.prototype){var i=Object.keys(r);return vp(i.map(function(s){return r[s]}),i)}}if("function"==typeof t[t.length-1]){var a=t.pop();return vp(t=1===t.length&&Nr(t[0])?t[0]:t,null).pipe(x(function(s){return a.apply(void 0,ye(s))}))}return vp(t,null)}(SO(n,t).map(TO)).pipe(x(DO))}}function Q0(e){return null!=e?NO(AO(e)):null}function MO(e,t){return null===e?[t]:Array.isArray(e)?[].concat(ye(e),[t]):[e,t]}function PO(e){return e._rawValidators}function OO(e){return e._rawAsyncValidators}function Y0(e){return e?Array.isArray(e)?e:[e]:[]}function gp(e,t){return Array.isArray(e)?e.includes(t):e===t}function FO(e,t){var n=Y0(t);return Y0(e).forEach(function(i){gp(n,i)||n.push(i)}),n}function xO(e,t){return Y0(t).filter(function(n){return!gp(e,n)})}var LO=function(){var e=function(){function t(){m(this,t),this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}return g(t,[{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"_setValidators",value:function(r){this._rawValidators=r||[],this._composedValidatorFn=K0(this._rawValidators)}},{key:"_setAsyncValidators",value:function(r){this._rawAsyncValidators=r||[],this._composedAsyncValidatorFn=Q0(this._rawAsyncValidators)}},{key:"validator",get:function(){return this._composedValidatorFn||null}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn||null}},{key:"_registerOnDestroy",value:function(r){this._onDestroyCallbacks.push(r)}},{key:"_invokeOnDestroyCallbacks",value:function(){this._onDestroyCallbacks.forEach(function(r){return r()}),this._onDestroyCallbacks=[]}},{key:"reset",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.control&&this.control.reset(r)}},{key:"hasError",value:function(r,i){return!!this.control&&this.control.hasError(r,i)}},{key:"getError",value:function(r,i){return this.control?this.control.getError(r,i):null}}]),t}();return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=le({type:e}),e}(),Mn=function(){var e=function(t){D(r,t);var n=S(r);function r(){return m(this,r),n.apply(this,arguments)}return g(r,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),r}(LO);return e.\u0275fac=function(){var t;return function(r){return(t||(t=cr(e)))(r||e)}}(),e.\u0275dir=le({type:e,features:[ot]}),e}(),Ua=function(e){D(n,e);var t=S(n);function n(){var r;return m(this,n),(r=t.apply(this,arguments))._parent=null,r.name=null,r.valueAccessor=null,r}return g(n)}(LO),VO=function(){function e(t){m(this,e),this._cd=t}return g(e,[{key:"is",value:function(n){var r,i,a;return"submitted"===n?!!(null===(r=this._cd)||void 0===r?void 0:r.submitted):!!(null===(a=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===a?void 0:a[n])}}]),e}(),J0=function(){var e=function(t){D(r,t);var n=S(r);function r(i){return m(this,r),n.call(this,i)}return g(r)}(VO);return e.\u0275fac=function(n){return new(n||e)(N(Ua,2))},e.\u0275dir=le({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&fa("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[ot]}),e}(),mp=function(){var e=function(t){D(r,t);var n=S(r);function r(i){return m(this,r),n.call(this,i)}return g(r)}(VO);return e.\u0275fac=function(n){return new(n||e)(N(Mn,10))},e.\u0275dir=le({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&fa("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[ot]}),e}();function Gc(e,t){eC(e,t),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&UO(e,t)})}(e,t),function(e,t){var n=function(i,a){t.valueAccessor.writeValue(i),a&&t.viewToModelUpdate(i)};e.registerOnChange(n),t._registerOnDestroy(function(){e._unregisterOnChange(n)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&UO(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){var n=function(i){t.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(n),t._registerOnDestroy(function(){e._unregisterOnDisabledChange(n)})}}(e,t)}function kp(e,t){var r=function(){};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),bp(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(function(){}))}function wp(e,t){e.forEach(function(n){n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function eC(e,t){var n=PO(e);null!==t.validator?e.setValidators(MO(n,t.validator)):"function"==typeof n&&e.setValidators([n]);var r=OO(e);null!==t.asyncValidator?e.setAsyncValidators(MO(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);var i=function(){return e.updateValueAndValidity()};wp(t._rawValidators,i),wp(t._rawAsyncValidators,i)}function bp(e,t){var n=!1;if(null!==e){if(null!==t.validator){var r=PO(e);if(Array.isArray(r)&&r.length>0){var i=r.filter(function(u){return u!==t.validator});i.length!==r.length&&(n=!0,e.setValidators(i))}}if(null!==t.asyncValidator){var a=OO(e);if(Array.isArray(a)&&a.length>0){var s=a.filter(function(u){return u!==t.asyncValidator});s.length!==a.length&&(n=!0,e.setAsyncValidators(s))}}}var o=function(){};return wp(t._rawValidators,o),wp(t._rawAsyncValidators,o),n}function UO(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Cp(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var qc="VALID",Ep="INVALID",yu="PENDING",$c="DISABLED";function rC(e){return(aC(e)?e.validators:e)||null}function HO(e){return Array.isArray(e)?K0(e):e||null}function iC(e,t){return(aC(t)?t.asyncValidators:e)||null}function GO(e){return Array.isArray(e)?Q0(e):e||null}function aC(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var sC=function(){function e(t,n){m(this,e),this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=function(){},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=n,this._composedValidatorFn=HO(this._rawValidators),this._composedAsyncValidatorFn=GO(this._rawAsyncValidators)}return g(e,[{key:"validator",get:function(){return this._composedValidatorFn},set:function(n){this._rawValidators=this._composedValidatorFn=n}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn},set:function(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return this.status===qc}},{key:"invalid",get:function(){return this.status===Ep}},{key:"pending",get:function(){return this.status==yu}},{key:"disabled",get:function(){return this.status===$c}},{key:"enabled",get:function(){return this.status!==$c}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"setValidators",value:function(n){this._rawValidators=n,this._composedValidatorFn=HO(n)}},{key:"setAsyncValidators",value:function(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=GO(n)}},{key:"addValidators",value:function(n){this.setValidators(FO(n,this._rawValidators))}},{key:"addAsyncValidators",value:function(n){this.setAsyncValidators(FO(n,this._rawAsyncValidators))}},{key:"removeValidators",value:function(n){this.setValidators(xO(n,this._rawValidators))}},{key:"removeAsyncValidators",value:function(n){this.setAsyncValidators(xO(n,this._rawAsyncValidators))}},{key:"hasValidator",value:function(n){return gp(this._rawValidators,n)}},{key:"hasAsyncValidator",value:function(n){return gp(this._rawAsyncValidators,n)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild(function(n){return n.markAllAsTouched()})}},{key:"markAsUntouched",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(r){r.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}},{key:"markAsDirty",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}},{key:"markAsPristine",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(r){r.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}},{key:"markAsPending",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status=yu,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}},{key:"disable",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this._parentMarkedDirty(n.onlySelf);this.status=$c,this.errors=null,this._forEachChild(function(i){i.disable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:r})),this._onDisabledChange.forEach(function(i){return i(!0)})}},{key:"enable",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this._parentMarkedDirty(n.onlySelf);this.status=qc,this._forEachChild(function(i){i.enable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:r})),this._onDisabledChange.forEach(function(i){return i(!1)})}},{key:"_updateAncestors",value:function(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(n){this._parent=n}},{key:"updateValueAndValidity",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===qc||this.status===yu)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}},{key:"_updateTreeValidity",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild(function(r){return r._updateTreeValidity(n)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?$c:qc}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(n){var r=this;if(this.asyncValidator){this.status=yu,this._hasOwnPendingAsyncValidator=!0;var i=TO(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(function(a){r._hasOwnPendingAsyncValidator=!1,r.setErrors(a,{emitEvent:n})})}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}},{key:"setErrors",value:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=n,this._updateControlsErrors(!1!==r.emitEvent)}},{key:"get",value:function(n){return function(e,t,n){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;var r=e;return t.forEach(function(i){r=r instanceof ku?r.controls.hasOwnProperty(i)?r.controls[i]:null:r instanceof oC&&r.at(i)||null}),r}(this,n)}},{key:"getError",value:function(n,r){var i=r?this.get(r):this;return i&&i.errors?i.errors[n]:null}},{key:"hasError",value:function(n,r){return!!this.getError(n,r)}},{key:"root",get:function(){for(var n=this;n._parent;)n=n._parent;return n}},{key:"_updateControlsErrors",value:function(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}},{key:"_initObservables",value:function(){this.valueChanges=new on,this.statusChanges=new on}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?$c:this.errors?Ep:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(yu)?yu:this._anyControlsHaveStatus(Ep)?Ep:qc}},{key:"_anyControlsHaveStatus",value:function(n){return this._anyControls(function(r){return r.status===n})}},{key:"_anyControlsDirty",value:function(){return this._anyControls(function(n){return n.dirty})}},{key:"_anyControlsTouched",value:function(){return this._anyControls(function(n){return n.touched})}},{key:"_updatePristine",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}},{key:"_updateTouched",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}},{key:"_isBoxedValue",value:function(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}},{key:"_registerOnCollectionChange",value:function(n){this._onCollectionChange=n}},{key:"_setUpdateStrategy",value:function(n){aC(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}},{key:"_parentMarkedDirty",value:function(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}]),e}(),_u=function(e){D(n,e);var t=S(n);function n(){var r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0;return m(this,n),(r=t.call(this,rC(a),iC(s,a)))._onChange=[],r._applyFormState(i),r._setUpdateStrategy(a),r._initObservables(),r.updateValueAndValidity({onlySelf:!0,emitEvent:!!r.asyncValidator}),r}return g(n,[{key:"setValue",value:function(i){var a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=i,this._onChange.length&&!1!==s.emitModelToViewChange&&this._onChange.forEach(function(o){return o(a.value,!1!==s.emitViewToModelChange)}),this.updateValueAndValidity(s)}},{key:"patchValue",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(i,a)}},{key:"reset",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(i),this.markAsPristine(a),this.markAsUntouched(a),this.setValue(this.value,a),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(i){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(i){this._onChange.push(i)}},{key:"_unregisterOnChange",value:function(i){Cp(this._onChange,i)}},{key:"registerOnDisabledChange",value:function(i){this._onDisabledChange.push(i)}},{key:"_unregisterOnDisabledChange",value:function(i){Cp(this._onDisabledChange,i)}},{key:"_forEachChild",value:function(i){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(i){this._isBoxedValue(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}}]),n}(sC),ku=function(e){D(n,e);var t=S(n);function n(r,i,a){var s;return m(this,n),(s=t.call(this,rC(i),iC(a,i))).controls=r,s._initObservables(),s._setUpdateStrategy(i),s._setUpControls(),s.updateValueAndValidity({onlySelf:!0,emitEvent:!!s.asyncValidator}),s}return g(n,[{key:"registerControl",value:function(i,a){return this.controls[i]?this.controls[i]:(this.controls[i]=a,a.setParent(this),a._registerOnCollectionChange(this._onCollectionChange),a)}},{key:"addControl",value:function(i,a){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.registerControl(i,a),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}},{key:"removeControl",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls[i]&&this.controls[i]._registerOnCollectionChange(function(){}),delete this.controls[i],this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}},{key:"setControl",value:function(i,a){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls[i]&&this.controls[i]._registerOnCollectionChange(function(){}),delete this.controls[i],a&&this.registerControl(i,a),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}},{key:"contains",value:function(i){return this.controls.hasOwnProperty(i)&&this.controls[i].enabled}},{key:"setValue",value:function(i){var a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(i),Object.keys(i).forEach(function(o){a._throwIfControlMissing(o),a.controls[o].setValue(i[o],{onlySelf:!0,emitEvent:s.emitEvent})}),this.updateValueAndValidity(s)}},{key:"patchValue",value:function(i){var a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=i&&(Object.keys(i).forEach(function(o){a.controls[o]&&a.controls[o].patchValue(i[o],{onlySelf:!0,emitEvent:s.emitEvent})}),this.updateValueAndValidity(s))}},{key:"reset",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(s,o){s.reset(i[o],{onlySelf:!0,emitEvent:a.emitEvent})}),this._updatePristine(a),this._updateTouched(a),this.updateValueAndValidity(a)}},{key:"getRawValue",value:function(){return this._reduceChildren({},function(i,a,s){return i[s]=a instanceof _u?a.value:a.getRawValue(),i})}},{key:"_syncPendingControls",value:function(){var i=this._reduceChildren(!1,function(a,s){return!!s._syncPendingControls()||a});return i&&this.updateValueAndValidity({onlySelf:!0}),i}},{key:"_throwIfControlMissing",value:function(i){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[i])throw new Error("Cannot find form control with name: ".concat(i,"."))}},{key:"_forEachChild",value:function(i){var a=this;Object.keys(this.controls).forEach(function(s){var o=a.controls[s];o&&i(o,s)})}},{key:"_setUpControls",value:function(){var i=this;this._forEachChild(function(a){a.setParent(i),a._registerOnCollectionChange(i._onCollectionChange)})}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(i){for(var a=0,s=Object.keys(this.controls);a<s.length;a++){var o=s[a],u=this.controls[o];if(this.contains(o)&&i(u))return!0}return!1}},{key:"_reduceValue",value:function(){var i=this;return this._reduceChildren({},function(a,s,o){return(s.enabled||i.disabled)&&(a[o]=s.value),a})}},{key:"_reduceChildren",value:function(i,a){var s=i;return this._forEachChild(function(o,u){s=a(s,o,u)}),s}},{key:"_allControlsDisabled",value:function(){for(var i=0,a=Object.keys(this.controls);i<a.length;i++)if(this.controls[a[i]].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(i){this._forEachChild(function(a,s){if(void 0===i[s])throw new Error("Must supply a value for form control with name: '".concat(s,"'."))})}}]),n}(sC),oC=function(e){D(n,e);var t=S(n);function n(r,i,a){var s;return m(this,n),(s=t.call(this,rC(i),iC(a,i))).controls=r,s._initObservables(),s._setUpdateStrategy(i),s._setUpControls(),s.updateValueAndValidity({onlySelf:!0,emitEvent:!!s.asyncValidator}),s}return g(n,[{key:"at",value:function(i){return this.controls[i]}},{key:"push",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls.push(i),this._registerControl(i),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}},{key:"insert",value:function(i,a){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls.splice(i,0,a),this._registerControl(a),this.updateValueAndValidity({emitEvent:s.emitEvent})}},{key:"removeAt",value:function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls[i]&&this.controls[i]._registerOnCollectionChange(function(){}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:a.emitEvent})}},{key:"setControl",value:function(i,a){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls[i]&&this.controls[i]._registerOnCollectionChange(function(){}),this.controls.splice(i,1),a&&(this.controls.splice(i,0,a),this._registerControl(a)),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}},{key:"length",get:function(){return this.controls.length}},{key:"setValue",value:function(i){var a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(i),i.forEach(function(o,u){a._throwIfControlMissing(u),a.at(u).setValue(o,{onlySelf:!0,emitEvent:s.emitEvent})}),this.updateValueAndValidity(s)}},{key:"patchValue",value:function(i){var a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=i&&(i.forEach(function(o,u){a.at(u)&&a.at(u).patchValue(o,{onlySelf:!0,emitEvent:s.emitEvent})}),this.updateValueAndValidity(s))}},{key:"reset",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(s,o){s.reset(i[o],{onlySelf:!0,emitEvent:a.emitEvent})}),this._updatePristine(a),this._updateTouched(a),this.updateValueAndValidity(a)}},{key:"getRawValue",value:function(){return this.controls.map(function(i){return i instanceof _u?i.value:i.getRawValue()})}},{key:"clear",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.controls.length<1||(this._forEachChild(function(a){return a._registerOnCollectionChange(function(){})}),this.controls.splice(0),this.updateValueAndValidity({emitEvent:i.emitEvent}))}},{key:"_syncPendingControls",value:function(){var i=this.controls.reduce(function(a,s){return!!s._syncPendingControls()||a},!1);return i&&this.updateValueAndValidity({onlySelf:!0}),i}},{key:"_throwIfControlMissing",value:function(i){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(i))throw new Error("Cannot find form control at index ".concat(i))}},{key:"_forEachChild",value:function(i){this.controls.forEach(function(a,s){i(a,s)})}},{key:"_updateValue",value:function(){var i=this;this.value=this.controls.filter(function(a){return a.enabled||i.disabled}).map(function(a){return a.value})}},{key:"_anyControls",value:function(i){return this.controls.some(function(a){return a.enabled&&i(a)})}},{key:"_setUpControls",value:function(){var i=this;this._forEachChild(function(a){return i._registerControl(a)})}},{key:"_checkAllValuesPresent",value:function(i){this._forEachChild(function(a,s){if(void 0===i[s])throw new Error("Must supply a value for form control at index: ".concat(s,"."))})}},{key:"_allControlsDisabled",value:function(){var a,i=W(this.controls);try{for(i.s();!(a=i.n()).done;)if(a.value.enabled)return!1}catch(o){i.e(o)}finally{i.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(i){i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)}}]),n}(sC),Ip=function(){var e=g(function t(){m(this,t)});return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=le({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e}(),QO=function(){var e=g(function t(){m(this,t)});return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Si({type:e}),e.\u0275inj=Mr({}),e}(),lC=new Me("NgModelWithFormControlWarning"),Vee={provide:Mn,useExisting:et(function(){return wu})},wu=function(){var e=function(t){D(r,t);var n=S(r);function r(i,a){var s;return m(this,r),(s=n.call(this)).validators=i,s.asyncValidators=a,s.submitted=!1,s._onCollectionChange=function(){return s._updateDomValue()},s.directives=[],s.form=null,s.ngSubmit=new on,s._setValidators(i),s._setAsyncValidators(a),s}return g(r,[{key:"ngOnChanges",value:function(a){this._checkFormPresent(),a.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}},{key:"ngOnDestroy",value:function(){this.form&&(bp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(function(){}))}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"addControl",value:function(a){var s=this.form.get(a.path);return Gc(s,a),s.updateValueAndValidity({emitEvent:!1}),this.directives.push(a),s}},{key:"getControl",value:function(a){return this.form.get(a.path)}},{key:"removeControl",value:function(a){kp(a.control||null,a),Cp(this.directives,a)}},{key:"addFormGroup",value:function(a){this._setUpFormContainer(a)}},{key:"removeFormGroup",value:function(a){this._cleanUpFormContainer(a)}},{key:"getFormGroup",value:function(a){return this.form.get(a.path)}},{key:"addFormArray",value:function(a){this._setUpFormContainer(a)}},{key:"removeFormArray",value:function(a){this._cleanUpFormContainer(a)}},{key:"getFormArray",value:function(a){return this.form.get(a.path)}},{key:"updateModel",value:function(a,s){this.form.get(a.path).setValue(s)}},{key:"onSubmit",value:function(a){return this.submitted=!0,function(e,t){e._syncPendingControls(),t.forEach(function(n){var r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(a),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.form.reset(a),this.submitted=!1}},{key:"_updateDomValue",value:function(){var a=this;this.directives.forEach(function(s){var o=s.control,u=a.form.get(s.path);o!==u&&(kp(o||null,s),u instanceof _u&&(Gc(u,s),s.control=u))}),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_setUpFormContainer",value:function(a){var s=this.form.get(a.path);(function(e,t){eC(e,t)})(s,a),s.updateValueAndValidity({emitEvent:!1})}},{key:"_cleanUpFormContainer",value:function(a){if(this.form){var s=this.form.get(a.path);s&&function(e,t){return bp(e,t)}(s,a)&&s.updateValueAndValidity({emitEvent:!1})}}},{key:"_updateRegistrations",value:function(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(function(){})}},{key:"_updateValidators",value:function(){eC(this.form,this),this._oldForm&&bp(this._oldForm,this)}},{key:"_checkFormPresent",value:function(){}}]),r}(Mn);return e.\u0275fac=function(n){return new(n||e)(N(hn,10),N(La,10))},e.\u0275dir=le({type:e,selectors:[["","formGroup",""]],hostBindings:function(n,r){1&n&&Se("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ft([Vee]),ot,qn]}),e}(),jee={provide:Ua,useExisting:et(function(){return Tp})},Tp=function(){var e=function(t){D(r,t);var n=S(r);function r(i,a,s,o,u){var l;return m(this,r),(l=n.call(this))._ngModelWarningConfig=u,l._added=!1,l.update=new on,l._ngModelWarningSent=!1,l._parent=i,l._setValidators(a),l._setAsyncValidators(s),l.valueAccessor=function(e,t){if(!t)return null;Array.isArray(t);var n=void 0,r=void 0,i=void 0;return t.forEach(function(a){a.constructor===Hc?n=a:function(e){return Object.getPrototypeOf(e.constructor)===Fs}(a)?r=a:i=a}),i||r||n||null}(lt(l),o),l}return g(r,[{key:"isDisabled",set:function(a){}},{key:"ngOnChanges",value:function(a){this._added||this._setUpControl(),function(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(a,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(a){this.viewModel=a,this.update.emit(a)}},{key:"path",get:function(){return function(e,t){return[].concat(ye(t.path),[e])}(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"_checkParentType",value:function(){}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}]),r}(Ua);return e.\u0275fac=function(n){return new(n||e)(N(Mn,13),N(hn,10),N(La,10),N(_i,10),N(lC,8))},e.\u0275dir=le({type:e,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[ft([jee]),ot,qn]}),e._ngModelWarningSentOnce=!1,e}(),Yee={provide:hn,useExisting:et(function(){return Dp}),multi:!0},Dp=function(){var e=function(){function t(){m(this,t),this._required=!1}return g(t,[{key:"required",get:function(){return this._required},set:function(r){this._required=null!=r&&!1!==r&&"false"!=="".concat(r),this._onChange&&this._onChange()}},{key:"validate",value:function(r){return this.required?_O(r):null}},{key:"registerOnValidatorChange",value:function(r){this._onChange=r}}]),t}();return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=le({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,r){2&n&&Pi("required",r.required?"":null)},inputs:{required:"required"},features:[ft([Yee])]}),e}(),fF=function(){var e=g(function t(){m(this,t)});return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Si({type:e}),e.\u0275inj=Mr({imports:[[QO]]}),e}(),hF=function(){var e=function(){function t(){m(this,t)}return g(t,null,[{key:"withConfig",value:function(r){return{ngModule:t,providers:[{provide:lC,useValue:r.warnOnNgModelWithFormControl}]}}}]),t}();return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Si({type:e}),e.\u0275inj=Mr({imports:[fF]}),e}();function nte(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}var dF=function(){var e=function(){function t(){m(this,t)}return g(t,[{key:"group",value:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=this._reduceControls(r),s=null,o=null,u=void 0;return null!=i&&(nte(i)?(s=null!=i.validators?i.validators:null,o=null!=i.asyncValidators?i.asyncValidators:null,u=null!=i.updateOn?i.updateOn:void 0):(s=null!=i.validator?i.validator:null,o=null!=i.asyncValidator?i.asyncValidator:null)),new ku(a,{asyncValidators:o,updateOn:u,validators:s})}},{key:"control",value:function(r,i,a){return new _u(r,i,a)}},{key:"array",value:function(r,i,a){var s=this,o=r.map(function(u){return s._createControl(u)});return new oC(o,i,a)}},{key:"_reduceControls",value:function(r){var i=this,a={};return Object.keys(r).forEach(function(s){a[s]=i._createControl(r[s])}),a}},{key:"_createControl",value:function(r){return r instanceof _u||r instanceof ku||r instanceof oC?r:Array.isArray(r)?this.control(r[0],r.length>1?r[1]:null,r.length>2?r[2]:null):this.control(r)}}]),t}();return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Re({factory:function(){return new e},token:e,providedIn:hF}),e}();function pF(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}function pC(e){if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&isFinite(e)||!0===e||!1===e||"[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(function(t){return pC(t)});if("function"==typeof e||"object"==typeof e)return pF(e,function(t){return pC(t)});throw new Error("Data cannot be encoded in JSON: "+e)}function Sp(e){if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(function(n){return Sp(n)}):"function"==typeof e||"object"==typeof e?pF(e,function(n){return Sp(n)}):e}var vC="functions",vF={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},bu=function(e){D(n,e);var t=S(n);function n(r,i,a){var s;return m(this,n),(s=t.call(this,"".concat(vC,"/").concat(r),i||"")).details=a,s}return g(n)}(ma);function ste(e,t){var n=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),r=n,i=void 0;try{var a=t&&t.error;if(a){var s=a.status;if("string"==typeof s){if(!vF[s])return new bu("internal","internal");n=vF[s],r=s}var o=a.message;"string"==typeof o&&(r=o),void 0!==(i=a.details)&&(i=Sp(i))}}catch(u){}return"ok"===n?null:new bu(n,r,i)}var ote=function(){function e(t,n,r){var i=this;m(this,e),this.auth=null,this.messaging=null,this.appCheck=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(function(a){return i.auth=a},function(){}),this.messaging||n.get().then(function(a){return i.messaging=a},function(){}),this.appCheck||r.get().then(function(a){return i.appCheck=a},function(){})}return g(e,[{key:"getAuthToken",value:(t=b(_().mark(function r(){var i;return _().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(this.auth){s.next=2;break}return s.abrupt("return",void 0);case 2:return s.prev=2,s.next=5,this.auth.getToken();case 5:return s.abrupt("return",null==(i=s.sent)?void 0:i.accessToken);case 9:return s.prev=9,s.t0=s.catch(2),s.abrupt("return",void 0);case 12:case"end":return s.stop()}},r,this,[[2,9]])})),function(){return t.apply(this,arguments)})},{key:"getMessagingToken",value:function(){var t=b(_().mark(function r(){return _().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(this.messaging&&"Notification"in self&&"granted"===Notification.permission){a.next=2;break}return a.abrupt("return",void 0);case 2:return a.prev=2,a.next=5,this.messaging.getToken();case 5:return a.abrupt("return",a.sent);case 8:return a.prev=8,a.t0=a.catch(2),a.abrupt("return",void 0);case 11:case"end":return a.stop()}},r,this,[[2,8]])}));return function(){return t.apply(this,arguments)}}()},{key:"getAppCheckToken",value:function(){var t=b(_().mark(function r(){var i;return _().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!this.appCheck){s.next=7;break}return s.next=3,this.appCheck.getToken();case 3:if(!(i=s.sent).error){s.next=6;break}return s.abrupt("return",null);case 6:return s.abrupt("return",i.token);case 7:return s.abrupt("return",null);case 8:case"end":return s.stop()}},r,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getContext",value:function(){var t=b(_().mark(function r(){var i,a;return _().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.getAuthToken();case 2:return i=u.sent,u.next=5,this.getMessagingToken();case 5:return a=u.sent,u.next=8,this.getAppCheckToken();case 8:return u.abrupt("return",{authToken:i,messagingToken:a,appCheckToken:u.sent});case 10:case"end":return u.stop()}},r,this)}));return function(){return t.apply(this,arguments)}}()}]),e;var t}(),gC="us-central1";function ute(e){var t=null;return{promise:new Promise(function(n,r){t=setTimeout(function(){r(new bu("deadline-exceeded","deadline-exceeded"))},e)}),cancel:function(){t&&clearTimeout(t)}}}var lte=function(){function e(t,n,r,i){var a=this,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:gC,o=arguments.length>5?arguments[5]:void 0;m(this,e),this.app=t,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new ote(n,r,i),this.cancelAllRequests=new Promise(function(l){a.deleteService=function(){return Promise.resolve(l())}});try{var u=new URL(s);this.customDomain=u.origin,this.region=gC}catch(l){this.customDomain=null,this.region=s}}return g(e,[{key:"_delete",value:function(){return this.deleteService()}},{key:"_url",value:function(n){var r=this.app.options.projectId;return null!==this.emulatorOrigin?"".concat(this.emulatorOrigin,"/").concat(r,"/").concat(this.region,"/").concat(n):null!==this.customDomain?"".concat(this.customDomain,"/").concat(n):"https://".concat(this.region,"-").concat(r,".cloudfunctions.net/").concat(n)}}]),e}();function hte(e,t,n,r){return mC.apply(this,arguments)}function mC(){return(mC=b(_().mark(function e(t,n,r,i){var a,s;return _().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return r["Content-Type"]="application/json",u.prev=1,u.next=4,i(t,{method:"POST",body:JSON.stringify(n),headers:r});case 4:a=u.sent,u.next=10;break;case 7:return u.prev=7,u.t0=u.catch(1),u.abrupt("return",{status:0,json:null});case 10:return s=null,u.prev=11,u.next=14,a.json();case 14:s=u.sent,u.next=19;break;case 17:u.prev=17,u.t1=u.catch(11);case 19:return u.abrupt("return",{status:a.status,json:s});case 20:case"end":return u.stop()}},e,null,[[1,7],[11,17]])}))).apply(this,arguments)}function yC(){return(yC=b(_().mark(function e(t,n,r,i){var a,s,o,u,c,f,h,d,p;return _().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return a=t._url(n),r=pC(r),s={data:r},o={},y.next=6,t.contextProvider.getContext();case 6:return(u=y.sent).authToken&&(o.Authorization="Bearer "+u.authToken),u.messagingToken&&(o["Firebase-Instance-ID-Token"]=u.messagingToken),null!==u.appCheckToken&&(o["X-Firebase-AppCheck"]=u.appCheckToken),c=ute(i.timeout||7e4),y.next=14,Promise.race([hte(a,s,o,t.fetchImpl),c.promise,t.cancelAllRequests]);case 14:if(f=y.sent,c.cancel(),f){y.next=18;break}throw new bu("cancelled","Firebase Functions instance was deleted.");case 18:if(!(h=ste(f.status,f.json))){y.next=21;break}throw h;case 21:if(f.json){y.next=23;break}throw new bu("internal","Response is not valid JSON object.");case 23:if(void 0===(d=f.json.data)&&(d=f.json.result),void 0!==d){y.next=27;break}throw new bu("internal","Response is missing data field.");case 27:return p=Sp(d),y.abrupt("return",{data:p});case 29:case"end":return y.stop()}},e)}))).apply(this,arguments)}var gF="@firebase/functions";function kte(e,t,n){var r=function(e,t,n){return function(e,t,n){return function(r){return function(e,t,n,r){return yC.apply(this,arguments)}(e,t,r,n||{})}}(Ot(e),t,n)}(e,t,n);return function(i){return Ru(r(i)).pipe(x(function(a){return a.data}))}}!function(e,t){Jn(new xn(vC,function(i,a){var s=a.instanceIdentifier,o=i.getProvider("app").getImmediate(),u=i.getProvider("auth-internal"),l=i.getProvider("messaging-internal"),c=i.getProvider("app-check-internal");return new lte(o,u,l,c,s,e)},"PUBLIC").setMultipleInstances(!0)),Tn(gF,"0.7.10",void 0),Tn(gF,"0.7.10","esm2017")}(fetch.bind(self));var wte=Xe(6568),yF=Xe.n(wte),zc=function(){function e(t,n){this.app=t,this.auth=n,this.functions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kl(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gC;return Yr(Ot(e),vC).getImmediate({identifier:t})}(),this.product=new Wa}return e.prototype.selectProduct=function(t){this.product.next(jc[t]),this.app.tick()},e.prototype.calcTotal=function(t,n){return n&&n.percent_off&&(t-=t*(n.percent_off/100)),n&&n.amount_off&&(t-=n.amount_off),t},e.prototype.allowAuthenticated=function(){return this.auth.user$.pipe(x(function(t){return!!t}))},e.prototype.allowPro=function(t){return this.auth.userDoc$.pipe(x(function(n){var r=yF()(n,"is_pro"),i=yF()(n,"products."+t);return!(!r&&!i)}))},e.prototype.getCoupon=function(t){return Le(this,void 0,void 0,function(){return Ve(this,function(n){return[2,this.callFunction("stripeGetCoupon",{couponId:t})]})})},e.prototype.userInvoices=function(){return Le(this,void 0,void 0,function(){return Ve(this,function(t){return[2,this.callFunction("stripeGetInvoices",{})]})})},e.prototype.getCustomer=function(){return Le(this,void 0,void 0,function(){return Ve(this,function(t){return[2,this.callFunction("stripeGetCustomer",{})]})})},e.prototype.getSubscriptions=function(){return Le(this,void 0,void 0,function(){return Ve(this,function(t){return[2,this.callFunction("stripeGetSubscriptions",{})]})})},e.prototype.setSource=function(t){return Le(this,void 0,void 0,function(){return Ve(this,function(n){return[2,this.callFunction("stripeSetSource",{source:t})]})})},e.prototype.createSubscription=function(t,n,r){return Le(this,void 0,void 0,function(){return Ve(this,function(i){return[2,this.callFunction("stripeCreeteSubscription",{source:t,planId:n,couponId:r})]})})},e.prototype.createOrder=function(t,n,r){return Le(this,void 0,void 0,function(){return Ve(this,function(i){return[2,this.callFunction("stripeCreateOrder",{source:t,sku:n,amount:r})]})})},e.prototype.cancelSubscription=function(t,n){return Le(this,void 0,void 0,function(){return Ve(this,function(r){return[2,this.callFunction("stripeCancelSubscription",{source:t,planId:n})]})})},e.prototype.paypalHandler=function(t){return Le(this,void 0,void 0,function(){return Ve(this,function(n){return[2,this.callFunction("paypalHandler",{order:t})]})})},e.prototype.coinbaseHandler=function(t){return Le(this,void 0,void 0,function(){return Ve(this,function(n){return[2,this.callFunction("coinbaseCreateCharge",{product:t})]})})},e.prototype.callFunction=function(t,n){return Le(this,void 0,void 0,function(){var r,i,a;return Ve(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,kte(this.functions,t)(n).toPromise()];case 1:return r=s.sent(),[3,3];case 2:return a=s.sent(),console.log(a),i=a,[3,3];case 3:return[2,{res:r,serverError:i}]}})})},e.\u0275prov=Re({token:e,factory:e.\u0275fac=function(n){return new(n||e)(me(vi),me(Yi))},providedIn:"root"}),e}(),_F=function(){function e(){}return e.prototype.transform=function(t,n){return t?(t/100).toFixed(2):0},e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=gn({name:"usd",type:e,pure:!0}),e}(),bte=["cardElement"],Cte=["paypalElement"];function Ete(e,t){if(1&e&&(E(0,"div",24),E(1,"allow-if",19),E(2,"p",25),F(3,"Warning! You are already a PRO member - no need to subscribe to another plan unless you have a good reason :)"),I(),I(),E(4,"p"),F(5,"You are purchasing "),E(6,"strong",26),F(7),I(),I(),I()),2&e){var n=ne();O(7),Qn(null==n.product?null:n.product.description)}}function Ite(e,t){if(1&e&&(E(0,"div",27),ge(1,"loading-spinner"),F(2),I()),2&e){var n=ne();O(2),Qt(" ",n.loadingState," ")}}function Tte(e,t){if(1&e&&(E(0,"div"),E(1,"p"),F(2,"You are replacing the default payment source on your account. You will not be charged until you have a payable invoice."),I(),E(3,"button",30),F(4," Add Source "),I(),I()),2&e){var n=ne(2);O(3),B("disabled",(null==n.formState?null:n.formState.error)||!(null!=n.formState&&n.formState.complete))}}function Dte(e,t){if(1&e&&(E(0,"p",26),F(1),I()),2&e){var n=ne(4);O(1),Qn(null==n.couponResult?null:n.couponResult.name)}}function Ste(e,t){1&e&&(E(0,"p",25),F(1,"Unable to apply coupon"),I())}function Ate(e,t){1&e&&ge(0,"loading-spinner")}function Rte(e,t){if(1&e){var n=Kt();E(0,"div",33),q(1,Dte,2,1,"p",34),q(2,Ste,2,0,"p",35),ge(3,"input",36,37),E(5,"button",38),Se("click",function(a){zt(n);var s=Co(4);return ne(3).applyCoupon(a,s.value)}),F(6,"Apply"),I(),q(7,Ate,1,0,"loading-spinner",29),I()}if(2&e){var r=ne(3);O(1),B("ngIf",r.couponResult),O(1),B("ngIf",r.couponError),O(3),B("disabled",r.couponLoading),O(2),B("ngIf",r.couponLoading)}}function Nte(e,t){1&e&&(E(0,"i"),F(1," \ud83d\udc49"),I())}function Mte(e,t){if(1&e&&(E(0,"div"),q(1,Rte,8,4,"div",31),E(2,"button",32),F(3),ha(4,"usd"),q(5,Nte,2,0,"i",29),I(),I()),2&e){var n=ne(2);O(1),B("ngIf",n.allowCoupons),O(1),B("disabled",(null==n.formState?null:n.formState.error)||!(null!=n.formState&&n.formState.complete)),O(1),Qt(" Pay $",da(4,4,n.total)," "),O(2),B("ngIf",null==n.formState?null:n.formState.complete)}}function Pte(e,t){if(1&e&&(E(0,"div",28),q(1,Tte,5,1,"div",29),q(2,Mte,6,6,"div",29),I()),2&e){var n=ne();O(1),B("ngIf","source"===n.action),O(1),B("ngIf","source"!==n.action&&n.product)}}function Ote(e,t){if(1&e){var n=Kt();E(0,"button",39),Se("click",function(){return zt(n),ne().createCryptoCharge()}),F(1," \u20bf Pay with Crypto "),I()}}function Fte(e,t){if(1&e&&(E(0,"p",40),F(1,"Complete your crypto payment "),E(2,"a",41),F(3,"here"),I(),I()),2&e){var n=ne();O(2),B("href",null==n.cryptoCharge?null:n.cryptoCharge.hosted_url,ua)}}function xte(e,t){1&e&&(E(0,"p",42),F(1,"*You will have instant access to the content after the payment is sent"),I())}function Lte(e,t){if(1&e&&(E(0,"div",20),E(1,"a",43),F(2,"Verify your Card Now"),I(),E(3,"p",44),F(4,"Almost done! You must authorize the charge due to 3D Secure standards in Europe. "),E(5,"a",45),F(6,"Learn more"),I(),I(),I()),2&e){var n=ne();O(1),B("href",n.incomplete,ua)}}var kF=function(){function e(t,n,r){var i=this;this.cd=t,this.pmt=n,this.ns=r,this.action="purchase",this.analytics=iw(),this.pmt.product.pipe(Os(function(a){i.setState("product",a),i.paypalInit()})).subscribe(),this.fg=new ku({})}return e.prototype.ngAfterViewInit=function(){this.setup()},e.prototype.setup=function(){this.stripe=Stripe("pk_live_qSaGVmF1x4X3vIWZmpbgceNU"),this.elements=this.stripe.elements({fonts:[{cssSrc:"https://use.typekit.net/rcr1opg.css"}]}),this.card=this.elements.create("card",{style:lee,iconStyle:"solid"}),this.card.mount(this.cardElement.nativeElement),this.listenToFormState()},e.prototype.paypalInit=function(){var t=this;this.paypalElement.nativeElement.innerHTML="","order"===this.productType&&paypal.Buttons({createOrder:function(r,i){return t.total<12e3&&"proLifetime"===t.product.id?t.setState("serverError","Coupon exceeds max discount on Lifetime access, try a different coupon "):i.order.create({purchase_units:[{description:t.product.description,reference_id:t.product.sku,amount:{currency_code:"USD",value:t.paypalTotal}}]})},onApprove:function(r,i){return Le(t,void 0,void 0,function(){var a,s,u;return Ve(this,function(l){switch(l.label){case 0:return this.setState("loadingState","processing payment..."),[4,i.order.capture()];case 1:return a=l.sent(),this.setState("loadingState","success, setting up PRO access..."),[4,this.pmt.paypalHandler(a)];case 2:return s=l.sent(),(u=s.serverError)?(this.setState("serverError",u.message),this.setState("loadingState",null)):this.onSuccess(),[2]}})})},onError:function(r){console.error(r),t.setState("serverError","Unable to process PayPal payment")}}).render(this.paypalElement.nativeElement),this.cd.detectChanges()},e.prototype.listenToFormState=function(){var t=this;this.card.addEventListener("change",function(n){t.setState("formState",n)})},e.prototype.handleForm=function(t){return Le(this,void 0,void 0,function(){var n,r,i,a,s,o,u;return Ve(this,function(c){switch(c.label){case 0:return t.preventDefault(),this.setState("serverError",null),this.setState("loadingState","validating card..."),[4,this.stripe.createSource(this.card)];case 1:return n=c.sent(),r=n.source,(i=n.error)&&(this.setState("loadingState",null),this.setState("serverError","Unsuccessful "+i)),this.setState("loadingState","processing..."),[4,this.sourceHandler(r)];case 2:return a=c.sent(),s=a.res,(o=a.serverError)?(this.setState("serverError",o.message),this.setState("loadingState",null)):(console.log(s),u="invoice"===s.object,"incomplete"===s.status||u&&!s.paid?this.onIncomplete((u?s:s.latest_invoice).hosted_invoice_url):this.onSuccess()),[2]}})})},e.prototype.sourceHandler=function(t){return Le(this,void 0,void 0,function(){var n;return Ve(this,function(r){switch(n=this.couponResult&&this.couponResult.id,this.action){case"purchase":if("subscribe"===this.productType)return[2,this.pmt.createSubscription(t,this.product.planId,n)];if("order"===this.productType)return[2,this.pmt.createOrder(t,this.product.sku,this.total)];break;case"source":return[2,this.pmt.setSource(t)]}return[2]})})},e.prototype.onIncomplete=function(t){this.resetForm(),this.pmt.product.next(null),this.setState("incomplete",t),this.ns.setNotification({title:"Confirmation Required!",className:"box-orange",text:"Your payment card must be confirmed via 3D Secure. View the invoice and finish the payment at the following link: "+t+" ",countdown:300}),Ho(this.analytics,"pro_upgrade",{value:this.action,product:this.product&&this.product.id,status:"incomplete"})},e.prototype.onSuccess=function(){this.resetForm(),this.ns.setNotification({title:"Success!",text:"Thank you :)"}),Ho(this.analytics,"pro_upgrade",{value:this.action,product:this.product&&this.product.id})},e.prototype.resetForm=function(){this.card.clear(),this.pmt.product.next(null),this.setState("loadingState",null)},Object.defineProperty(e.prototype,"total",{get:function(){return this.pmt.calcTotal(this.product.price,this.couponResult)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"paypalTotal",{get:function(){return(this.total/100).toFixed(2)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"productType",{get:function(){return this.product&&this.product.type},enumerable:!1,configurable:!0}),e.prototype.applyCoupon=function(t,n){return Le(this,void 0,void 0,function(){var r,i;return Ve(this,function(s){switch(s.label){case 0:return t.preventDefault(),this.couponResult=null,this.couponError=null,this.serverError=null,this.couponLoading=!0,this.cd.detectChanges(),[4,this.pmt.getCoupon(n)];case 1:return r=s.sent(),(i=r.res)&&i.valid?this.couponResult=i:this.couponError=!0,this.couponLoading=!1,this.cd.detectChanges(),[2]}})})},e.prototype.createCryptoCharge=function(){return Le(this,void 0,void 0,function(){var t;return Ve(this,function(n){switch(n.label){case 0:return console.log(this.product),[4,this.pmt.coinbaseHandler(this.product)];case 1:return t=n.sent().res,this.setState("cryptoCharge",t),console.log(this.cryptoCharge),[2]}})})},e.prototype.domContentLoaded=function(){this.stripe||this.setup()},e.prototype.setState=function(t,n){this[t]=n},e.\u0275fac=function(n){return new(n||e)(N(On),N(zc),N(G0))},e.\u0275cmp=gt({type:e,selectors:[["ng-component"]],viewQuery:function(n,r){if(1&n&&(nm(bte,5),nm(Cte,5)),2&n){var i=void 0;tm(i=rm())&&(r.cardElement=i.first),tm(i=rm())&&(r.paypalElement=i.first)}},hostBindings:function(n,r){1&n&&Se("DOMContentLoaded",function(){return r.domContentLoaded()},!1,Vv)},inputs:{action:"action",allowCoupons:"allowCoupons"},decls:31,vars:11,consts:[["id","paymentWrapper",1,"payment-wrapper",3,"hidden"],["class","payment-header",4,"ngIf"],["id","payment-form",1,"form-stripe",3,"formGroup","ngSubmit"],[1,"form-row"],["for","card-element"],["id","card-element",1,"card-stripe"],["cardElement",""],["id","card-errors","role","alert",1,"errors-stripe","red"],["class","payment-loading",4,"ngIf","ngIfElse"],["pmtBtn",""],[1,"payment-terms"],["type","button","onclick","window.open('https://fireship.io/terms#memberships','_blank')",1,"btn","btn-contrast","btn-sm"],["src","/img/brands/stripe.svg",1,"stripe-badge"],[1,"paypal"],["paypalElement",""],[1,"crypto-charge"],["class","btn btn-contrast",3,"click",4,"ngIf"],["class","text-center",4,"ngIf"],["class","text-sm text-center",4,"ngIf"],["level","pro"],[1,"well"],["href","/dashboard",1,"btn","btn-sm","btn-green"],["slot","paywall"],["class","well",4,"ngIf"],[1,"payment-header"],[1,"red"],[1,"green"],[1,"payment-loading"],[1,"pricing-product"],[4,"ngIf"],[1,"btn","btn-blue","btn-stripe",3,"disabled"],["class","coupon-form",4,"ngIf"],[1,"btn","btn-lg","btn-blue","btn-stripe",3,"disabled"],[1,"coupon-form"],["class","green",4,"ngIf"],["class","red",4,"ngIf"],["placeholder","coupon code","maxlength","20","type","text",1,"input",2,"display","inline","margin-right","10px","max-width","256px"],["coupon",""],["type","button",1,"btn","btn-contrast","btn-sm",3,"disabled","click"],[1,"btn","btn-contrast",3,"click"],[1,"text-center"],[1,"btn","btn-sm","btn-orange",3,"href"],[1,"text-sm","text-center"],["target","blank",1,"btn","btn-orange","text-center","btn-lg",3,"href"],[1,"text-sm"],["href","https://stripe.com/guides/3d-secure-2"]],template:function(n,r){if(1&n&&(E(0,"div",0),q(1,Ete,8,1,"div",1),E(2,"form",2),Se("ngSubmit",function(s){return r.handleForm(s)}),E(3,"div",3),E(4,"label",4),F(5," Credit or debit card "),I(),ge(6,"div",5,6),E(8,"div",7),F(9),I(),I(),q(10,Ite,3,1,"div",8),q(11,Pte,3,2,"ng-template",null,9,Tl),I(),E(13,"div",10),E(14,"button",11),F(15,"terms"),I(),ge(16,"img",12),I(),ge(17,"div",13,14),E(19,"div",15),q(20,Ote,2,0,"button",16),q(21,Fte,4,1,"p",17),q(22,xte,2,0,"p",18),I(),I(),E(23,"allow-if",19),E(24,"div",20),F(25," Hey, thank you for being a PRO Member! You have full access to premium content on Fireship \ud83d\ude04 "),ge(26,"hr"),E(27,"a",21),F(28,"Dashboard"),I(),I(),ge(29,"span",22),I(),q(30,Lte,7,1,"div",23)),2&n){var i=Co(12);B("hidden",!r.product&&"source"!==r.action),O(1),B("ngIf",r.product),O(1),B("formGroup",r.fg),O(7),Zf(" ",null==r.formState||null==r.formState.error?null:r.formState.error.message," ",r.serverError," "),O(1),B("ngIf",r.loadingState)("ngIfElse",i),O(10),B("ngIf",null==r.product?null:r.product.crypto),O(1),B("ngIf",r.cryptoCharge),O(1),B("ngIf",r.cryptoCharge),O(8),B("ngIf",r.incomplete)}},directives:[In,Ip,mp,wu],pipes:[_F],encapsulation:2}),Qr([Xr(),xe("design:type",Function),xe("design:paramtypes",[Object,Object]),xe("design:returntype",void 0)],e.prototype,"setState",null),e}(),wF=function(){function e(t){var n=this;this.pmt=t,this.text="Choose Plan",this.className="btn btn-green pricing-button",this.pmt.product.pipe(Os(function(r){n.activeProduct=r,document.getElementById("paymentWrapper").scrollIntoView({behavior:"smooth"})})).subscribe()}return Object.defineProperty(e.prototype,"isSelected",{get:function(){return this.activeProduct&&this.activeProduct.id===this.productId},enumerable:!1,configurable:!0}),e.\u0275fac=function(n){return new(n||e)(N(zc))},e.\u0275cmp=gt({type:e,selectors:[["ng-component"]],inputs:{productId:"productId",text:"text",className:"className"},decls:2,vars:5,consts:[[3,"click"]],template:function(n,r){1&n&&(E(0,"button",0),Se("click",function(){return r.pmt.selectProduct(r.productId)}),F(1),I()),2&n&&(fT(r.className),fa("selected",r.isSelected),O(1),Qt(" ",r.text,"\n"))},encapsulation:2}),e}();function Vte(e,t){if(1&e&&(E(0,"p"),E(1,"span",4),F(2),ha(3,"usd"),I(),I()),2&e){var n=ne().$implicit;O(2),Qt("Paid $",da(3,1,n.amount_paid),"")}}function Ute(e,t){if(1&e&&(E(0,"p"),E(1,"span",5),F(2),ha(3,"usd"),I(),F(4),ha(5,"date"),I()),2&e){var n=ne().$implicit;O(2),Qt("$",da(3,2,n.amount_due),""),O(2),Qt(" due ",da(5,4,1e3*n.due_date)," ")}}function Bte(e,t){if(1&e&&(E(0,"div",2),E(1,"h5"),F(2),ha(3,"date"),I(),q(4,Vte,4,3,"p",0),q(5,Ute,6,6,"p",0),E(6,"p"),E(7,"a",3),F(8,"Full Invoice"),I(),I(),I()),2&e){var n=t.$implicit;O(2),Zf("Invoice ",n.id," ",da(3,5,1e3*n.date),""),O(2),B("ngIf",n.paid),O(1),B("ngIf",!n.paid),O(2),B("href",null==n?null:n.hosted_invoice_url,ua)}}function jte(e,t){1&e&&(E(0,"div"),F(1," No invoices found for this user account. "),I())}function Hte(e,t){if(1&e&&(E(0,"div"),q(1,Bte,9,7,"div",1),q(2,jte,2,0,"div",0),I()),2&e){var n=ne();O(1),B("ngForOf",n.charges),O(1),B("ngIf",!n.charges.length)}}function Gte(e,t){1&e&&(E(0,"div"),ge(1,"loading-spinner"),F(2," Fetching Invoices...\n"),I())}var bF=function(){function e(t,n){this.cd=t,this.pmt=n,this.loading=!0}return e.prototype.ngAfterViewInit=function(){this.getCharges()},e.prototype.getCharges=function(){return Le(this,void 0,void 0,function(){var t,n;return Ve(this,function(i){switch(i.label){case 0:return[4,this.pmt.userInvoices()];case 1:return t=i.sent(),this.setState("charges",(n=t.res)&&n.data),this.setState("loading",!1),[2]}})})},e.prototype.setState=function(t,n){this[t]=n},e.\u0275fac=function(n){return new(n||e)(N(On),N(zc))},e.\u0275cmp=gt({type:e,selectors:[["app-user-charges"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","well payments-charge",4,"ngFor","ngForOf"],[1,"well","payments-charge"],[1,"btn","btn-sm","btn-contrast",3,"href"],[1,"green"],[1,"red"]],template:function(n,r){1&n&&(q(0,Hte,3,2,"div",0),q(1,Gte,3,0,"div",0)),2&n&&(B("ngIf",r.charges),O(1),B("ngIf",r.loading))},directives:[In,xl],pipes:[qm,_F],encapsulation:2}),Qr([Xr(),xe("design:type",Function),xe("design:paramtypes",[Object,Object]),xe("design:returntype",void 0)],e.prototype,"setState",null),e}();function qte(e,t){if(1&e&&(E(0,"span"),F(1),I()),2&e){var n=ne().ngIf;O(1),Qn(n.displayName)}}function $te(e,t){if(1&e&&(E(0,"span"),F(1),I()),2&e){var n=ne().ngIf;O(1),Qn(n.pro_status)}}function Wte(e,t){if(1&e&&(E(0,"span"),F(1),I()),2&e){var n=ne().ngIf;O(1),Qn(n.email)}}function zte(e,t){if(1&e&&(E(0,"span"),ge(1,"img",3),I()),2&e){var n=ne().ngIf;O(1),B("src",n.photoURL||"/img/avatar.png",ua)}}function Kte(e,t){if(1&e&&(E(0,"span",4),F(1),I()),2&e){var n=ne().ngIf;fa("tag-pro",null==n?null:n.is_pro),O(1),Qt(" ",null!=n&&n.is_pro?"pro":"basic"," ")}}function Qte(e,t){1&e&&(E(0,"h3"),F(1,"Your Courses"),I())}function Yte(e,t){if(1&e&&(E(0,"div",9),E(1,"div",10),E(2,"h4"),F(3),I(),I(),I()),2&e){var i,n=ne().$implicit,r=ne(3);O(3),Qn(null==(i=r.planData(n.key))?null:i.description)}}function Jte(e,t){if(1&e&&(E(0,"a",7),q(1,Yte,4,1,"div",8),I()),2&e){var i,n=t.$implicit;B("href",null==(i=ne(3).planData(n.key))?null:i.url,ua),O(1),B("ngIf","proLifetime"!=n)}}function Xte(e,t){if(1&e&&(E(0,"div",5),q(1,Qte,2,0,"h3",0),q(2,Jte,2,2,"a",6),ha(3,"keyvalue"),I()),2&e){var n=ne().ngIf;O(1),B("ngIf",null==n?null:n.products),O(1),B("ngForOf",da(3,2,null==n?null:n.products))}}function Zte(e,t){if(1&e&&(ul(0),q(1,qte,2,1,"span",0),q(2,$te,2,1,"span",0),q(3,Wte,2,1,"span",0),q(4,zte,2,1,"span",0),q(5,Kte,2,3,"span",1),q(6,Xte,4,4,"div",2),ll()),2&e){var n=ne();O(1),B("ngIf","display-name"==n.field),O(1),B("ngIf","pro_status"==n.field),O(1),B("ngIf","email"==n.field),O(1),B("ngIf","photo-url"==n.field),O(1),B("ngIf","is_pro"==n.field),O(1),B("ngIf","products"==n.field)}}var CF=function(){function e(t,n){this.cd=t,this.auth=n}return e.prototype.planData=function(t){var n=Object.keys(jc).find(function(r){return jc[r].sku&&jc[r].sku===t});return jc[n]},e.\u0275fac=function(n){return new(n||e)(N(On),N(Yi))},e.\u0275cmp=gt({type:e,selectors:[["ng-component"]],inputs:{field:"field"},decls:1,vars:1,consts:[[4,"ngIf"],["class","tag tag-sm",3,"tag-pro",4,"ngIf"],["class","row-max-1 pb-1",4,"ngIf"],["onerror","this.onerror=null;this.src='/img/avatar.png';",3,"src"],[1,"tag","tag-sm"],[1,"row-max-1","pb-1"],[3,"href",4,"ngFor","ngForOf"],[3,"href"],["class","box box-sm chapter-item",4,"ngIf"],[1,"box","box-sm","chapter-item"],[1,"box-content"]],template:function(n,r){1&n&&q(0,Zte,7,6,"ng-container",0),2&n&&B("ngIf",r.auth.userDoc)},directives:[In,xl],pipes:[pA],encapsulation:2}),e}();function ene(e,t){if(1&e&&(E(0,"div",5),F(1),I()),2&e){var n=ne().$implicit;O(1),Ng(" ",null==n||null==n.card?null:n.card.brand," ************",null==n||null==n.card?null:n.card.last4," expires ",null==n||null==n.card?null:n.card.exp_month,"/",null==n||null==n.card?null:n.card.exp_year," Status: ",null==n?null:n.status," ")}}function tne(e,t){if(1&e&&(ul(0),q(1,ene,2,5,"div",4),ll()),2&e){var n=t.$implicit,r=ne(2);O(1),B("ngIf",(null==n?null:n.id)===(null==r.customer?null:r.customer.default_source))}}function nne(e,t){1&e&&(E(0,"div"),F(1," No payment sources found on this account "),I())}function rne(e,t){1&e&&ge(0,"payment-form",6)}function ine(e,t){if(1&e){var n=Kt();E(0,"div"),q(1,tne,2,1,"ng-container",1),q(2,nne,2,0,"div",0),E(3,"button",2),Se("click",function(){return zt(n),ne().newSource()}),F(4,"Add/Replace Payment Source"),I(),q(5,rne,1,0,"payment-form",3),I()}if(2&e){var r=ne();O(1),B("ngForOf",r.customer.sources.data),O(1),B("ngIf",!(null!=r.customer&&null!=r.customer.sources&&r.customer.sources.total_count)),O(3),B("ngIf",r.showForm)}}var EF=function(){function e(t,n){this.cd=t,this.pmt=n,this.loading=!0,this.showForm=!1}return e.prototype.ngAfterViewInit=function(){this.getCustomer()},e.prototype.getCustomer=function(){return Le(this,void 0,void 0,function(){var t;return Ve(this,function(i){switch(i.label){case 0:return this.setState("loading",!0),[4,this.pmt.getCustomer()];case 1:return t=i.sent(),this.setState("customer",t.res),this.setState("loading",!1),[2]}})})},e.prototype.newSource=function(){this.setState("showForm",!0)},e.prototype.setState=function(t,n){this[t]=n},e.\u0275fac=function(n){return new(n||e)(N(On),N(zc))},e.\u0275cmp=gt({type:e,selectors:[["ng-component"]],decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"btn","btn-blue",3,"click"],["action","source",4,"ngIf"],["class","well",4,"ngIf"],[1,"well"],["action","source"]],template:function(n,r){1&n&&q(0,ine,6,3,"div",0),2&n&&B("ngIf",r.customer)},directives:[In,xl],encapsulation:2}),Qr([Xr(),xe("design:type",Function),xe("design:paramtypes",[Object,Object]),xe("design:returntype",void 0)],e.prototype,"setState",null),e}();function ane(e,t){1&e&&(E(0,"div",2),E(1,"h3"),F(2,"Fireship.io PRO Lifetime \ud83e\udd84\ud83d\ude80"),I(),E(3,"p"),F(4,"You have full access to all content on Fireship.io "),E(5,"strong"),F(6,"forever"),I(),F(7," (see fine print below) at no additional cost."),I(),E(8,"p",3),F(9,"*Expires at the end of your life (or mine, whichever comes first)"),I(),I())}function sne(e,t){if(1&e&&(E(0,"li"),F(1),ha(2,"date"),I()),2&e){var n=ne().$implicit;O(1),Qt(" Next payment due ",da(2,1,1e3*n.current_period_end)," ")}}function one(e,t){if(1&e){var n=Kt();E(0,"button",9),Se("click",function(){zt(n);var a=ne(2).$implicit;return ne(2).cancel(a.id)}),F(1," Cancel "),I()}2&e&&B("disabled",ne(4).canceling)}function une(e,t){if(1&e&&(E(0,"div"),q(1,one,2,1,"button",7),E(2,"p",8),F(3,"\ud83d\udea8 Cancellation will immediately disable access to PRO content and courses."),I(),I()),2&e){var n=ne().$implicit;O(1),B("ngIf","canceled"!==n.status)}}function lne(e,t){1&e&&(E(0,"span"),F(1,"Canceling PRO membership \ud83d\ude2d"),I())}function cne(e,t){if(1&e&&(E(0,"div"),ge(1,"loading-spinner"),q(2,lne,2,0,"span",1),I()),2&e){var n=ne(3);O(2),B("ngIf",n.canceling)}}function fne(e,t){if(1&e&&(E(0,"div",5),E(1,"h4"),F(2,"PRO Membership"),I(),E(3,"ul"),E(4,"li"),F(5),I(),E(6,"li"),F(7),I(),E(8,"li"),F(9),I(),q(10,sne,3,3,"li",1),I(),q(11,une,4,1,"div",1),q(12,cne,3,1,"div",1),E(13,"p",6),F(14),I(),I()),2&e){var n=t.$implicit,r=ne(2);O(5),Qt("Plan: ",null==n||null==n.plan?null:n.plan.nickname,""),O(2),Qt("Subscription ID ",n.id,""),O(2),Qt("Status: ",n.status,""),O(1),B("ngIf","canceled"!==n.status),O(1),B("ngIf","active"===n.status||"past_due"===n.status),O(1),B("ngIf",r.canceling),O(2),Qn(r.serverError)}}function hne(e,t){1&e&&(E(0,"p"),F(1,"No paid recurring subscriptions found"),I())}function dne(e,t){if(1&e&&(E(0,"div"),q(1,fne,15,7,"div",4),q(2,hne,2,0,"p",1),I()),2&e){var n=ne();O(1),B("ngForOf",n.subs),O(1),B("ngIf",!n.subs.length)}}function pne(e,t){1&e&&(E(0,"div"),ge(1,"loading-spinner"),F(2," Loading membership details...\n"),I())}var IF=function(){function e(t,n,r){var i=this;this.cd=t,this.auth=n,this.pmt=r,this.analytics=iw(),this.loading=!0,this.canceling=!1,this.docSub=this.auth.userDoc$.pipe(Os(function(a){return Le(i,void 0,void 0,function(){var s,u;return Ve(this,function(l){switch(l.label){case 0:return this.userDoc=a,[4,this.pmt.getSubscriptions()];case 1:return s=l.sent(),u=s.serverError,this.subs=s.res.data,this.serverError=u,this.loading=!1,this.cd.detectChanges(),[2]}})})})).subscribe()}return e.prototype.ngOnDestroy=function(){this.docSub.unsubscribe()},e.prototype.total=function(t,n){return this.pmt.calcTotal(t,n)},e.prototype.cancel=function(t){return Le(this,void 0,void 0,function(){return Ve(this,function(r){switch(r.label){case 0:return this.setState("canceling",!0),confirm("Are you sure? You may not be able to reactivate your subscription at the current rate")?[4,this.pmt.cancelSubscription(this.auth.user.uid,t)]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.setState("canceling",!1),Ho(this.analytics,"canceled_membership",{}),[2]}})})},e.prototype.setState=function(t,n){this[t]=n},e.\u0275fac=function(n){return new(n||e)(N(On),N(Yi),N(zc))},e.\u0275cmp=gt({type:e,selectors:[["ng-component"]],decls:3,vars:3,consts:[["class","well",4,"ngIf"],[4,"ngIf"],[1,"well"],[1,"text-sm"],["class","well","style","margin-bottom: 16px;",4,"ngFor","ngForOf"],[1,"well",2,"margin-bottom","16px"],[1,"red"],["class","btn btn-red btn-sm",3,"disabled","click",4,"ngIf"],[1,"orange","text-sm"],[1,"btn","btn-red","btn-sm",3,"disabled","click"]],template:function(n,r){1&n&&(q(0,ane,10,0,"div",0),q(1,dne,3,2,"div",1),q(2,pne,3,0,"div",1)),2&n&&(B("ngIf","lifetime"===(null==r.userDoc?null:r.userDoc.pro_status)),O(1),B("ngIf",r.subs),O(1),B("ngIf",r.loading))},directives:[In,xl],pipes:[qm],encapsulation:2}),Qr([Xr(),xe("design:type",Function),xe("design:paramtypes",[Object,Object]),xe("design:returntype",void 0)],e.prototype,"setState",null),e}(),TF=function(){function e(){}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=gt({type:e,selectors:[["ng-component"]],decls:3,vars:0,consts:[["aria-hidden","true","focusable","false","data-prefix","fas","data-icon","atom-alt","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512",1,"spin","orange"],["fill","currentColor","d","M423.13 56.87C379.1 12.86 300.3 31.62 223.98 79.12 147.66 31.65 68.88 12.94 24.87 56.87c-44 44.01-25.25 122.8 22.25 199.13-47.5 76.33-66.24 155.13-22.25 199.13 41.28 41.28 115.55 29.41 199.13-22.62 83.24 51.81 157.68 64.04 199.13 22.62 44-44.01 25.25-122.8-22.25-199.13 47.51-76.33 66.25-155.13 22.25-199.13zm-353 45.26c4.3-4.28 11.58-6.49 21.24-6.49 18.22 0 45.01 8.04 76 24.4-42.7 35.15-68.32 65.97-79.16 79.13-24.85-47.23-30.43-84.67-18.08-97.04zm0 307.74c-12.35-12.36-6.78-49.81 18.08-97.04 28.82 34.97 53.1 57.38 79.18 78.86-47.35 24.96-84.88 30.57-97.26 18.18zM224 354.93c-44.82-34.14-73.01-64.9-98.92-98.92 17.1-22.45 48.02-60.61 98.93-99.42 50.9 38.8 81.86 77.02 98.92 99.42-34.14 44.81-64.87 72.97-98.93 98.92zm153.87 54.94c-12.4 12.34-49.92 6.75-97.25-18.19 25.98-21.39 50.26-43.76 79.17-78.85 24.85 47.23 30.43 84.68 18.08 97.04zm-18.08-210.7c-10.8-13.12-36.58-44.07-79.16-79.12 31-16.36 57.79-24.4 76-24.4 9.66 0 16.94 2.19 21.24 6.49 12.35 12.36 6.77 49.8-18.08 97.03zM224 223.99c-17.68 0-32.01 14.33-32.01 32.01s14.33 32.01 32.01 32.01 32.01-14.33 32.01-32.01-14.33-32.01-32.01-32.01z"]],template:function(n,r){1&n&&(E(0,"i"),ce.lFrame.currentNamespace=XC,E(1,"svg",0),ge(2,"path",1),I(),I())},encapsulation:2}),e}();function vne(e,t){1&e&&(E(0,"div"),ge(1,"slot"),I())}function gne(e,t){1&e&&(E(0,"div"),ge(1,"slot",1),I())}var DF=function(){function e(t,n,r){this.cd=t,this.auth=n,this.el=r,this.reverse=!1}return e.prototype.ngAfterViewInit=function(){this.el.nativeElement.style.visibility="visible"},Object.defineProperty(e.prototype,"allowed",{get:function(){var t=this.auth.userDoc,n=t&&t.products&&Object.keys(t.products);if(n&&n.includes(this.product))return!0;switch(this.level){case"user":return t;case"pro":return t&&t.is_pro;case"not-pro":return t&&!t.is_pro;case"not-user":return!t;default:return!1}},enumerable:!1,configurable:!0}),e.\u0275fac=function(n){return new(n||e)(N(On),N(Yi),N(Bt))},e.\u0275cmp=gt({type:e,selectors:[["ng-component"]],inputs:{selector:"selector",level:"level",reverse:"reverse",product:"product"},decls:2,vars:2,consts:[[4,"ngIf"],["name","falsey"]],template:function(n,r){1&n&&(q(0,vne,2,0,"div",0),q(1,gne,2,0,"div",0)),2&n&&(B("ngIf",r.allowed),O(1),B("ngIf",!r.allowed))},directives:[In],encapsulation:3}),e}();function mne(e,t){1&e&&(E(0,"p"),F(1," You are logged in as "),E(2,"strong"),ge(3,"user-data",4),I(),I())}function yne(e,t){if(1&e){var n=Kt();E(0,"button",5),Se("click",function(){return zt(n),ne(2).auth.signOut()}),F(1," Signout "),I()}}function _ne(e,t){if(1&e&&(E(0,"div"),q(1,mne,4,0,"p",2),q(2,yne,2,0,"button",3),I()),2&e){var n=ne();O(1),B("ngIf",n.showSignout),O(1),B("ngIf",n.showSignout)}}function kne(e,t){if(1&e){var n=Kt();E(0,"div"),E(1,"h3"),F(2,"Create Account with Email"),I(),E(3,"p"),F(4," Returning user? "),E(5,"button",15),Se("click",function(){return zt(n),ne(2).toggleForm("login")}),F(6,"Login"),I(),I(),I()}}function wne(e,t){if(1&e){var n=Kt();E(0,"div"),E(1,"h3"),F(2,"Login"),I(),E(3,"p"),F(4," No Account? "),E(5,"button",15),Se("click",function(){return zt(n),ne(2).toggleForm("signup")}),F(6,"Sign Up"),I(),I(),I()}}function bne(e,t){1&e&&(E(0,"div"),F(1," Password must be between 6 and 24 characters. "),I())}function Cne(e,t){1&e&&(E(0,"p",21),F(1," mismatch "),I())}function Ene(e,t){if(1&e&&(E(0,"div"),E(1,"label",18),F(2,"Confirm Password"),I(),ge(3,"input",19),q(4,Cne,2,0,"p",20),I()),2&e){var n=ne(3);O(4),B("ngIf",!n.passwordMatch&&n.passwordConfirm.dirty)}}function Ine(e,t){if(1&e&&(E(0,"div"),E(1,"label",16),F(2,"Password"),I(),ge(3,"input",17),q(4,bne,2,0,"div",2),q(5,Ene,5,1,"div",2),I()),2&e){var n=ne(2);O(4),B("ngIf",n.password.invalid&&n.password.dirty),O(1),B("ngIf",n.isSignup)}}function Tne(e,t){1&e&&(E(0,"span"),F(1,"\ud83d\udc4d"),I())}function Dne(e,t){if(1&e&&(E(0,"button",22),F(1),q(2,Tne,2,0,"span",2),I()),2&e){var n=ne(2);B("disabled",!n.form.valid||!n.passwordMatch||n.isLoading),O(1),Qt(" ",n.type," "),O(1),B("ngIf",n.form.valid&&n.passwordMatch)}}function Sne(e,t){1&e&&(E(0,"span"),ge(1,"loading-spinner"),F(2," loading..."),I())}function Ane(e,t){if(1&e){var n=Kt();E(0,"p",15),Se("click",function(){return zt(n),ne(2).toggleForm("reset password")}),F(1," Forgot password? "),I()}}function Rne(e,t){if(1&e){var n=Kt();E(0,"p",15),Se("click",function(){return zt(n),ne(2).resetPassword()}),F(1," Send Reset Email "),I()}}function Nne(e,t){if(1&e){var n=Kt();q(0,kne,7,0,"div",2),q(1,wne,7,0,"div",2),ge(2,"hr"),E(3,"form",6),Se("ngSubmit",function(){return zt(n),ne().onSubmit()}),E(4,"label",7),F(5,"Email"),I(),ge(6,"input",8),q(7,Ine,6,2,"div",2),ge(8,"hr"),E(9,"p",9),F(10),I(),q(11,Dne,3,3,"button",10),q(12,Sne,3,0,"span",2),q(13,Ane,2,0,"p",11),q(14,Rne,2,0,"p",11),I(),E(15,"p",12),F(16,"By signing up you agree to our "),E(17,"a",13),F(18,"Terms of Service"),I(),F(19," and "),E(20,"a",14),F(21,"Privacy Policy"),I(),F(22,". We'll send you account-related emails on rare occasions."),I()}if(2&e){var r=ne();B("ngIf",r.isSignup),O(1),B("ngIf",r.isLogin||r.isReset),O(2),B("formGroup",r.form),O(4),B("ngIf",!r.isReset),O(3),Qn(r.serverError),O(1),B("ngIf",!r.isReset),O(1),B("ngIf",r.isLoading),O(1),B("ngIf",r.isLogin),O(1),B("ngIf",r.isReset&&!r.isLoading)}}var SF=function(){function e(t,n,r){var i=this;this.cd=t,this.fb=n,this.auth=r,this.showSignout=!1,this.type="signup",this.isLoading=!1,this.form=this.fb.group({email:["",[xs.required,xs.email]],password:["",[xs.minLength(6),xs.maxLength(25),xs.required]],passwordConfirm:[""]}),this.formSub=this.form.valueChanges.pipe(Os(function(a){return i.cd.detectChanges()})).subscribe()}return e.prototype.ngAfterViewInit=function(){},Object.defineProperty(e.prototype,"isLogin",{get:function(){return"login"===this.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSignup",{get:function(){return"signup"===this.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isReset",{get:function(){return"reset password"===this.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"passwordMatch",{get:function(){return"signup"!==this.type||this.password.value===this.passwordConfirm.value},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"email",{get:function(){return this.form.get("email")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"password",{get:function(){return this.form.get("password")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"passwordConfirm",{get:function(){return this.form.get("passwordConfirm")},enumerable:!1,configurable:!0}),e.prototype.onSubmit=function(){return Le(this,void 0,void 0,function(){var t,i;return Ve(this,function(a){switch(a.label){case 0:return this.setState("isLoading",!0),this.setState("serverError",null),"login"!==this.type?[3,2]:[4,this.auth.emailLogin(this.email.value,this.password.value)];case 1:t=a.sent(),this.setState("serverError",t.serverError),a.label=2;case 2:return"signup"!==this.type?[3,4]:[4,this.auth.emailSignup(this.email.value,this.password.value)];case 3:i=a.sent(),this.setState("serverError",i.serverError),a.label=4;case 4:return this.setState("isLoading",!1),[2]}})})},e.prototype.resetPassword=function(){return Le(this,void 0,void 0,function(){var t;return Ve(this,function(n){switch(n.label){case 0:this.setState("isLoading",!0),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.auth.resetPassword(this.email.value)];case 2:return n.sent(),this.serverError="Sent! Check your email for instructions",[3,4];case 3:return t=n.sent(),this.serverError=t.message,[3,4];case 4:return this.setState("isLoading",!1),[2]}})})},e.prototype.toggleForm=function(t){this.type=t},e.prototype.setState=function(t,n){this[t]=n},e.prototype.ngOnDestroy=function(){this.formSub.unsubscribe()},e.\u0275fac=function(n){return new(n||e)(N(On),N(dF),N(Yi))},e.\u0275cmp=gt({type:e,selectors:[["ng-component"]],inputs:{showSignout:"showSignout"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["formTemplate",""],[4,"ngIf"],["class","btn btn-sm btn-orange",3,"click",4,"ngIf"],["field","email"],[1,"btn","btn-sm","btn-orange",3,"click"],[1,"login-form",3,"formGroup","ngSubmit"],["for","email"],["type","email","formControlName","email",1,"input"],[1,"red"],["class","btn btn-blue","type","submit",3,"disabled",4,"ngIf"],["class","btn btn-sm",3,"click",4,"ngIf"],[1,"text-sm"],["href","/terms"],["href","/privacy-policy"],[1,"btn","btn-sm",3,"click"],["for","password"],["type","password","formControlName","password","required","",1,"input"],["for","passwordConfirm"],["type","password","formControlName","passwordConfirm",1,"input"],["class","orange",4,"ngIf"],[1,"orange"],["type","submit",1,"btn","btn-blue",3,"disabled"]],template:function(n,r){if(1&n&&(q(0,_ne,3,2,"div",0),q(1,Nne,23,9,"ng-template",null,1,Tl)),2&n){var i=Co(2);B("ngIf",r.auth.user)("ngIfElse",i)}},directives:[In,Ip,mp,wu,Hc,J0,Tp,Dp],encapsulation:2}),Qr([Xr(),xe("design:type",Function),xe("design:paramtypes",[]),xe("design:returntype",Promise)],e.prototype,"resetPassword",null),Qr([Xr(),xe("design:type",Function),xe("design:paramtypes",[Object]),xe("design:returntype",void 0)],e.prototype,"toggleForm",null),Qr([Xr(),xe("design:type",Function),xe("design:paramtypes",[Object,Object]),xe("design:returntype",void 0)],e.prototype,"setState",null),e}(),AF=function(){function e(t,n){var r=this;this.cd=t,this.auth=n,this.visible=!1,this.show=function(){return r.toggle(!0)},this.hide=function(){return r.toggle(!1)},this.sub=this.auth.user$.subscribe(function(i){return i?r.hide():null})}return e.prototype.toggle=function(t){this.visible=t,this.cd.detectChanges()},e.prototype.ngOnDestroy=function(){return this.sub&&this.sub.unsubscribe()},e.\u0275fac=function(n){return new(n||e)(N(On),N(Yi))},e.\u0275cmp=gt({type:e,selectors:[["ng-component"]],inputs:{show:"show",hide:"hide"},decls:15,vars:2,consts:[[1,"modal-overlay"],[1,"login-wrapper","in-modal"],["show-signout","false"],["slot","signin",1,"btn","btn-signin"],["width","24px","src","/img/google-login.svg","alt","google login"],[1,"btn","btn-signin",3,"click"],["width","24px","src","/img/apple-login.svg","alt","apple login"],["type","button",1,"login-close","btn","btn-sm","btn-red",3,"click"]],template:function(n,r){1&n&&(E(0,"div",0),E(1,"div",1),E(2,"google-login",2),E(3,"button",3),E(4,"i"),ge(5,"img",4),I(),F(6," Sign in with Google "),I(),I(),E(7,"button",5),Se("click",function(){return r.auth.appleLogin()}),E(8,"i"),ge(9,"img",6),I(),F(10," Sign in with Apple "),I(),ge(11,"passwordless-login"),ge(12,"hr"),E(13,"button",7),Se("click",function(){return r.hide()}),F(14,"cancel"),I(),I(),I()),2&n&&fa("modal-show",r.visible)},encapsulation:2}),e}();function Mne(e,t){1&e&&(E(0,"div"),F(1," Logged in as "),E(2,"strong"),ge(3,"user-data",2),I(),I())}function Pne(e,t){1&e&&(E(0,"div"),ge(1,"loading-spinner"),F(2," loading..."),I())}function One(e,t){1&e&&(E(0,"div"),F(1,"\ud83d\udce7 Check your email to login"),I())}function Fne(e,t){if(1&e){var n=Kt();E(0,"h3"),F(1,"Create Account with Email"),I(),E(2,"form",3),Se("ngSubmit",function(){return zt(n),ne().onSubmit()}),E(3,"label",4),F(4,"Email"),I(),ge(5,"input",5),E(6,"button",6),F(7,"Get Login Email"),I(),q(8,Pne,3,0,"div",7),q(9,One,2,0,"div",7),I(),E(10,"p",8),F(11,"By signing up you agree to the "),E(12,"a",9),F(13,"Terms of Service"),I(),F(14," and "),E(15,"a",10),F(16,"Privacy Policy"),I(),F(17,". We'll send you account-related emails on rare occasions."),I()}if(2&e){var r=ne();O(2),B("formGroup",r.form),O(4),B("disabled",!r.form.valid||r.isLoading||r.confirmation),O(2),B("ngIf",r.isLoading),O(1),B("ngIf",r.confirmation)}}var Ir,RF=function(){function e(t,n,r){var i=this;this.cd=t,this.fb=n,this.auth=r,this.isLoading=!1,this.confirmation=!1,this.form=this.fb.group({email:["",[xs.required,xs.email]]}),this.formSub=this.form.valueChanges.pipe(Os(function(a){return i.cd.detectChanges()})).subscribe()}return Object.defineProperty(e.prototype,"email",{get:function(){return this.form.get("email")},enumerable:!1,configurable:!0}),e.prototype.onSubmit=function(){return Le(this,void 0,void 0,function(){return Ve(this,function(n){switch(n.label){case 0:return this.setState("isLoading",!0),this.setState("serverError",null),[4,this.auth.sendPasswordlessEmail(this.email.value)];case 1:return n.sent(),this.setState("isLoading",!1),this.setState("confirmation",!0),[2]}})})},e.prototype.setState=function(t,n){this[t]=n},e.\u0275fac=function(n){return new(n||e)(N(On),N(dF),N(Yi))},e.\u0275cmp=gt({type:e,selectors:[["ng-component"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["formTemplate",""],["field","email"],[1,"login-form",3,"formGroup","ngSubmit"],["for","email"],["type","email","formControlName","email",1,"input"],["type","submit",1,"btn","btn-sm",3,"disabled"],[4,"ngIf"],[1,"text-sm"],["href","/terms"],["href","/privacy-policy"]],template:function(n,r){if(1&n&&(q(0,Mne,4,0,"div",0),q(1,Fne,18,4,"ng-template",null,1,Tl)),2&n){var i=Co(2);B("ngIf",r.auth.user)("ngIfElse",i)}},directives:[In,Ip,mp,wu,Hc,J0,Tp],encapsulation:2}),Qr([Xr(),xe("design:type",Function),xe("design:paramtypes",[Object,Object]),xe("design:returntype",void 0)],e.prototype,"setState",null),e}(),NF=function(){function e(t){this.auth=t}return e.prototype.ngAfterViewInit=function(){return Le(this,void 0,void 0,function(){return Ve(this,function(i){switch(i.label){case 0:return[4,this.auth.passwordlessSignin()];case 1:return i.sent(),[2]}})})},e.\u0275fac=function(n){return new(n||e)(N(Yi))},e.\u0275cmp=gt({type:e,selectors:[["ng-component"]],decls:0,vars:0,template:function(n,r){},encapsulation:2}),e}(),xne=function(){function e(t){this.injector=t}return e.prototype.ngDoBootstrap=function(){for(var n=0,r=[[sO,"google-login"],[oO,"theme-btn"],[cO,"lazy-content"],[uO,"route-loader"],[lO,"user-profile"],[fO,"modal-button"],[AF,"login-modal"],[hO,"menu-toggler"],[dO,"app-notification"],[kF,"payment-form"],[wF,"product-select"],[bF,"user-charges"],[CF,"user-data"],[EF,"user-sources"],[IF,"subscription-manage"],[TF,"loading-spinner"],[DF,"allow-if"],[SF,"email-login"],[RF,"passwordless-login"],[NF,"passwordless-handler"]];n<r.length;n++){var i=r[n],s=i[1],o=Z8(i[0],{injector:this.injector});customElements.define(s,o)}},e.\u0275fac=function(n){return new(n||e)(me(bt))},e.\u0275mod=Si({type:e}),e.\u0275inj=Mr({providers:[b8],imports:[[p8,hF]]}),e}();Tn("firebase","9.6.10","app");var MF=new Map,Une={activated:!1,tokenObservers:[]},Bne={initialized:!1,enabled:!1};function Wt(e){return MF.get(e)||Une}function Zr(e,t){MF.set(e,t)}function Ap(){return Bne}var _C="https://content-firebaseappcheck.googleapis.com/v1beta",$ne=function(){function e(t,n,r,i,a){if(m(this,e),this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}return g(e,[{key:"start",value:function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})}},{key:"stop",value:function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}},{key:"isRunning",value:function(){return!!this.pending}},{key:"process",value:(t=b(L.mark(function r(i){return L.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this.stop(),s.prev=1,this.pending=new Bl,s.next=5,Wne(this.getNextRun(i));case 5:return this.pending.resolve(),s.next=8,this.pending.promise;case 8:return this.pending=new Bl,s.next=11,this.operation();case 11:return this.pending.resolve(),s.next=14,this.pending.promise;case 14:this.process(!0).catch(function(){}),s.next=20;break;case 17:s.prev=17,s.t0=s.catch(1),this.retryPolicy(s.t0)?this.process(!1).catch(function(){}):this.stop();case 20:case"end":return s.stop()}},r,this,[[1,17]])})),function(r){return t.apply(this,arguments)})},{key:"getNextRun",value:function(n){if(n)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var r=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),r}}]),e;var t}();function Wne(e){return new Promise(function(t){setTimeout(t,e)})}var zne=(A(Ir={},"already-initialized","You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance."),A(Ir,"use-before-activation","App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services."),A(Ir,"fetch-network-error","Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}."),A(Ir,"fetch-parse-error","Fetch client could not parse response. Original error: {$originalErrorMessage}."),A(Ir,"fetch-status-error","Fetch server returned an HTTP error status. HTTP status: {$httpStatus}."),A(Ir,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),A(Ir,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),A(Ir,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),A(Ir,"recaptcha-error","ReCAPTCHA error."),A(Ir,"throttled","Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"),Ir),nr=new ya("appCheck","AppCheck",zne);function Rp(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?null===(t=self.grecaptcha)||void 0===t?void 0:t.enterprise:self.grecaptcha}function OF(e){if(!Wt(e).activated)throw nr.create("use-before-activation",{appName:e.name})}function Kne(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function FF(e){var t=Math.round(e/1e3),n=Math.floor(t/86400),r=Math.floor((t-3600*n*24)/3600),i=Math.floor((t-3600*n*24-3600*r)/60),a=t-3600*n*24-3600*r-60*i,s="";return n&&(s+=Np(n)+"d:"),r&&(s+=Np(r)+"h:"),s+(Np(i)+"m:")+Np(a)+"s"}function Np(e){return 0===e?"00":e>=10?e.toString():"0"+e}function xF(e,t){return kC.apply(this,arguments)}function kC(){return(kC=b(L.mark(function e(t,n){var r,i,a,s,o,u,l,c,f,h,d;return L.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(r=t.url,i=t.body,a={"Content-Type":"application/json"},!(s=n.getImmediate({optional:!0}))){v.next=8;break}return v.next=6,s.getHeartbeatsHeader();case 6:(o=v.sent)&&(a["X-Firebase-Client"]=o);case 8:return u={method:"POST",body:JSON.stringify(i),headers:a},v.prev=9,v.next=12,fetch(r,u);case 12:l=v.sent,v.next=18;break;case 15:throw v.prev=15,v.t0=v.catch(9),nr.create("fetch-network-error",{originalErrorMessage:v.t0.message});case 18:if(200===l.status){v.next=20;break}throw nr.create("fetch-status-error",{httpStatus:l.status});case 20:return v.prev=20,v.next=23,l.json();case 23:c=v.sent,v.next=29;break;case 26:throw v.prev=26,v.t1=v.catch(20),nr.create("fetch-parse-error",{originalErrorMessage:v.t1.message});case 29:if((f=c.ttl.match(/^([\d.]+)(s)$/))&&f[2]&&!isNaN(Number(f[1]))){v.next=32;break}throw nr.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration "+"format: ".concat(c.ttl)});case 32:return h=1e3*Number(f[1]),d=Date.now(),v.abrupt("return",{token:c.attestationToken,expireTimeMillis:d+h,issuedAtTimeMillis:d});case 35:case"end":return v.stop()}},e,null,[[9,15],[20,26]])}))).apply(this,arguments)}function Qne(e,t){var n=e.options,r=n.projectId,i=n.appId,a=n.apiKey;return{url:"".concat(_C,"/projects/").concat(r,"/apps/").concat(i,":").concat("exchangeRecaptchaToken","?key=").concat(a),body:{recaptcha_token:t}}}function Yne(e,t){var n=e.options,r=n.projectId,i=n.appId,a=n.apiKey;return{url:"".concat(_C,"/projects/").concat(r,"/apps/").concat(i,":").concat("exchangeDebugToken","?key=").concat(a),body:{debug_token:t}}}var Kc="firebase-app-check-store",LF="debug-token",Mp=null;function VF(){return Mp||(Mp=new Promise(function(e,t){try{var n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=function(r){e(r.target.result)},n.onerror=function(r){var i;t(nr.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Kc,{keyPath:"compositeKey"})}}}catch(r){t(nr.create("storage-open",{originalErrorMessage:r.message}))}}))}function Zne(e){return BF(jF(e))}function tre(e){return UF(LF,e)}function nre(){return BF(LF)}function UF(e,t){return wC.apply(this,arguments)}function wC(){return(wC=b(L.mark(function e(t,n){var i,a,s;return L.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,VF();case 2:return i=u.sent.transaction(Kc,"readwrite"),a=i.objectStore(Kc),s=a.put({compositeKey:t,value:n}),u.abrupt("return",new Promise(function(l,c){s.onsuccess=function(f){l()},i.onerror=function(f){var h;c(nr.create("storage-set",{originalErrorMessage:null===(h=f.target.error)||void 0===h?void 0:h.message}))}}));case 7:case"end":return u.stop()}},e)}))).apply(this,arguments)}function BF(e){return bC.apply(this,arguments)}function bC(){return(bC=b(L.mark(function e(t){var r,i,a;return L.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,VF();case 2:return r=o.sent.transaction(Kc,"readonly"),i=r.objectStore(Kc),a=i.get(t),o.abrupt("return",new Promise(function(u,l){a.onsuccess=function(c){var f=c.target.result;u(f?f.value:void 0)},r.onerror=function(c){var f;l(nr.create("storage-get",{originalErrorMessage:null===(f=c.target.error)||void 0===f?void 0:f.message}))}}));case 7:case"end":return o.stop()}},e)}))).apply(this,arguments)}function jF(e){return"".concat(e.options.appId,"-").concat(e.name)}var Qc=new Wl("@firebase/app-check");function CC(){return(CC=b(L.mark(function e(t){var n;return L.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!Wh()){i.next=12;break}return n=void 0,i.prev=2,i.next=5,Zne(t);case 5:n=i.sent,i.next=11;break;case 8:i.prev=8,i.t0=i.catch(2),Qc.warn("Failed to read token from IndexedDB. Error: ".concat(i.t0));case 11:return i.abrupt("return",n);case 12:return i.abrupt("return",void 0);case 13:case"end":return i.stop()}},e,null,[[2,8]])}))).apply(this,arguments)}function HF(e,t){return Wh()?function(e,t){return UF(jF(e),t)}(e,t).catch(function(n){Qc.warn("Failed to write token to IndexedDB. Error: ".concat(n))}):Promise.resolve()}function EC(){return(EC=b(L.mark(function e(){var t,n;return L.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t=void 0,i.prev=1,i.next=4,nre();case 4:t=i.sent,i.next=9;break;case 7:i.prev=7,i.t0=i.catch(1);case 9:if(t){i.next=15;break}return tre(n=Kne()).catch(function(a){return Qc.warn("Failed to persist debug token to IndexedDB. Error: ".concat(a))}),i.abrupt("return",n);case 15:return i.abrupt("return",t);case 16:case"end":return i.stop()}},e,null,[[1,7]])}))).apply(this,arguments)}function GF(){return Ap().enabled}function qF(){return IC.apply(this,arguments)}function IC(){return(IC=b(L.mark(function e(){var t;return L.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(t=Ap()).enabled||!t.token){r.next=5;break}return r.abrupt("return",t.token.promise);case 5:throw Error("\n            Can't get debug token in production mode.\n        ");case 6:case"end":return r.stop()}},e)}))).apply(this,arguments)}function are(){var e=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}(),t=Ap();if(t.initialized=!0,"string"==typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===e.FIREBASE_APPCHECK_DEBUG_TOKEN){t.enabled=!0;var n=new Bl;t.token=n,n.resolve("string"==typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN?e.FIREBASE_APPCHECK_DEBUG_TOKEN:function(){return EC.apply(this,arguments)}())}}var sre={error:"UNKNOWN_ERROR"};function ore(e){return uy.encodeString(JSON.stringify(e),!1)}function Pp(e){return TC.apply(this,arguments)}function TC(){return(TC=b(L.mark(function e(t){var n,r,i,a,s,o,u,l,c,f=arguments;return L.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(n=f.length>1&&void 0!==f[1]&&f[1],OF(r=t.app),i=Wt(r),s=void 0,a=i.token){d.next=11;break}return d.next=9,i.cachedTokenPromise;case 9:(o=d.sent)&&Op(o)&&(a=o);case 11:if(n||!a||!Op(a)){d.next=13;break}return d.abrupt("return",{token:a.token});case 13:if(u=!1,!GF()){d.next=33;break}if(i.exchangeTokenPromise){d.next=26;break}return d.t0=xF,d.t1=Yne,d.t2=r,d.next=21,qF();case 21:d.t3=d.sent,d.t4=(0,d.t1)(d.t2,d.t3),d.t5=t.heartbeatServiceProvider,i.exchangeTokenPromise=(0,d.t0)(d.t4,d.t5).then(function(p){return i.exchangeTokenPromise=void 0,p}),u=!0;case 26:return d.next=28,i.exchangeTokenPromise;case 28:return l=d.sent,d.next=31,HF(r,l);case 31:return Zr(r,Object.assign(Object.assign({},i),{token:l})),d.abrupt("return",{token:l.token});case 33:return d.prev=33,i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(function(p){return i.exchangeTokenPromise=void 0,p}),u=!0),d.next=37,i.exchangeTokenPromise;case 37:a=d.sent,d.next=44;break;case 40:d.prev=40,d.t6=d.catch(33),d.t6.code==="appCheck/".concat("throttled")?Qc.warn(d.t6.message):Qc.error(d.t6),s=d.t6;case 44:if(a){d.next=48;break}c=lre(s),d.next=52;break;case 48:return c={token:a.token},Zr(r,Object.assign(Object.assign({},i),{token:a})),d.next=52,HF(r,a);case 52:return u&&WF(r,c),d.abrupt("return",c);case 54:case"end":return d.stop()}},e,null,[[33,40]])}))).apply(this,arguments)}function DC(e,t,n,r){var i=e.app,a=Wt(i),s={next:n,error:r,type:t};if(Zr(i,Object.assign(Object.assign({},a),{tokenObservers:[].concat(ye(a.tokenObservers),[s])})),a.token&&Op(a.token)){var o=a.token;Promise.resolve().then(function(){n({token:o.token}),$F(e)}).catch(function(){})}a.cachedTokenPromise.then(function(){return $F(e)})}function SC(e,t){var n=Wt(e),r=n.tokenObservers.filter(function(i){return i.next!==t});0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),Zr(e,Object.assign(Object.assign({},n),{tokenObservers:r}))}function $F(e){var t=e.app,n=Wt(t),r=n.tokenRefresher;r||(r=function(e){var t=e.app;return new $ne(b(L.mark(function n(){var i;return L.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(Wt(t).token){s.next=7;break}return s.next=4,Pp(e);case 4:i=s.sent,s.next=10;break;case 7:return s.next=9,Pp(e,!0);case 9:i=s.sent;case 10:if(!i.error){s.next=12;break}throw i.error;case 12:case"end":return s.stop()}},n)})),function(){return!0},function(){var n=Wt(t);if(n.token){var r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(e),Zr(t,Object.assign(Object.assign({},n),{tokenRefresher:r}))),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function WF(e,t){var i,r=W(Wt(e).tokenObservers);try{for(r.s();!(i=r.n()).done;){var a=i.value;try{"EXTERNAL"===a.type&&null!=t.error?a.error(t.error):a.next(t)}catch(s){}}}catch(s){r.e(s)}finally{r.f()}}function Op(e){return e.expireTimeMillis-Date.now()>0}function lre(e){return{token:ore(sre),error:e}}var cre=function(){function e(t,n){m(this,e),this.app=t,this.heartbeatServiceProvider=n}return g(e,[{key:"_delete",value:function(){var a,i=W(Wt(this.app).tokenObservers);try{for(i.s();!(a=i.n()).done;)SC(this.app,a.value.next)}catch(o){i.e(o)}finally{i.f()}return Promise.resolve()}}]),e}();function mre(e,t){var n=Wt(e),r=new Bl;Zr(e,Object.assign(Object.assign({},n),{reCAPTCHAState:{initialized:r}}));var i=function(e){var t="fire_app_check_".concat(e.name),n=document.createElement("div");return n.id=t,n.style.display="none",document.body.appendChild(n),t}(e),a=Rp(!1);return a?Fp(e,t,a,i,r):function(e){var t=document.createElement("script");t.src="https://www.google.com/recaptcha/api.js",t.onload=e,document.head.appendChild(t)}(function(){var s=Rp(!1);if(!s)throw new Error("no recaptcha");Fp(e,t,s,i,r)}),r.promise}function Fp(e,t,n,r,i){n.ready(function(){(function(e,t,n,r){var i=n.render(r,{sitekey:t,size:"invisible"}),a=Wt(e);Zr(e,Object.assign(Object.assign({},a),{reCAPTCHAState:Object.assign(Object.assign({},a.reCAPTCHAState),{widgetId:i})}))})(e,t,n,r),i.resolve(n)})}function yre(e){return AC.apply(this,arguments)}function AC(){return(AC=b(L.mark(function e(t){var n,r;return L.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return OF(t),n=Wt(t).reCAPTCHAState,a.next=4,n.initialized.promise;case 4:return r=a.sent,a.abrupt("return",new Promise(function(s,o){var u=Wt(t).reCAPTCHAState;r.ready(function(){s(r.execute(u.widgetId,{action:"fire_app_check"}))})}));case 6:case"end":return a.stop()}},e)}))).apply(this,arguments)}var bre=function(){function e(t){m(this,e),this._siteKey=t,this._throttleData=null}return g(e,[{key:"getToken",value:(t=b(L.mark(function r(){var i,a,s;return L.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return Ere(this._throttleData),u.next=3,yre(this._app).catch(function(l){throw nr.create("recaptcha-error")});case 3:return a=u.sent,u.prev=4,u.next=7,xF(Qne(this._app,a),this._heartbeatServiceProvider);case 7:s=u.sent,u.next=18;break;case 10:if(u.prev=10,u.t0=u.catch(4),"fetch-status-error"!==u.t0.code){u.next=17;break}throw this._throttleData=Cre(Number(null===(i=u.t0.customData)||void 0===i?void 0:i.httpStatus),this._throttleData),nr.create("throttled",{time:FF(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus});case 17:throw u.t0;case 18:return this._throttleData=null,u.abrupt("return",s);case 20:case"end":return u.stop()}},r,this,[[4,10]])})),function(){return t.apply(this,arguments)})},{key:"initialize",value:function(n){this._app=n,this._heartbeatServiceProvider=Yr(n,"heartbeat"),mre(n,this._siteKey).catch(function(){})}},{key:"isEqual",value:function(n){return n instanceof e&&this._siteKey===n._siteKey}}]),e;var t}();function Cre(e,t){if(404===e||403===e)return{backoffCount:1,allowRequestsAfter:Date.now()+864e5,httpStatus:e};var n=t?t.backoffCount:0,r=dy(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:e}}function Ere(e){if(e&&Date.now()-e.allowRequestsAfter<=0)throw nr.create("throttled",{time:FF(e.allowRequestsAfter-Date.now()),httpStatus:e.httpStatus})}function Tre(e,t,n){var r=Wt(e),i=Object.assign(Object.assign({},r),{activated:!0});i.provider=t,i.cachedTokenPromise=function(e){return CC.apply(this,arguments)}(e).then(function(a){return a&&Op(a)&&(Zr(e,Object.assign(Object.assign({},Wt(e)),{token:a})),WF(e,{token:a.token})),a}),i.isTokenAutoRefreshEnabled=void 0===n?e.automaticDataCollectionEnabled:n,Zr(e,i),i.provider.initialize(e)}var KF="app-check-internal";Jn(new xn("app-check",function(e){return function(e,t){return new cre(e,t)}(e.getProvider("app").getImmediate(),e.getProvider("heartbeat"))},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(e,t,n){e.getProvider(KF).initialize()})),Jn(new xn(KF,function(e){return function(e){return{getToken:function(n){return Pp(e,n)},addTokenListener:function(n){return DC(e,"INTERNAL",n)},removeTokenListener:function(n){return SC(e.app,n)}}}(e.getProvider("app-check").getImmediate())},"PUBLIC").setInstantiationMode("EXPLICIT")),Tn("@firebase/app-check","0.5.5"),function(){if(ES)throw new Error("Cannot enable prod mode after platform setup.");CS=!1}();var QF=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!=typeof t){var n=t;t={name:n}}var r=Object.assign({name:yy,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw _a.create("bad-app-name",{appName:String(i)});var a=ws.get(i);if(a){if(jl(e,a.options)&&jl(r,a.config))return a;throw _a.create("duplicate-app",{appName:i})}var u,s=new S$(i),o=W(Kh.values());try{for(o.s();!(u=o.n()).done;){var l=u.value;s.addComponent(l)}}catch(f){o.e(f)}finally{o.f()}var c=new uW(e,r,s);return ws.set(i,c),c}({apiKey:"AIzaSyBns4UUCKIfb_3xOesTSezA9GbEyuIU7XA",authDomain:"fireship-app.firebaseapp.com",databaseURL:"https://fireship-app.firebaseio.com",projectId:"fireship-app",storageBucket:"fireship-app.appspot.com",messagingSenderId:"176605045081",appId:"1:176605045081:web:d87a63bd943e3032",measurementId:"G-VTJV5CVC6K"});NN(QF),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kl(),t=arguments.length>1?arguments[1]:void 0,n=Yr(e=Ot(e),"app-check");if(Ap().initialized||are(),GF()&&qF().then(function(s){return console.log("App Check debug token: ".concat(s,". You will need to add it to your app's App Check settings in the Firebase console for it to work."))}),n.isInitialized()){var r=n.getImmediate(),i=n.getOptions();if(i.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&i.provider.isEqual(t.provider))return r;throw nr.create("already-initialized",{appName:e.name})}var a=n.initialize({options:t});Tre(e,t.provider,t.isTokenAutoRefreshEnabled),Wt(e).isTokenAutoRefreshEnabled&&DC(a,"INTERNAL",function(){})}(QF,{provider:new bre("6LeswQAeAAAAAJEcDr64c4HiAaHPRYu4mFTqqJdc"),isTokenAutoRefreshEnabled:!0}),h8().bootstrapModule(xne,{ngZone:"noop"}).catch(function(e){return console.error(e)})},8774:function(Dr,dn,Xe){Dr.exports=Xe(5579)}},function(Dr){Dr(Dr.s=2201)}]);